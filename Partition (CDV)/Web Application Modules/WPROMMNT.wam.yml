Wam:
  Name:               WPROMMNT
  Enabled For RDMLX:  Yes

  Multilingual Details:
  - ENG:
      Description:        "Promotions/Discounts Maintenance"

  Source: |
    * **************************************************
    *
    * WAM  WPROMMNT
    * LANSA Commerce Edition
    * Promotions & Discounts module - Admin/Maintenance
    *
    * **************************************************
    Function Options(*DIRECT)
    Begin_Com Role(*EXTENDS #PRIM_WAM) Sessiongroupname('CEADM') Sessiontimeout(0)
    Override Field(#LW3MINAMT) Edit_Code(N)
    Override Field(#LW3MINQTY) Edit_Code(N)
    Override Field(#LW3NUMDAY) Edit_Code(N)
    Override Field(#LW3NUMMTH) Edit_Code(N)
    Override Field(#LW3PCTDIS) Edit_Code(N)
    Override Field(#LW3DOLDIS) Edit_Code(N)
    Override Field(#LW3catid) Edit_Code(N)
    Override Field(#LW3QTY) Edit_Code(N)
    
    Define Field(#W_ADDFLG) Type(*CHAR) Length(1)
    Define Field(#W_ROWNUM) Type(*DEC) Length(4) Decimals(0)
    
    Define Field(#W_EFDATE) Type(*DEC) Length(8) Decimals(0) Desc('''Display Start Date''') Edit_Word('''    /  /  ''')
    Define Field(#W_EXDATE) Type(*DEC) Length(8) Decimals(0) Desc('''Display End Date''') Edit_Word('''    /  /  ''')
    * DEFINE FIELD(#W_EFDATE) TYPE(*DATE)
    * DEFINE FIELD(#W_EXDATE) TYPE(*DATE)
    
    *
    Define Field(#W_PROAAP) Reffld(#LW3PROAAP)
    Define Field(#W_PROSTS) Reffld(#LW3PROSTS)
    Define Field(#W_RLEVEL) Reffld(#LW3RLEVEL)
    Define Field(#W_DTYPE) Reffld(#LW3DTYPE)
    Define Field(#W_MINAMT2) Reffld(#LW3MINAMT)
    Define Field(#W_PROORI) Reffld(#LW3PROORI)
    Define Field(#W_IMLITM) Reffld(#LW3ITEMCD)
    Define Field(#W_IMLITM2) Reffld(#LW3ITEMCD)
    Define Field(#W_IMLITM3) Reffld(#LW3ITEMCD)
    Define Field(#W_CATID2) Reffld(#LW3CATID)
    Define Field(#W_CATID3) Reffld(#LW3CATID)
    Define Field(#W_MINQTY) Reffld(#LW3MINQTY)
    Define Field(#W_MINAMT) Reffld(#LW3MINAMT)
    Define Field(#W_SSHPTP) Reffld(#LW3SSHPTP)
    
    Define Field(#W_OLNTYP) Reffld(#LW3OLNTYP) Desc('Order Line Type')
    Define Field(#W_UOM) Reffld(#LW3UM) Desc('UOM')
    Define Field(#W_MINVAL) Reffld(#LW3PMNVAL) Desc('Minimum Value') Edit_Code(4)
    Define Field(#W_MAXVAL) Reffld(#LW3PMXVAL) Desc('Maximum Value') Edit_Code(4)
    
    * radio button for discount previous D-Day or M-Month
    Define Field(#dityp) Type(*CHAR) Length(1) Desc('discount previous D-Day or M-Month')
    * radio button for discount Item or Item Category
    Define Field(#ddtyp) Type(*CHAR) Length(1) Desc('discount Item or Item Category')
    * radio button for discount Discount Type
    Define Field(#dstyp) Type(*CHAR) Length(1) Desc('discount Dollar or Percent Category')
    Define Field(#W_RLVLDSC) Type(*STRING)
    Define Field(#W_DTYPDSC) Type(*STRING)
    
    Override Field(#W_MINAMT2) Edit_Code(N)
    Override Field(#W_MINQTY) Edit_Code(N)
    
    Define Field(#WK_PROMID) Reffld(#LW3PROMID)
    Define Field(#WK_SFID) Reffld(#LW3SFID)
    
    * ========== PROMOTION MAINTENANCE DROPDOWNS ==========
    * StoreFront Dropdown
    Def_List Name(#sflstw) Fields(#LW3DDDSC #LW3SFID) Type(*WORKING) Entrys(*MAX)
    * Require Promotion Code Dropdown
    Def_List Name(#rqpcdlstw) Fields(#LW3DDDSC #LW3PROAAP) Type(*WORKING) Entrys(*MAX)
    * Promotion Status Dropdown
    Def_List Name(#prstslstw) Fields(#LW3DDDSC #LW3PROSTS) Type(*WORKING) Entrys(*MAX)
    * Promotion Requirements Level Dropdown
    Def_List Name(#preqllstw) Fields(#LW3DDDSC #LW3RLEVEL) Type(*WORKING) Entrys(*MAX)
    * Promotion Discount on Dropdown
    Def_List Name(#pdisclstw) Fields(#LW3DDDSC #LW3DTYPE) Type(*WORKING) Entrys(*MAX)
    * Applies if Origin is
    Def_List Name(#poriglstw) Fields(#LW3DDDSC #LW3PROORI) Type(*WORKING) Entrys(*MAX)
    * Category List
    Def_List Name(#categlstw) Fields(#LW3CATID #LW3CATNAM) Type(*WORKING) Entrys(*MAX)
    * Items List
    Def_List Name(#itemlstw) Fields(#LW3ITEMCD #w_imdsc1) Counter(#STD_NUM) Type(*WORKING) Entrys(*MAX)
    * item list from API
    Def_List Name(#LW3ITML) Fields(#LW3ITEMCD #LW3IDESC) Counter(#LISTCOUNT) Type(*WORKING) Entrys(*MAX)
    * Shipping List
    Def_List Name(#shiplstw) Fields(#LW3SSHPTP #LW3SSHPDS) Type(*WORKING) Entrys(*MAX)
    
    * List of Promotions - header info
    Def_List Name(#promlstw) Fields(#LW3SFID #LW3PROMID #LW3PROCOD #LW3PRONM #LW3PROSTS #LW3PROEFD #LW3PROEXD #LW3PROAAP #LW3PROORI) Type(*WORKING) Entrys(*MAX)
    * List of Promotion Requirements
    Def_List Name(#prorlstw) Fields(#W_RLEVEL #LW3SFID #LW3PROMID #LW3MINAMT #LW3ITEMCD #LW3CATID #LW3MINQTY #LW3NUMDAY #LW3NUMMTH #W_ADDFLG #W_ROWNUM #LW3SEQ #LW3IDESC #lw3catnam #W_RLVLDSC #LW3OLNTYP #LW3UM #LW3PMNVAL #LW3PMXVAL) Type(*WORKING) Entrys(*MAX)
    * List of Promotion Details
    Def_List Name(#prodlstw) Fields(#W_DTYPE #LW3SFID #LW3PROMID #LW3PCTDIS #LW3DOLDIS #LW3ITEMCD #LW3CATID #LW3QTY #LW3FREGFT #LW3SSHPTP #W_ADDFLG #W_ROWNUM #LW3SEQ #LW3IDESC #lw3catnam #W_DTYPDSC) Type(*WORKING) Entrys(*MAX)
    
    Web_Map For(*BOTH) Fields(#lw3mhtml)
    Web_Map For(*INPUT) Fields(#stdadmusr #stdadmses)
    
    * CE General Purpose Library
    Define_Com Class(#CEGPL)
    
    Web_Map For(*BOTH) Fields(#LW3WEBUSR #LW3SFID (#LW3SFCUR *HIDDEN))
    Web_Map For(*OUTPUT) Fields(#S_PARAG #lw3name)
    * multilingual variable list
    Def_List Name(#ls_mlnvar) Fields(#FXVARNAM #FXVARTXT) Type(*WORKING) Entrys(*MAX)
    Web_Map For(*OUTPUT) Fields((#ls_mlnvar *private))
    
    Define Field(#w_sfid2) Reffld(#lw3sfid)
    Define Field(#w_sfnm) Reffld(#lw3name)
    
    Define Field(#w_imdsc1) Type(*CHAR) Length(40)
    
    Define Field(#W_status) Type(*CHAR) Length(2) Desc('Status OK/ER')
    
    Define Field(#W_DTYPE2) Reffld(#W_DTYPE) Desc('Temporary DTYPE')
    Define Field(#W_IMLIT2) Reffld(#W_IMLITM) Desc('Temporary IMLITM')
    
    * Define Field(#W_CODE) Type(*CHAR) Length(1)
    Def_List Name(#LS_ITEMS) Fields((#LW3ITEMCD *HIDDEN)) Type(*WORKING) Entrys(*MAX)
    
    Define Field(#W_PRDTPC) Reffld(#LW3CODE) Desc('Product Type Code')
    Define Field(#W_PRDTPD) Reffld(#LW3CDES) Desc('Product Type Description')
    Def_List Name(#LS_PRODUCTTYPES) Fields(#W_PRDTPC #W_PRDTPD) Type(*WORKING) Entrys(*MAX)
    
    Define Field(#W_UOMCOD) Reffld(#LW3CODE) Desc('UOM Code')
    Define Field(#W_UOMDSC) Reffld(#LW3CDES) Desc('UOM Description')
    Def_List Name(#LS_UOM) Fields(#W_UOMCOD #W_UOMDSC) Type(*WORKING) Entrys(*MAX)
    
    Group_By Name(#XG_JSMSGS) Fields((#W_MSGPRM1 *HIDDEN) (#W_MSGPRM2 *HIDDEN) (#W_MSGPRM3 *HIDDEN) (#W_MSGPRM4 *HIDDEN) (#W_MSGPRM5 *HIDDEN) (#W_MSGPRM6 *HIDDEN) (#W_MSGPRM7 *HIDDEN) (#W_MSGPRM8 *HIDDEN) (#W_MSGPRM9 *HIDDEN) (#W_MSGPR10 *HIDDEN) (#W_MSGPR11 *HIDDEN) (#W_MSGPR12 *HIDDEN) (#W_MSGPR13 *HIDDEN) (#W_MSGPR14 *HIDDEN) (#W_MSGPR15 *HIDDEN) (#W_MSGPR16 *HIDDEN) (#W_MSGPR17 *HIDDEN) (#W_MSGPR18 *HIDDEN) (#W_MSGPR19 *HIDDEN) (#W_MSGPR20 *HIDDEN) (#W_MSGPR21 *HIDDEN) (#W_MSGPR22 *HIDDEN) (#W_MSGPR23 *HIDDEN))
    
    Web_Map For(*BOTH) Fields((#XG_JSMSGS *HIDDEN)) Desc('javaScript Messages')
    
    Webroutine Name(PROMMNT) Desc('Promotions/Discounts Maintenance') Onentry(*SESSIONSTATUS_ACTIVE)
    Web_Map For(*BOTH) Fields((#LW3PROMAC *HIDDEN) (#LW3PROMID *HIDDEN) (#LW3PROCOD *INPUT) (#LW3PRONM *INPUT) (#LW3PROSTS *INPUT) (#LW3NUMDAY *INPUT) (#LW3NUMMTH *INPUT) (#LW3PROAAP *INPUT) (#LW3PROORI *HIDDEN) (#LW3MINAMT *INPUT) (#LW3ITEMCD *INPUT) (#LW3CATID *INPUT) (#LW3MINQTY *INPUT) (#LW3PCTDIS *INPUT) (#LW3DOLDIS *INPUT) (#LW3QTY *INPUT) (#LW3FREGFT *INPUT))
    Web_Map For(*BOTH) Fields((#W_SFID *INPUT) (#W_EFDATE *INPUT) (#W_EXDATE *INPUT) (#W_PROAAP *INPUT) (#W_PROSTS *INPUT) (#W_RLEVEL *INPUT) (#W_DTYPE *INPUT) (#W_IMLITM *INPUT) (#W_IMLITM2 *INPUT) (#W_CATID *INPUT) (#W_CATID2 *INPUT) (#W_MINAMT2 *INPUT) (#W_PROORI *INPUT) (#W_IMLITM3 *INPUT) (#W_CATID3 *INPUT) (#W_MINQTY *INPUT) (#W_SSHPTP *INPUT) (#W_OLNTYP *INPUT) (#W_UOM *INPUT) (#W_MINVAL *INPUT) (#W_MAXVAL *INPUT))
    Web_Map For(*BOTH) Fields((#sflstw *private) (#rqpcdlstw *private) (#prstslstw *private) (#preqllstw *private) (#pdisclstw *private) (#poriglstw *private) (#categlstw *private) (#itemlstw *private) (#shiplstw *private) (#prorlstw *private) (#prodlstw *private))
    Web_Map For(*BOTH) Fields((#W_CODE *HIDDEN) (#LS_ITEMS *HIDDEN))
    Web_Map For(*OUTPUT) Fields((#LS_PRODUCTTYPES *PRIVATE) (#LS_UOM *PRIVATE)) Desc('Product Type Dropdowns')
    
    Execute Subroutine(init_sf)
    
    Call Webroutine(#ADMDYNMNU.bldmenu)
    
    * Message Msgtxt(#W_IMLITM + ' IMLITM')
    
    If Cond(#W_DTYPE <> *BLANKS)
    #W_DTYPE2 := #W_DTYPE
    Endif
    
    * If Cond(#W_IMLITM <> *BLANKS)
    * #W_IMLIT2 := #W_IMLITM
    * Endif
    
    Execute Subroutine(bld_dropd)
    
    If Cond(#W_DTYPE2 <> *BLANKS)
    #W_DTYPE := #W_DTYPE2
    Endif
    
    Execute Subroutine(common)
    * get multi-lingual info
    Execute Subroutine(multi) With_Parms('PROMMNT')
    
    
    #WK_PROMID := #LW3PROMID
    #WK_SFID := #LW3SFID
    
    If Cond(#LW3PROMAC = *BLANKS)
    #W_CODE #W_IMLITM := *BLANKS
    Select Fields(#LW3ITEMCD #W_CODE) From_File(LW3ITEMS) Io_Error(*NEXT) Val_Error(*NEXT)
    
    * Add_Entry To_List(#LS_ITEMS)
    If Cond(#W_CODE = 'Q')
    #LW3PROMAC := *BLANKS
    #W_IMLITM := #LW3ITEMCD
    Endif
    Endselect
    
    Endif
    
    Case Of_Field(#LW3PROMAC)
    
    When Value_Is(= ADD)
    
    #W_status := OK
    Execute Subroutine(ADD_PROM)
    If Cond(#W_status *EQ OK)
    If_Status Is(*OKAY)
    Transfer Toroutine(PROMLST)
    Endif
    Endif
    When Value_Is(= UPDATE)
    
    #W_status := OK
    Execute Subroutine(UPD_PROM)
    If Cond(#W_status *EQ OK)
    * If_Status Is(*OKAY)
    Select Fields(#LW3ITEMCD #W_CODE) From_File(LW3ITEMS01) Io_Error(*NEXT) Val_Error(*NEXT)
    Delete From_File(LW3ITEMS) With_Key(#LW3ITEMCD) Io_Error(*NEXT) Val_Error(*NEXT)
    If_Status Is(*OKAY)
    #W_IMLITM := *BLANKS
    Endif
    Endselect
    Execute Subroutine(GET_PROM)
    * Endif
    Endif
    When Value_Is(= DELETE)
    
    #LW3PROMAC := 'DELETE_REQUESTED'
    Transfer Toroutine(wrDeletePromotion)
    
    Otherwise
    
    If Cond((#LW3SFID ¬= 0) *And (#LW3PROMID ¬= 0))
    
    Execute Subroutine(GET_PROM)
    Else
    * #W_EFDATE := #W_EFDATE.now
    * #W_EXDATE := #W_EXDATE.Now
    #W_EFDATE := #YYYYMMDD
    #W_EXDATE := #YYYYMMDD
    Endif
    Endcase
    
    * If Cond(#W_IMLIT2 <> *BLANKS)
    * #W_IMLITM := #W_IMLIT2
    * Endif
    
    Execute Subroutine(GET_ALRTM)
    
    Endroutine
    
    Webroutine Name(PROMLST) Desc('Promotions/Discounts List') Onentry(*SESSIONSTATUS_ACTIVE)
    Web_Map For(*BOTH) Fields((#promlstw *private))
    Web_Map For(*BOTH) Fields(#w_sfid #wrname #sfselflg)
    Web_Map For(*OUTPUT) Fields(#lw3utyp)
    
    Execute Subroutine(init_sf)
    
    Call Webroutine(#ADMDYNMNU.bldmenu)
    Execute Subroutine(common)
    * get multi-lingual info
    Execute Subroutine(multi) With_Parms('PROMLST')
    
    #wrname := 'promlst'
    #sfselflg := *blank
    
    
    If Cond(#w_sfid *EQ *zero)
    #w_sfid := #lw3sfid
    Endif
    
    Clr_List Named(#promlstw)
    Select Fields(#promlstw) From_File(LW3PROMH) With_Key(#LW3SFID) Io_Error(*NEXT) Val_Error(*NEXT)
    * get multilingual name
    Fetch Fields(#LW3PRONM) From_File(LW3PROML) With_Key(#LW3SFID #LW3PROMID *LANGUAGE) Io_Error(*NEXT) Val_Error(*NEXT)
    *
    Add_Entry To_List(#promlstw)
    *
    Endselect
    #lw3utyp := P
    
    Select Fields(#LW3ITEMCD #W_CODE) From_File(LW3ITEMS01) Io_Error(*NEXT) Val_Error(*NEXT)
    
    Delete From_File(LW3ITEMS) With_Key(#LW3ITEMCD) Io_Error(*NEXT) Val_Error(*NEXT)
    If_Status Is(*OKAY)
    Use Builtin(CLR_MESSAGES)
    Endif
    
    Endselect
    Endroutine
    
    * Confirm Delete, if confirmed, delete selected promotion
    Webroutine Name(wrDeletePromotion) Desc('Delete Selected Promotion') Onentry(*SESSIONSTATUS_ACTIVE)
    Web_Map For(*BOTH) Fields((#LW3PROMAC *HIDDEN) #LW3PROMID #LW3PROCOD #LW3PRONM (#LW3PROSTS *INPUT) (#LW3NUMDAY *INPUT) (#LW3NUMMTH *INPUT) (#LW3PROAAP *INPUT) (#LW3PROORI *HIDDEN) (#LW3MINAMT *INPUT) (#LW3ITEMCD *INPUT) (#LW3CATID *INPUT) (#LW3MINQTY *INPUT) (#LW3PCTDIS *INPUT) (#LW3DOLDIS *INPUT) (#LW3QTY *INPUT) (#LW3FREGFT *INPUT))
    Web_Map For(*BOTH) Fields((#W_SFID *INPUT) (#W_EFDATE *INPUT) (#W_EXDATE *INPUT) (#W_PROAAP *INPUT) (#W_PROSTS *INPUT) (#W_RLEVEL *INPUT) (#W_DTYPE *INPUT) (#W_IMLITM *INPUT) (#W_IMLITM2 *INPUT) (#W_CATID *INPUT) (#W_CATID2 *INPUT) (#W_MINAMT2 *INPUT) (#W_PROORI *INPUT) (#W_IMLITM3 *INPUT) (#W_CATID3 *INPUT) (#W_MINQTY *INPUT) (#W_SSHPTP *INPUT))
    Web_Map For(*BOTH) Fields(#wrname #sfselflg)
    
    Execute Subroutine(init_sf)
    
    Call Webroutine(#ADMDYNMNU.bldmenu)
    Execute Subroutine(common)
    Execute Subroutine(bld_dropd)
    * get multi-lingual info
    Execute Subroutine(multi) With_Parms('WRDELETEPROMOTION')
    
    #wrname := 'promlst'
    #sfselflg := *blank
    
    Case Of_Field(#LW3PROMAC)
    When Value_Is(*EQ 'DELETE_REQ')
    * DELETE REQUESTED
    * Confirm the delete.
    Fetch Fields(#LW3PROCOD #LW3PRONM) From_File(LW3PROMH) With_Key(#LW3SFID #LW3PROMID) Io_Error(*NEXT) Val_Error(*NEXT)
    * get multilingual name
    Fetch Fields(#LW3PRONM) From_File(LW3PROML) With_Key(#LW3SFID #LW3PROMID *LANGUAGE) Io_Error(*NEXT) Val_Error(*NEXT)
    
    When Value_Is(*EQ 'DELETE_CNF')
    * DELETE CONFIRMED
    * Execute the deletion.
    Execute Subroutine(DEL_PROM)
    * Go back to the list
    If_Status Is(*OKAY)
    Transfer Toroutine(PROMLST)
    Endif
    
    When Value_Is(*EQ 'DELETE_REJ')
    * DELETE REJECTED
    * User doesn't want to delete after all. Return to Promo list.
    Transfer Toroutine(PROMLST)
    
    Otherwise
    * Unknown state - return to Promo list.
    Transfer Toroutine(PROMLST)
    Endcase
    Endroutine
    
    * AJAX item validation
    Webroutine Name(AJAX_validateItem)
    Web_Map For(*INPUT) Fields(#stdsessid #W_IMLITM2)
    Web_Map For(*OUTPUT) Fields(#WL_itmno)
    
    Clr_List Named(#WL_itmno)
    * List for previous customer
    Def_List Name(#WL_itmno) Fields(#lw3itemcd) Counter(#LISTCOUNT) Type(*WORKING) Entrys(*MAX)
    Execute Subroutine(common)
    * get multi-lingual info
    Execute Subroutine(multi) With_Parms('AJAX_VALIDATEITEM')
    
    #lw3itemcd := '12345' + #W_IMLITM2
    Add_Entry To_List(#WL_itmno)
    
    If Cond(#W_IMLITM2 *NE *BLANKS)
    
    #FXSQL := "LW3ITEMCD LIKE %%'" + #W_IMLITM2.Trim.UpperCase + "%%'"
    
    * SELECT_SQL FIELDS(#lw3itemcd) FROM_FILES((LW3C03)) WHERE(#FXSQL) ORDER_BY('LW3ITEMCD') DISTINCT(*YES)
    #lw3itemcd := '12345'
    Add_Entry To_List(#WL_itmno)
    #lw3itemcd := '67890'
    Add_Entry To_List(#WL_itmno)
    #listcount := *zero
    Select Fields(#lw3itemcd) From_File(Lw3c03) Io_Error(*NEXT) Val_Error(*NEXT)
    Add_Entry To_List(#WL_itmno)
    #listcount += 1
    Leave If(#LISTCOUNT *GE 5)
    
    Endselect
    Endif
    
    Endroutine
    
    Webroutine Name(AJAX_REMOVE_ITEM)
    Web_Map For(*BOTH) Fields(#prorlstw #LW3LCOUNT)
    * DEFINE #LW3LCOUNT *DEC 3 0
    #w_sfid2 := #lw3sfid
    Get_Entry Number(#LW3LCOUNT) From_List(#prorlstw)
    #LW3SFID := #w_sfid2
    Execute Subroutine(common)
    * get multi-lingual info
    Execute Subroutine(multi) With_Parms('AJAX_REMOVE_ITEM')
    
    Case Of_Field(#W_RLEVEL)
    When Value_Is('= ''O''')
    Fetch Fields(#LW3SFID) From_File(LW3PRORO) With_Key(#LW3SFID #LW3PROMID #LW3SEQ) Io_Error(*NEXT) Val_Error(*NEXT)
    If_Status Is(*OKAY)
    Delete From_File(LW3PRORO) Io_Error(*NEXT) Val_Error(*NEXT)
    Endif
    When Value_Is('= ''I''' '= ''C''')
    Fetch Fields(#LW3SFID) From_File(LW3PRORP) With_Key(#LW3SFID #LW3PROMID #LW3SEQ) Io_Error(*NEXT) Val_Error(*NEXT)
    If_Status Is(*OKAY)
    Delete From_File(LW3PRORP) Io_Error(*NEXT) Val_Error(*NEXT)
    Endif
    When Value_Is('= ''U''')
    Fetch Fields(#LW3SFID) From_File(LW3PRORU) With_Key(#LW3SFID #LW3PROMID #LW3SEQ) Io_Error(*NEXT) Val_Error(*NEXT)
    If_Status Is(*OKAY)
    Delete From_File(LW3PRORU) Io_Error(*NEXT) Val_Error(*NEXT)
    Endif
    * Order Line Type
    When Value_Is(= 'P')
    Fetch Fields(#LW3SFID) From_File(LW3PRORT) With_Key(#LW3SFID #LW3PROMID #LW3SEQ) Io_Error(*NEXT) Val_Error(*NEXT)
    If_Status Is(*OKAY)
    Delete From_File(LW3PRORT) Io_Error(*NEXT) Val_Error(*NEXT)
    Endif
    Endcase
    Endroutine
    
    Webroutine Name(AJAX_REMOVE_DITEM)
    Web_Map For(*BOTH) Fields(#prodlstw #LW3LCOUNT)
    * DEFINE #LW3LCOUNT *DEC 3 0
    #w_sfid2 := #lw3sfid
    Get_Entry Number(#LW3LCOUNT) From_List(#prodlstw)
    #LW3SFID := #w_sfid2
    Execute Subroutine(common)
    * get multi-lingual info
    Execute Subroutine(multi) With_Parms('AJAX_REMOVE_DITEM')
    
    Fetch Fields(#LW3SFID) From_File(LW3PROMD) With_Key(#LW3SFID #LW3PROMID #LW3SEQ) Io_Error(*NEXT) Val_Error(*NEXT)
    
    If_Status Is(*OKAY)
    Delete From_File(LW3PROMD) Io_Error(*NEXT) Val_Error(*NEXT)
    Endif
    
    Endroutine
    
    * Build dropdown lists
    Subroutine Name(bld_dropd)
    
    #w_sfid2 := #LW3SFID
    #w_sfid := #LW3SFID
    
    * "StoreFront" Dropdown
    Clr_List Named(#sflstw)
    Select Fields(#LW3SFID #LW3NAME) From_File(LW3SFRNT) With_Key(#LW3SFID) Io_Error(*NEXT) Val_Error(*NEXT)
    Fetch Fields(#LW3NAME) From_File(lw3sfml) With_Key(#LW3SFID *LANGUAGE) Io_Error(*NEXT) Val_Error(*NEXT)
    #LW3DDDSC := #LW3NAME
    Add_Entry To_List(#sflstw)
    Endselect
    #lw3sfid := #w_sfid2
    
    * "Global?" Dropdown
    Clr_List Named(#rqpcdlstw)
    #rqpcdlstw := *NULL
    Add_Entry To_List(#rqpcdlstw)
    Select Fields(#LW3CODE #LW3CDES) From_File(LW3CODL4) With_Key('PROAAP' *LANGUAGE) Io_Error(*NEXT) Val_Error(*NEXT)
    Continue If(#LW3CODE.trim *EQ '#')
    #LW3DDDSC := #LW3CDES
    #LW3PROAAP := #LW3CODE
    Add_Entry To_List(#rqpcdlstw)
    Endselect
    
    * "Status" Dropdown
    Clr_List Named(#prstslstw)
    Select Fields(#LW3CODE #LW3CDES) From_File(LW3CODL4) With_Key('PROSTS' *LANGUAGE) Io_Error(*NEXT) Val_Error(*NEXT)
    Continue If(#LW3CODE.trim *EQ '#')
    #LW3DDDSC := #LW3CDES
    #LW3PROSTS := #LW3CODE
    Add_Entry To_List(#prstslstw)
    Endselect
    
    * "Origin" Dropdown
    Clr_List Named(#poriglstw)
    Select Fields(#LW3CODE #LW3CDES) From_File(LW3CODL4) With_Key('PROORI' *LANGUAGE) Io_Error(*NEXT) Val_Error(*NEXT)
    Continue If(#LW3CODE.trim *EQ '#')
    #LW3DDDSC := #LW3CDES
    #LW3PROORI := #LW3CODE
    Add_Entry To_List(#poriglstw)
    Endselect
    
    * Requirement "Level" Dropdown
    Clr_List Named(#preqllstw)
    Select Fields(#LW3CODE #LW3CDES) From_File(LW3CODL4) With_Key('RLEVEL' *LANGUAGE) Io_Error(*NEXT) Val_Error(*NEXT)
    Continue If(#LW3CODE.trim *EQ '#')
    #LW3DDDSC := #LW3CDES
    #LW3RLEVEL := #LW3CODE
    Add_Entry To_List(#preqllstw)
    Endselect
    
    If Cond(#W_RLEVEL = *BLANKS)
    Get_Entry Number(1) From_List(#preqllstw)
    If_Status Is(*OKAY)
    #W_RLEVEL := #LW3RLEVEL
    Endif
    Endif
    
    * "Discount on" Dropdown
    Clr_List Named(#pdisclstw)
    Select Fields(#LW3CODE #LW3CDES) From_File(LW3CODL4) With_Key('DTYPE' *LANGUAGE) Io_Error(*NEXT) Val_Error(*NEXT)
    Continue If(#LW3CODE.trim *EQ '#')
    #LW3DDDSC := #LW3CDES
    #LW3DTYPE := #LW3CODE
    Add_Entry To_List(#pdisclstw)
    Endselect
    
    * "Category" Dropdown
    Clr_List Named(#categlstw)
    #LW3CATID #LW3CATNAM := *NULL
    Add_Entry To_List(#categlstw)
    Select Fields(#LW3CATID #LW3CATNAM) From_File(LW3C01) With_Key(#W_SFID) Io_Error(*NEXT) Val_Error(*NEXT)
    Fetch Fields(#LW3CATNAM) From_File(LW3C01ML) With_Key(#W_SFID #LW3CATID *LANGUAGE) Io_Error(*NEXT) Val_Error(*NEXT)
    Add_Entry To_List(#categlstw)
    Endselect
    
    * "Item" Dropdown
    Exchange Fields(#lw3sfid)
    Call Process(*DIRECT) Function(LW3PITM) Exit_Used(*NEXT) Menu_Used(*NEXT) Num_Len(*DEFINED) If_Error(*NEXT) Pass_Lst(#LW3ITML)
    
    Clr_List Named(#itemlstw)
    #LW3ITEMCD := *blank
    #LW3VARTXT := '--- Select ---'
    Fetch Fields(#LW3VARTXT) From_File(lw3mlnvar) With_Key('LBL_DD_SELECT' *LANGUAGE) Io_Error(*NEXT) Val_Error(*NEXT)
    #w_imdsc1 := #LW3VARTXT
    Add_Entry To_List(#itemlstw)
    
    Selectlist Named(#LW3ITML)
    #w_imdsc1 := #LW3ITEMCD + ' - ' + #LW3IDESC
    Add_Entry To_List(#itemlstw)
    Endselect
    
    * "Shipping" Dropdown
    Clr_List Named(#shiplstw)
    Select Fields(#LW3SSHPTP #LW3SSHPDS) From_File(LW3SSHPR) Io_Error(*NEXT) Val_Error(*NEXT)
    Fetch Fields(#LW3SSHPDS) From_File(LW3SHPML) With_Key(#LW3SSHPTP *LANGUAGE) Io_Error(*NEXT) Val_Error(*NEXT)
    Add_Entry To_List(#shiplstw)
    Endselect
    
    * Order Line Type Dropdown
    Clr_List Named(#LS_PRODUCTTYPES)
    * Select Fields(#LW3CODE #LW3CDES) From_File(LW3CODL5) Where((#LW3CODE <> '#') And (#LW3CODE <> 'PM') And (#LW3CODE <> 'SW')) With_Key('OLNTYP') Io_Error(*NEXT) Val_Error(*NEXT)
    Select Fields(#LW3CODE #LW3CDES) From_File(LW3CODL5) Where((#LW3CODE <> '#') And (#LW3CODE <> 'SW')) With_Key('OLNTYP') Io_Error(*NEXT) Val_Error(*NEXT)
    #W_PRDTPC := #LW3CODE
    #W_PRDTPD := #LW3CDES
    Add_Entry To_List(#LS_PRODUCTTYPES)
    Endselect
    
    * UOM Dropdown
    Clr_List Named(#LS_UOM)
    Select Fields(#LW3CODE #LW3CDES) From_File(LW3CODL5) With_Key('UOMCOD') Io_Error(*NEXT) Val_Error(*NEXT)
    Continue If(#LW3CODE.trim *EQ '#')
    #W_UOMCOD := #LW3CODE
    #W_UOMDSC := #LW3CDES
    Add_Entry To_List(#LS_UOM)
    Endselect
    
    Endroutine
    
    * **************************************************
    * Name: ADD_PROM
    * Description: Add a promotion to the module
    * **************************************************
    Subroutine Name(ADD_PROM)
    
    * Clear num day / num mth if not a user level discount
    If Cond(#W_RLEVEL ¬= U)
    #LW3NUMDAY := 0
    #LW3NUMMTH := 0
    Endif
    
    * 1. Add to header (LW3PROMH)
    * Get next promotion id
    #LW3PROMID := *NULL
    Select Fields(#LW3PROMID) From_File(LW3PROMH) With_Key(#LW3SFID) Io_Error(*NEXT) Val_Error(*NEXT) Options(*BACKWARDS)
    Leave
    Endselect
    #LW3PROMID := #LW3PROMID + 1
    #WK_PROMID := #LW3PROMID
    #LW3PROAAP := #W_PROAAP
    #LW3PROSTS := #W_PROSTS
    * #LW3PROEFD := #W_EFDATE.AsNumber( CCYYMMDD )
    * #LW3PROEXD := #W_EXDATE.AsNumber( CCYYMMDD )
    #LW3PROEFD := #W_EFDATE
    #LW3PROEXD := #W_EXDATE
    #LW3PROORI := #W_PROORI
    If Cond(#LW3PROAAP = Y)
    #LW3PROCOD := *NULL
    Endif
    
    Insert Fields(#LW3SFID #LW3PROMID #LW3PROCOD #LW3PRONM #LW3PROSTS #LW3PROEFD #LW3PROEXD #LW3NUMDAY #LW3NUMMTH #LW3PROAAP #LW3PROORI) To_File(LW3PROMH) Io_Error(*NEXT) Val_Error(*NEXT)
    If_Status Is_Not(*OKAY)
    * MESSAGE MSGTXT('Insert to Promotion Header failed')
    * multilingual message
    Execute Subroutine(srMLMSG) With_Parms('MSG_LW32501')
    Return
    Endif
    
    #LW3LNGCOD := *LANGUAGE
    Insert Fields(*ALL) To_File(LW3PROML) Io_Error(*NEXT) Val_Error(*NEXT)
    
    #LW3PROMAC := *null
    * MESSAGE MSGTXT('Please specify information for Discount Criteria')
    * multilingual message
    Execute Subroutine(srMLMSG) With_Parms('MSG_LW32502')
    Transfer Toroutine(PROMMNT)
    
    * 2. Determine requirement type
    #STD_NUM := *NULL
    Selectlist Named(#prorlstw)
    Continue If(#W_ADDFLG *NE Y)
    #STD_NUM := #STD_NUM + 1
    #LW3SEQ := #STD_NUM
    #LW3PROMID := #WK_PROMID
    #LW3SFID := #WK_SFID
    
    Case Of_Field(#W_RLEVEL)
    When Value_Is(= O)
    * 2a. Order - add to order requirement (LW3PRORO)
    Insert Fields(#LW3SFID #LW3PROMID #LW3SEQ #LW3MINAMT) To_File(LW3PRORO) Io_Error(*NEXT) Val_Error(*NEXT)
    If_Status Is_Not(*OKAY)
    * MESSAGE MSGTXT("Insert to Promotion Requirement - Order failed")
    * multilingual message
    Execute Subroutine(srMLMSG) With_Parms('MSG_LW32503')
    Delete From_File(LW3PROMH) With_Key(#LW3SFID #LW3PROMID) Io_Error(*NEXT) Val_Error(*NEXT)
    Delete From_File(LW3PROML) With_Key(#LW3SFID #LW3PROMID) Io_Error(*NEXT) Val_Error(*NEXT)
    Return
    Endif
    When Value_Is(= I)
    
    * EXCHANGE FIELDS(In)
    * #FXACTION  - Action code - C = Check_for, G = Get item master
    * #LW3ITEMCD - Item code
    #FXACTION := C
    Exchange Fields(#FXACTION #LW3ITEMCD)
    Call Process(*DIRECT) Function(lw3aitm) If_Error(*NEXT)
    * EXCHANGE FIELDS(Out)
    * #LW3IDESC - Item Description
    * *FXUM     - Unit of measure
    * #FXRETCD  - Return code - OK or NR
    If Cond(#FXRETCD *EQ OK)
    * 2b. Item - add to product requirement (LW3PRORP)
    Insert Fields(#LW3SFID #LW3PROMID #LW3SEQ #LW3ITEMCD #LW3MINQTY) To_File(LW3PRORP) Io_Error(*NEXT) Val_Error(*NEXT)
    If_Status Is_Not(*OKAY)
    * MESSAGE MSGTXT("Insert to Promotion Requirement - Product failed")
    * multilingual message
    Execute Subroutine(srMLMSG) With_Parms('MSG_LW32504')
    Delete From_File(LW3PROMH) With_Key(#LW3SFID #LW3PROMID) Io_Error(*NEXT) Val_Error(*NEXT)
    Delete From_File(LW3PROML) With_Key(#LW3SFID #LW3PROMID) Io_Error(*NEXT) Val_Error(*NEXT)
    Return
    Endif
    Else
    * MESSAGE MSGTXT('Item ' + #lw3itemcd + ' is not valid and was not added as a requirement.')
    * multilingual message
    #LW3MSGSUB := #LW3ITEMCD
    Execute Subroutine(srMLMSG) With_Parms('MSG_LW32505')
    #W_status := ER
    Dlt_Entry From_List(#prorlstw)
    Continue
    Endif
    
    When Value_Is(= C)
    * 2b. Category - add to product requirement (LW3PRORP)
    Insert Fields(#LW3SFID #LW3PROMID #LW3SEQ #LW3CATID #LW3MINQTY) To_File(LW3PRORP) Io_Error(*NEXT) Val_Error(*NEXT)
    If_Status Is_Not(*OKAY)
    * MESSAGE MSGTXT("Insert to Promotion Requirement - Category failed")
    * multilingual message
    Execute Subroutine(srMLMSG) With_Parms('MSG_LW32506')
    Delete From_File(LW3PROMH) With_Key(#LW3SFID #LW3PROMID) Io_Error(*NEXT) Val_Error(*NEXT)
    Delete From_File(LW3PROML) With_Key(#LW3SFID #LW3PROMID) Io_Error(*NEXT) Val_Error(*NEXT)
    Return
    Endif
    When Value_Is(= U)
    * 2d. User - add to user requirement (LW3PRORU)
    Insert Fields(#LW3SFID #LW3PROMID #LW3SEQ #LW3MINAMT #LW3ITEMCD #LW3CATID #LW3MINQTY #LW3NUMDAY #LW3NUMMTH) To_File(LW3PRORU) Io_Error(*NEXT) Val_Error(*NEXT)
    If_Status Is_Not(*OKAY)
    * MESSAGE MSGTXT("Insert to Promotion Requirement - User failed")
    * multilingual message
    Execute Subroutine(srMLMSG) With_Parms('MSG_LW32507')
    Delete From_File(LW3PROMH) With_Key(#LW3SFID #LW3PROMID) Io_Error(*NEXT) Val_Error(*NEXT)
    Delete From_File(LW3PROML) With_Key(#LW3SFID #LW3PROMID) Io_Error(*NEXT) Val_Error(*NEXT)
    Return
    Endif
    Otherwise
    * MESSAGE MSGTXT('No requirements added')
    * multilingual message
    Execute Subroutine(srMLMSG) With_Parms('MSG_LW32508')
    Endcase
    Endselect
    
    * 3. Add to detail (LW3PROMD)
    #STD_NUM := *NULL
    Selectlist Named(#prodlstw)
    Continue If(#W_ADDFLG *NE Y)
    #STD_NUM := #STD_NUM + 1
    #LW3SEQ := #STD_NUM
    #LW3PROMID := #WK_PROMID
    #LW3SFID := #WK_SFID
    
    
    Case Of_Field(#W_DTYPE)
    When Value_Is(= O)
    
    Insert Fields(#LW3SFID #LW3PROMID #LW3SEQ #LW3PCTDIS #LW3DOLDIS) To_File(LW3PROMD) Io_Error(*NEXT) Val_Error(*NEXT)
    If_Status Is_Not(*OKAY)
    * MESSAGE MSGTXT("Insert to Promotion Detail failed")
    * multilingual message
    Execute Subroutine(srMLMSG) With_Parms('MSG_LW32509')
    Delete From_File(LW3PRORO) With_Key(#LW3SFID #LW3PROMID) Io_Error(*NEXT) Val_Error(*NEXT)
    Delete From_File(LW3PRORP) With_Key(#LW3SFID #LW3PROMID) Io_Error(*NEXT) Val_Error(*NEXT)
    Delete From_File(LW3PRORU) With_Key(#LW3SFID #LW3PROMID) Io_Error(*NEXT) Val_Error(*NEXT)
    Delete From_File(LW3PRORT) With_Key(#LW3SFID #LW3PROMID) Io_Error(*NEXT) Val_Error(*NEXT)
    Delete From_File(LW3PROMH) With_Key(#LW3SFID #LW3PROMID) Io_Error(*NEXT) Val_Error(*NEXT)
    Delete From_File(LW3PROML) With_Key(#LW3SFID #LW3PROMID) Io_Error(*NEXT) Val_Error(*NEXT)
    Return
    Endif
    When Value_Is(= I)
    
    * EXCHANGE FIELDS(In)
    * #FXACTION  - Action code - C = Check_for, G = Get item master
    * #LW3ITEMCD - Item code
    #FXACTION := C
    Exchange Fields(#FXACTION #LW3ITEMCD)
    Call Process(*DIRECT) Function(lw3aitm) If_Error(*NEXT)
    * EXCHANGE FIELDS(Out)
    * #LW3IDESC - Item Description
    * *FXUM     - Unit of measure
    * #FXRETCD  - Return code - OK or NR
    If Cond(#FXRETCD *EQ OK)
    Insert Fields(#LW3SFID #LW3PROMID #LW3SEQ #LW3PCTDIS #LW3DOLDIS #LW3ITEMCD #LW3QTY #LW3FREGFT) To_File(LW3PROMD) Io_Error(*NEXT) Val_Error(*NEXT)
    If_Status Is_Not(*OKAY)
    * MESSAGE MSGTXT("Insert to Promotion Detail failed")
    * multilingual message
    Execute Subroutine(srMLMSG) With_Parms('MSG_LW32510')
    Delete From_File(LW3PRORO) With_Key(#LW3SFID #LW3PROMID) Io_Error(*NEXT) Val_Error(*NEXT)
    Delete From_File(LW3PRORP) With_Key(#LW3SFID #LW3PROMID) Io_Error(*NEXT) Val_Error(*NEXT)
    Delete From_File(LW3PRORU) With_Key(#LW3SFID #LW3PROMID) Io_Error(*NEXT) Val_Error(*NEXT)
    Delete From_File(LW3PRORT) With_Key(#LW3SFID #LW3PROMID) Io_Error(*NEXT) Val_Error(*NEXT)
    Delete From_File(LW3PROMH) With_Key(#LW3SFID #LW3PROMID) Io_Error(*NEXT) Val_Error(*NEXT)
    Delete From_File(LW3PROML) With_Key(#LW3SFID #LW3PROMID) Io_Error(*NEXT) Val_Error(*NEXT)
    Return
    Endif
    Else
    * MESSAGE MSGTXT('Item ' + #lw3itemcd + ' is not valid and was not added as a discount.')
    #LW3MSGSUB := #LW3ITEMCD
    * multilingual message
    Execute Subroutine(srMLMSG) With_Parms('MSG_LW32511')
    #W_status := ER
    Dlt_Entry From_List(#prodlstw)
    Continue
    Endif
    
    When Value_Is(= C)
    Insert Fields(#LW3SFID #LW3PROMID #LW3SEQ #LW3PCTDIS #LW3DOLDIS #LW3CATID #LW3QTY) To_File(LW3PROMD) Io_Error(*NEXT) Val_Error(*NEXT)
    If_Status Is_Not(*OKAY)
    * MESSAGE MSGTXT("Insert to Promotion Detail failed")
    * multilingual message
    Execute Subroutine(srMLMSG) With_Parms('MSG_LW32512')
    Delete From_File(LW3PRORO) With_Key(#LW3SFID #LW3PROMID) Io_Error(*NEXT) Val_Error(*NEXT)
    Delete From_File(LW3PRORP) With_Key(#LW3SFID #LW3PROMID) Io_Error(*NEXT) Val_Error(*NEXT)
    Delete From_File(LW3PRORU) With_Key(#LW3SFID #LW3PROMID) Io_Error(*NEXT) Val_Error(*NEXT)
    Delete From_File(LW3PRORT) With_Key(#LW3SFID #LW3PROMID) Io_Error(*NEXT) Val_Error(*NEXT)
    Delete From_File(LW3PROMH) With_Key(#LW3SFID #LW3PROMID) Io_Error(*NEXT) Val_Error(*NEXT)
    Delete From_File(LW3PROML) With_Key(#LW3SFID #LW3PROMID) Io_Error(*NEXT) Val_Error(*NEXT)
    Return
    Endif
    When Value_Is(= S)
    Insert Fields(#LW3SFID #LW3PROMID #LW3SEQ #LW3PCTDIS #LW3DOLDIS #LW3SSHPTP) To_File(LW3PROMD) Io_Error(*NEXT) Val_Error(*NEXT)
    If_Status Is_Not(*OKAY)
    * MESSAGE MSGTXT("Insert to Promotion Detail failed")
    * multilingual message
    Execute Subroutine(srMLMSG) With_Parms('MSG_LW32513')
    Delete From_File(LW3PRORO) With_Key(#LW3SFID #LW3PROMID) Io_Error(*NEXT) Val_Error(*NEXT)
    Delete From_File(LW3PRORP) With_Key(#LW3SFID #LW3PROMID) Io_Error(*NEXT) Val_Error(*NEXT)
    Delete From_File(LW3PRORU) With_Key(#LW3SFID #LW3PROMID) Io_Error(*NEXT) Val_Error(*NEXT)
    Delete From_File(LW3PRORT) With_Key(#LW3SFID #LW3PROMID) Io_Error(*NEXT) Val_Error(*NEXT)
    Delete From_File(LW3PROMH) With_Key(#LW3SFID #LW3PROMID) Io_Error(*NEXT) Val_Error(*NEXT)
    Delete From_File(LW3PROML) With_Key(#LW3SFID #LW3PROMID) Io_Error(*NEXT) Val_Error(*NEXT)
    Return
    Endif
    Endcase
    Endselect
    
    Endroutine
    
    * **************************************************
    * Name: UPD_PROM
    * Description: Update a promotion in the module
    * **************************************************
    Subroutine Name(UPD_PROM)
    
    * Clear num day / num mth if not a user level discount
    If Cond(#W_RLEVEL ¬= U)
    #LW3NUMDAY := 0
    #LW3NUMMTH := 0
    Endif
    
    * 1. Update header (LW3PROMH)
    * Get next promotion id
    #LW3PROAAP := #W_PROAAP
    #LW3PROSTS := #W_PROSTS
    * #LW3PROEFD := #W_EFDATE.AsNumber( CCYYMMDD )
    * #LW3PROEXD := #W_EXDATE.AsNumber( CCYYMMDD )
    #LW3PROEFD := #W_EFDATE
    #LW3PROEXD := #W_EXDATE
    
    #LW3PROORI := #W_PROORI
    If Cond(#LW3PROAAP = Y)
    #LW3PROCOD := *NULL
    Endif
    Update Fields(#LW3PROCOD #LW3PRONM #LW3PROSTS #LW3PROEFD #LW3PROEXD #LW3NUMDAY #LW3NUMMTH #LW3PROAAP #LW3PROORI) In_File(LW3PROMH) With_Key(#LW3SFID #LW3PROMID) Io_Error(*NEXT) Val_Error(*NEXT)
    If_Status Is_Not(*OKAY)
    * MESSAGE MSGTXT('Updated to Promotion Header failed')
    * multilingual message
    Execute Subroutine(srMLMSG) With_Parms('MSG_LW32514')
    Return
    Endif
    *
    Check_For In_File(LW3PROML) With_Key(#LW3SFID #LW3PROMID *LANGUAGE) Io_Error(*NEXT) Val_Error(*NEXT)
    If_Status Is(*EQUALKEY)
    Update Fields(#LW3PRONM) In_File(LW3PROML) With_Key(#LW3SFID #LW3PROMID *LANGUAGE) Io_Error(*NEXT) Val_Error(*NEXT)
    Else
    #LW3LNGCOD := *LANGUAGE
    Insert Fields(*ALL) To_File(LW3PROML) Io_Error(*NEXT) Val_Error(*NEXT)
    Endif
    
    * 2. Determine requirement type.  Delete all previous requirements
    Delete From_File(LW3PRORO) With_Key(#LW3SFID #LW3PROMID) Io_Error(*NEXT) Val_Error(*NEXT)
    Delete From_File(LW3PRORP) With_Key(#LW3SFID #LW3PROMID) Io_Error(*NEXT) Val_Error(*NEXT)
    Delete From_File(LW3PRORU) With_Key(#LW3SFID #LW3PROMID) Io_Error(*NEXT) Val_Error(*NEXT)
    Delete From_File(LW3PRORT) With_Key(#LW3SFID #LW3PROMID) Io_Error(*NEXT) Val_Error(*NEXT)
    
    #STD_NUM := *NULL
    Selectlist Named(#prorlstw)
    Continue If(#W_ADDFLG *NE Y)
    #STD_NUM := #STD_NUM + 1
    #LW3SEQ := #STD_NUM
    #LW3PROMID := #WK_PROMID
    #LW3SFID := #WK_SFID
    
    Case Of_Field(#W_RLEVEL)
    When Value_Is(= O)
    * 2a. Order - add to order requirement (LW3PRORO)
    Insert Fields(#LW3SFID #LW3PROMID #LW3SEQ #LW3MINAMT) To_File(LW3PRORO) Io_Error(*NEXT) Val_Error(*NEXT)
    If_Status Is_Not(*OKAY)
    * MESSAGE MSGTXT("Update to Promotion Requirement - Order failed")
    * multilingual message
    Execute Subroutine(srMLMSG) With_Parms('MSG_LW32515')
    Endif
    When Value_Is(= I)
    
    * EXCHANGE FIELDS(In)
    * #FXACTION  - Action code - C = Check_for, G = Get item master
    * #LW3ITEMCD - Item code
    #FXACTION := C
    Exchange Fields(#FXACTION #LW3ITEMCD)
    Call Process(*DIRECT) Function(lw3aitm) If_Error(*NEXT)
    * EXCHANGE FIELDS(Out)
    * #LW3IDESC - Item Description
    * *FXUM     - Unit of measure
    * #FXRETCD  - Return code - OK or NR
    If Cond(#FXRETCD *EQ OK)
    * 2b. Item - add to product requirement (LW3PRORP)
    Insert Fields(#LW3SFID #LW3PROMID #LW3SEQ #LW3ITEMCD #LW3MINQTY) To_File(LW3PRORP) Io_Error(*NEXT) Val_Error(*NEXT)
    If_Status Is_Not(*OKAY)
    * MESSAGE MSGTXT("Update to Promotion Requirement - Product failed")
    * multilingual message
    Execute Subroutine(srMLMSG) With_Parms('MSG_LW32516')
    Endif
    Else
    * MESSAGE MSGTXT('Item ' + #lw3itemcd + ' is not valid and was not updated as a requirement.')
    #LW3MSGSUB := #LW3ITEMCD
    * multilingual message
    Execute Subroutine(srMLMSG) With_Parms('MSG_LW32517')
    #W_status := ER
    Dlt_Entry From_List(#prorlstw)
    Continue
    Endif
    
    When Value_Is(= C)
    * 2b. Category - add to product requirement (LW3PRORP)
    Insert Fields(#LW3SFID #LW3PROMID #LW3SEQ #LW3CATID #LW3MINQTY) To_File(LW3PRORP) Io_Error(*NEXT) Val_Error(*NEXT)
    If_Status Is_Not(*OKAY)
    * MESSAGE MSGTXT("Update to Promotion Requirement - Product failed")
    * multilingual message
    Execute Subroutine(srMLMSG) With_Parms('MSG_LW32518')
    Endif
    When Value_Is(= U)
    * 2d. User - add to user requirement (LW3PRORU)
    Insert Fields(#LW3SFID #LW3PROMID #LW3SEQ #LW3MINAMT #LW3ITEMCD #LW3CATID #LW3MINQTY #LW3NUMDAY #LW3NUMMTH) To_File(LW3PRORU) Io_Error(*NEXT) Val_Error(*NEXT)
    If_Status Is_Not(*OKAY)
    * MESSAGE MSGTXT("Update to Promotion Requirement - User failed")
    * multilingual message
    Execute Subroutine(srMLMSG) With_Parms('MSG_LW32519')
    Endif
    * Product Type
    When Value_Is(= 'P')
    Insert Fields(#LW3SFID #LW3PROMID #LW3SEQ #LW3OLNTYP #LW3UM #LW3PMNVAL #LW3PMXVAL) To_File(LW3PRORT) Io_Error(*NEXT) Val_Error(*NEXT)
    If_Status Is_Not(*OKAY)
    * MESSAGE MSGTXT("Update to Promotion Requirement - Product Type failed")
    * multilingual message
    Execute Subroutine(srMLMSG) With_Parms('MSG_UPDATE_PROMO_TYPE_FAILED')
    Endif
    Otherwise
    Endcase
    Endselect
    
    * 3. Delete previous detail.  Add to detail (LW3PROMD)
    Delete From_File(LW3PROMD) With_Key(#LW3SFID #LW3PROMID) Io_Error(*NEXT) Val_Error(*NEXT)
    
    #STD_NUM := *NULL
    Selectlist Named(#prodlstw)
    Continue If(#W_ADDFLG *NE Y)
    #STD_NUM := #STD_NUM + 1
    #LW3SEQ := #STD_NUM
    #LW3PROMID := #WK_PROMID
    #LW3SFID := #WK_SFID
    
    Case Of_Field(#W_DTYPE)
    When Value_Is(= O)
    Insert Fields(#LW3SFID #LW3PROMID #LW3SEQ #LW3PCTDIS #LW3DOLDIS) To_File(LW3PROMD) Io_Error(*NEXT) Val_Error(*NEXT)
    If_Status Is_Not(*OKAY)
    * MESSAGE MSGTXT("Update to Promotion Detail (order) failed")
    * multilingual message
    Execute Subroutine(srMLMSG) With_Parms('MSG_LW32520')
    Endif
    When Value_Is(= I)
    
    * EXCHANGE FIELDS(In)
    * #FXACTION  - Action code - C = Check_for, G = Get item master
    * #LW3ITEMCD - Item code
    #FXACTION := C
    Exchange Fields(#FXACTION #LW3ITEMCD)
    Call Process(*DIRECT) Function(lw3aitm) If_Error(*NEXT)
    * EXCHANGE FIELDS(Out)
    * #LW3IDESC - Item Description
    * *FXUM     - Unit of measure
    * #FXRETCD  - Return code - OK or NR
    If Cond(#FXRETCD *EQ OK)
    Insert Fields(#LW3SFID #LW3PROMID #LW3SEQ #LW3PCTDIS #LW3DOLDIS #LW3ITEMCD #LW3QTY #LW3FREGFT) To_File(LW3PROMD) Io_Error(*NEXT) Val_Error(*NEXT)
    If_Status Is_Not(*OKAY)
    * MESSAGE MSGTXT("Update to Promotion Detail (item) failed")
    * multilingual message
    Execute Subroutine(srMLMSG) With_Parms('MSG_LW32521')
    Endif
    
    Else
    * MESSAGE MSGTXT('Item ' + #lw3itemcd + ' is not valid and was not updated as a discount.')
    #LW3MSGSUB := #LW3ITEMCD
    * multilingual message
    Execute Subroutine(srMLMSG) With_Parms('MSG_LW32522')
    #W_status := ER
    Dlt_Entry From_List(#prodlstw)
    Continue
    Endif
    
    When Value_Is(= C)
    Insert Fields(#LW3SFID #LW3PROMID #LW3SEQ #LW3PCTDIS #LW3DOLDIS #LW3CATID #LW3QTY) To_File(LW3PROMD) Io_Error(*NEXT) Val_Error(*NEXT)
    If_Status Is_Not(*OKAY)
    * MESSAGE MSGTXT("Update to Promotion Detail (category) failed")
    * multilingual message
    Execute Subroutine(srMLMSG) With_Parms('MSG_LW32523')
    Endif
    When Value_Is(= S)
    Insert Fields(#LW3SFID #LW3PROMID #LW3SEQ #LW3PCTDIS #LW3DOLDIS #LW3SSHPTP) To_File(LW3PROMD) Io_Error(*NEXT) Val_Error(*NEXT)
    If_Status Is_Not(*OKAY)
    * MESSAGE MSGTXT("Insert to Promotion Detail (shipping) failed")
    * multilingual message
    Execute Subroutine(srMLMSG) With_Parms('MSG_LW32524')
    Endif
    Endcase
    Endselect
    
    Endroutine
    
    * **************************************************
    * Name: DEL_PROM
    * Description: Delete a promotion from database
    * **************************************************
    Subroutine Name(DEL_PROM)
    Delete From_File(LW3PROMD) With_Key(#LW3SFID #LW3PROMID) Io_Error(*NEXT) Val_Error(*NEXT)
    Delete From_File(LW3PRORO) With_Key(#LW3SFID #LW3PROMID) Io_Error(*NEXT) Val_Error(*NEXT)
    Delete From_File(LW3PRORP) With_Key(#LW3SFID #LW3PROMID) Io_Error(*NEXT) Val_Error(*NEXT)
    Delete From_File(LW3PRORU) With_Key(#LW3SFID #LW3PROMID) Io_Error(*NEXT) Val_Error(*NEXT)
    Delete From_File(LW3PRORT) With_Key(#LW3SFID #LW3PROMID) Io_Error(*NEXT) Val_Error(*NEXT)
    Delete From_File(LW3PROMH) With_Key(#LW3SFID #LW3PROMID) Io_Error(*NEXT) Val_Error(*NEXT)
    Delete From_File(LW3PROML) With_Key(#LW3SFID #LW3PROMID) Io_Error(*NEXT) Val_Error(*NEXT)
    Endroutine
    
    * **************************************************
    * Name: GET_PROM
    * Description: Get a promotion from database
    * **************************************************
    Subroutine Name(GET_PROM)
    
    * Fetch Header
    #LW3PROCOD #LW3PRONM #LW3PROSTS #LW3PROEFD #LW3PROEXD #LW3PROAAP #LW3PROORI #LW3NUMDAY #LW3NUMMTH := *NULL
    Fetch Fields(#LW3PROCOD #LW3PRONM #LW3PROSTS #LW3PROEFD #LW3PROEXD #LW3PROAAP #LW3PROORI #LW3NUMDAY #LW3NUMMTH) From_File(LW3PROMH) With_Key(#LW3SFID #LW3PROMID) Io_Error(*NEXT) Val_Error(*NEXT)
    If_Status Is_Not(*OKAY)
    * MESSAGE MSGTXT("Error retrieving promotion record.")
    * multilingual message
    Execute Subroutine(srMLMSG) With_Parms('MSG_LW32525')
    Transfer Toroutine(PROMLST)
    Else
    Fetch Fields(#LW3PRONM) From_File(LW3PROML) With_Key(#LW3SFID #LW3PROMID *LANGUAGE) Io_Error(*NEXT) Val_Error(*NEXT)
    #W_PROSTS := #LW3PROSTS
    * #W_EFDATE := #LW3PROEFD.AsDate( CCYYMMDD )
    * #W_EXDATE := #LW3PROEXD.AsDate( CCYYMMDD )
    #W_EFDATE := #LW3PROEFD
    #W_EXDATE := #LW3PROEXD
    #W_PROAAP := #LW3PROAAP
    #W_PROORI := #LW3PROORI
    Endif
    
    * ***** REQUIREMENTS *****
    Clr_List Named(#prorlstw)
    
    #W_ADDFLG := Y
    #LW3MINAMT #LW3ITEMCD #LW3CATID #LW3MINQTY #W_ROWNUM := *NULL
    Select Fields(#LW3SEQ #LW3MINAMT) From_File(LW3PRORO) With_Key(#LW3SFID #LW3PROMID) Io_Error(*NEXT) Val_Error(*NEXT)
    #W_ROWNUM := #W_ROWNUM + 1
    #W_RLEVEL := 'Order'
    Execute Subroutine(add_entry)
    Endselect
    #LW3MINAMT #LW3ITEMCD #LW3CATID #LW3MINQTY := *NULL
    Select Fields(#LW3SEQ #LW3ITEMCD #LW3CATID #LW3MINQTY) From_File(LW3PRORP) With_Key(#LW3SFID #LW3PROMID) Io_Error(*NEXT) Val_Error(*NEXT)
    #W_ROWNUM := #W_ROWNUM + 1
    If_Null Field(#LW3ITEMCD)
    #W_RLEVEL := 'C'
    Else
    #W_RLEVEL := 'I'
    Endif
    
    Execute Subroutine(add_entry)
    Endselect
    #LW3MINAMT #LW3ITEMCD #LW3CATID #LW3MINQTY := *NULL
    Select Fields(#LW3SEQ #LW3MINAMT #LW3ITEMCD #LW3CATID #LW3MINQTY #LW3NUMDAY #LW3NUMMTH) From_File(LW3PRORU) With_Key(#LW3SFID #LW3PROMID) Io_Error(*NEXT) Val_Error(*NEXT)
    #W_ROWNUM := #W_ROWNUM + 1
    #W_RLEVEL := 'U'
    Execute Subroutine(add_entry)
    Endselect
    * Product Type
    Select Fields(#LW3OLNTYP #LW3UM #LW3PMNVAL #LW3PMXVAL) From_File(LW3PRORT) With_Key(#LW3SFID #LW3PROMID) Io_Error(*NEXT) Val_Error(*NEXT)
    #W_ROWNUM := #W_ROWNUM + 1
    #W_RLEVEL := 'P'
    Execute Subroutine(add_entry)
    Endselect
    
    
    Sort_List Named(#prorlstw) By_Fields(#LW3SEQ)
    
    * ***** DETAILS *****
    #W_ROWNUM := *NULL
    Clr_List Named(#prodlstw)
    Select Fields(#LW3PCTDIS #LW3DOLDIS #LW3ITEMCD #LW3CATID #LW3QTY #LW3FREGFT #LW3SSHPTP #LW3SEQ) From_File(LW3PROMD) With_Key(#LW3SFID #LW3PROMID) Io_Error(*NEXT) Val_Error(*NEXT)
    #W_ROWNUM := #W_ROWNUM + 1
    #W_DTYPE := 'O'
    If Cond(*Not #LW3ITEMCD.isNull)
    #W_DTYPE := 'I'
    Endif
    If Cond(#LW3CATID ¬= *ZEROS)
    #W_DTYPE := 'C'
    Endif
    If Cond(#LW3SSHPTP ¬= *BLANKS)
    #W_DTYPE := 'S'
    Endif
    
    * call API to get Item Description
    #lw3idesc := *null
    #FXACTION := G
    Exchange Fields(#LW3ITEMCD #FXACTION)
    Call Process(*DIRECT) Function(LW3AITM) Exit_Used(*NEXT) Menu_Used(*NEXT) Num_Len(*DEFINED) If_Error(*NEXT)
    
    Fetch Fields(#lw3catnam) From_File(lw3c01) With_Key(#lw3sfid #LW3catid) Io_Error(*NEXT) Val_Error(*NEXT)
    If_Status Is_Not(*OKAY)
    #lw3catnam := *null
    Endif
    Fetch Fields(#lw3catnam) From_File(LW3C01ML) With_Key(#lw3sfid #LW3catid *LANGUAGE) Io_Error(*NEXT) Val_Error(*NEXT)
    
    #LW3CDES := *NULL
    Fetch Fields(#LW3CDES) From_File(LW3CODES) With_Key('DTYPE' #W_DTYPE *LANGUAGE) Io_Error(*NEXT) Val_Error(*NEXT)
    #W_DTYPDSC := #LW3CDES
    
    Add_Entry To_List(#prodlstw)
    Endselect
    
    * #W_RLEVEL := *null
    Endroutine
    
    Subroutine Name(add_entry)
    
    * call API to get Item Description
    #lw3idesc := *null
    #FXACTION := G
    Exchange Fields(#LW3ITEMCD #FXACTION)
    Call Process(*DIRECT) Function(LW3AITM) Exit_Used(*NEXT) Menu_Used(*NEXT) Num_Len(*DEFINED) If_Error(*NEXT)
    
    Fetch Fields(#lw3catnam) From_File(lw3c01) With_Key(#lw3sfid #LW3catid) Io_Error(*NEXT) Val_Error(*NEXT)
    If_Status Is_Not(*OKAY)
    #lw3catnam := *null
    Endif
    Fetch Fields(#lw3catnam) From_File(LW3C01ML) With_Key(#lw3sfid #LW3catid *LANGUAGE) Io_Error(*NEXT) Val_Error(*NEXT)
    
    #LW3CDES := *NULL
    Fetch Fields(#LW3CDES) From_File(LW3CODES) With_Key('RLEVEL' #W_RLEVEL *LANGUAGE) Io_Error(*NEXT) Val_Error(*NEXT)
    #W_RLVLDSC := #LW3CDES
    
    Add_Entry To_List(#prorlstw)
    
    Endroutine
    
    Subroutine Name(common)
    
    * Get Intro Paragraph
    Define Field(#S_PARAG) Type(*CHAR) Length(256) Desc('Intro Paragraph')
    
    #LW3TXTNAM := 'PROMOTIONSMAINT'
    
    #CEGPL.GetWAMIntroText Introtextname(#LW3TXTNAM) Paragraphlanguage(*LANGUAGE) Introtextparagraph(#S_PARAG)
    
    * Get Storefront name
    If Cond(#LW3SFID = 99)
    * #LW3NAME := 'Admin Site'
    #LW3VARTXT := 'Admin Site'
    Fetch Fields(#LW3VARTXT) From_File(lw3mlnvar) With_Key('LBL_ADMIN_SITE' *LANGUAGE) Io_Error(*NEXT) Val_Error(*NEXT)
    #lw3name := #LW3VARTXT
    Else
    * #LW3NAME := '*** Invalid Storefront ***'
    Fetch Fields(#LW3NAME) From_File(LW3SFML) With_Key(#LW3SFID *LANGUAGE) Io_Error(*NEXT) Val_Error(*NEXT)
    If_Status Is_Not(*OKAY)
    Fetch Fields(#LW3NAME) From_File(LW3SFRNT) With_Key(#LW3SFID) Io_Error(*NEXT) Val_Error(*NEXT)
    *
    If_Status Is_Not(*OKAY)
    #LW3VARTXT := '*** Invalid Storefront ***'
    Fetch Fields(#LW3VARTXT) From_File(lw3mlnvar) With_Key('LBL_INVALID_STOREFRONT' *LANGUAGE) Io_Error(*NEXT) Val_Error(*NEXT)
    #lw3name := #LW3VARTXT
    Endif
    *
    Endif
    Endif
    Endroutine
    
    * get multilingual information
    Subroutine Name(multi) Parms((#FXWRTNAM *RECEIVED))
    #FXWAMNAM := #COM_SELF.Name
    Exchange Fields(#FXWAMNAM #FXWRTNAM)
    Call Process(*DIRECT) Function(LW3MLAD) If_Error(*NEXT) Pass_Lst(#ls_mlnvar)
    
    Select Fields(#LW3VARNAM) From_File(LW3MVRLUP) With_Key('SYSTEM' 'CALENDAR') Io_Error(*NEXT) Val_Error(*NEXT)
    #LW3VARTXT := ''
    #FXVARNAM := #LW3VARNAM
    Fetch Fields(#LW3VARTXT) From_File(LW3MLNVAR) With_Key(#LW3VARNAM *language) Io_Error(*NEXT) Val_Error(*NEXT) Keep_Last(50)
    #FXVARTXT := #LW3VARTXT
    Add_Entry To_List(#ls_mlnvar)
    Endselect
    Endroutine
    
    
    * multilingual message
    Subroutine Name(srMLMSG) Parms((#LW3VARNAM *RECEIVED))
    *
    #LW3LNGID := *LANGUAGE
    * #LW3MSGSUB := <substitution data> OR *blank
    Exchange Fields(#LW3VARNAM #LW3LNGID #LW3MSGSUB)
    Call Process(*DIRECT) Function(LW3MSG) If_Error(*NEXT)
    Endroutine
    
    * The following event handler will handle invalid session
    Evtroutine Handling(#COM_OWNER.SessionInvalid) Options(*NOCLEARMESSAGES *NOCLEARERRORS)
    #LW3VARNAM := MSG_LW32307
    #LW3LNGID := *LANGUAGE
    #LW3MSGSUB := *blank
    Execute Subroutine(SEND_MSG)
    
    Transfer Toroutine(#WADMLGN1.LWBOP01C1)
    Endroutine
    
    * Send a message
    Subroutine Name(SEND_MSG)
    Exchange Fields(#LW3VARNAM #LW3LNGID #LW3MSGSUB)
    Call Process(*DIRECT) Function(LW3MSG) If_Error(*NEXT)
    Endroutine
    
    Subroutine Name(GET_ALRTM)
    
    Define Field(#W_MSGPRM1) Reffld(#LW3VARTXT) Desc('Must provide a Promotion Name.')
    Define Field(#W_MSGPRM2) Reffld(#LW3VARTXT) Desc('Promotion Code required for non global..')
    Define Field(#W_MSGPRM3) Reffld(#LW3VARTXT) Desc('Must provide a value for Percentage...')
    Define Field(#W_MSGPRM4) Reffld(#LW3VARTXT) Desc('Percent Discount must be a number.')
    Define Field(#W_MSGPRM5) Reffld(#LW3VARTXT) Desc('Dollar Discount must be a number.')
    Define Field(#W_MSGPRM6) Reffld(#LW3VARTXT) Desc('Minimum Order Amount must be greater...')
    Define Field(#W_MSGPRM7) Reffld(#LW3VARTXT) Desc('Minimum Order Amount must be a number...')
    Define Field(#W_MSGPRM8) Reffld(#LW3VARTXT) Desc('Minimum Quantity must be greater than...')
    Define Field(#W_MSGPRM9) Reffld(#LW3VARTXT) Desc('Minimum Quantity must be a number...')
    Define Field(#W_MSGPR10) Reffld(#LW3VARTXT) Desc('User based promotions require a...')
    Define Field(#W_MSGPR11) Reffld(#LW3VARTXT) Desc('Minimum Amount Spent on Orders must...')
    Define Field(#W_MSGPR12) Reffld(#LW3VARTXT) Desc('Minimum Amount Spent on Orders must...')
    Define Field(#W_MSGPR13) Reffld(#LW3VARTXT) Desc('Previous # Days must not be less than...')
    Define Field(#W_MSGPR14) Reffld(#LW3VARTXT) Desc('Previous # Days must be a number...')
    Define Field(#W_MSGPR15) Reffld(#LW3VARTXT) Desc('Previous # Months must not be less...')
    Define Field(#W_MSGPR16) Reffld(#LW3VARTXT) Desc('Previous # Months must be a number...')
    Define Field(#W_MSGPR17) Reffld(#LW3VARTXT) Desc('Must provide a value for past #...')
    Define Field(#W_MSGPR18) Reffld(#LW3VARTXT) Desc('Must provide a value for past # Days...')
    Define Field(#W_MSGPR19) Reffld(#LW3VARTXT) Desc('Percent Discount must not be less...')
    Define Field(#W_MSGPR20) Reffld(#LW3VARTXT) Desc('Dollar Discount must not be less than...')
    Define Field(#W_MSGPR21) Reffld(#LW3VARTXT) Desc('Can specify one of Percentage...')
    Define Field(#W_MSGPR22) Reffld(#LW3VARTXT) Desc('Quantity to Apply Discount on must...')
    Define Field(#W_MSGPR23) Reffld(#LW3VARTXT) Desc('Quantity to Apply Discount on must...')
    
    Execute Subroutine(GET_SYSVAR) With_Parms('MSG_PROMNM_REQ' *LANGUAGE)
    #W_MSGPRM1 := #LW3VARTXT
    
    Execute Subroutine(GET_SYSVAR) With_Parms('MSG_PROMCD_REQ' *LANGUAGE)
    #W_MSGPRM2 := #LW3VARTXT
    
    Execute Subroutine(GET_SYSVAR) With_Parms('MSG_DISCOUNT_REQ1' *LANGUAGE)
    #W_MSGPRM3 := #LW3VARTXT
    
    Execute Subroutine(GET_SYSVAR) With_Parms('MSG_DISCOUNT_FRMT1' *LANGUAGE)
    #W_MSGPRM4 := #LW3VARTXT
    
    Execute Subroutine(GET_SYSVAR) With_Parms('MSG_DISCOUNT_FRMT2' *LANGUAGE)
    #W_MSGPRM5 := #LW3VARTXT
    
    Execute Subroutine(GET_SYSVAR) With_Parms('MSG_MINORD_REQ1' *LANGUAGE)
    #W_MSGPRM6 := #LW3VARTXT
    
    Execute Subroutine(GET_SYSVAR) With_Parms('MSG_MINORD_REQ2' *LANGUAGE)
    #W_MSGPRM7 := #LW3VARTXT
    
    Execute Subroutine(GET_SYSVAR) With_Parms('MSG_MINQTY_REQ1' *LANGUAGE)
    #W_MSGPRM8 := #LW3VARTXT
    
    Execute Subroutine(GET_SYSVAR) With_Parms('MSG_MINQTY_REQ2' *LANGUAGE)
    #W_MSGPRM9 := #LW3VARTXT
    
    Execute Subroutine(GET_SYSVAR) With_Parms('MSG_PRMCDE_REQ1' *LANGUAGE)
    #W_MSGPR10 := #LW3VARTXT
    
    Execute Subroutine(GET_SYSVAR) With_Parms('MSG_MINAMT_REQ1' *LANGUAGE)
    #W_MSGPR11 := #LW3VARTXT
    
    Execute Subroutine(GET_SYSVAR) With_Parms('MSG_MINAMT_REQ2' *LANGUAGE)
    #W_MSGPR12 := #LW3VARTXT
    
    Execute Subroutine(GET_SYSVAR) With_Parms('MSG_PRVDAY_REQ1' *LANGUAGE)
    #W_MSGPR13 := #LW3VARTXT
    
    Execute Subroutine(GET_SYSVAR) With_Parms('MSG_PRVDAY_REQ2' *LANGUAGE)
    #W_MSGPR14 := #LW3VARTXT
    
    Execute Subroutine(GET_SYSVAR) With_Parms('MSG_PRVMTH_REQ1' *LANGUAGE)
    #W_MSGPR15 := #LW3VARTXT
    
    Execute Subroutine(GET_SYSVAR) With_Parms('MSG_PRVMTH_REQ2' *LANGUAGE)
    #W_MSGPR16 := #LW3VARTXT
    
    Execute Subroutine(GET_SYSVAR) With_Parms('MSG_PSTMTH_REQ1' *LANGUAGE)
    #W_MSGPR17 := #LW3VARTXT
    
    Execute Subroutine(GET_SYSVAR) With_Parms('MSG_PSTDAY_REQ1' *LANGUAGE)
    #W_MSGPR18 := #LW3VARTXT
    
    Execute Subroutine(GET_SYSVAR) With_Parms('MSG_PCTDSC_REQ1' *LANGUAGE)
    #W_MSGPR19 := #LW3VARTXT
    
    Execute Subroutine(GET_SYSVAR) With_Parms('MSG_DOLDSC_REQ1' *LANGUAGE)
    #W_MSGPR20 := #LW3VARTXT
    
    Execute Subroutine(GET_SYSVAR) With_Parms('MSG_PCTDOL_REQ1' *LANGUAGE)
    #W_MSGPR21 := #LW3VARTXT
    
    Execute Subroutine(GET_SYSVAR) With_Parms('MSG_QTYDSC_REQ1' *LANGUAGE)
    #W_MSGPR22 := #LW3VARTXT
    
    Execute Subroutine(GET_SYSVAR) With_Parms('MSG_QTYDSC_REQ2' *LANGUAGE)
    #W_MSGPR23 := #LW3VARTXT
    
    Endroutine
    
    * Get System variables
    Subroutine Name(GET_SYSVAR) Parms((#LW3VARNAM *RECEIVED) (#LW3LNGCOD *RECEIVED))
    #LW3VARTXT := *BLANKS
    Fetch Fields(#LW3VARTXT) From_File(LW3MLNVAR) With_Key(#LW3VARNAM #LW3LNGCOD) Io_Error(*NEXT) Val_Error(*NEXT)
    Endroutine
    
    * pass the received storefront id
    Subroutine Name(init_sf)
    If Cond(#LW3SFCUR <> 0)
    #LW3SFID := #LW3SFCUR
    Endif
    Endroutine
    
    End_Com

  Web Routines:
  - AJAX_REMOVE_DITEM:
      XML: |
        <?xml version="1.0" encoding="UTF-8"?>
        
        <!-- WAM       : WPROMMNT - ?
             Webroutine: AJAX_REMOVE_DITEM - 
             Timestamp : 2015-09-14T00:33:31-05:00 -->
        
        <lxml:data xmlns:lxml="http://www.lansa.com/2002/XML/Runtime-Data">
        
        <lxml:server-instructions>
        <lxml:client-charset></lxml:client-charset>
        <lxml:cookies><lxml:cookie name="STDSESSID"><lxml:value field-name="STDSESSID"></lxml:value>
        <lxml:expires field-name="LW3CEXPDT"></lxml:expires>
        <lxml:domain></lxml:domain>
        <lxml:path>/; HttpOnly</lxml:path>
        <lxml:secure></lxml:secure>
        </lxml:cookie>
        <lxml:cookie name="STDWEBUSR"><lxml:value field-name="STDWEBUSR"></lxml:value>
        <lxml:expires field-name=""></lxml:expires>
        <lxml:domain field-name=""></lxml:domain>
        <lxml:path field-name=""></lxml:path>
        <lxml:secure field-name=""></lxml:secure>
        </lxml:cookie>
        </lxml:cookies>
        <lxml:ssi></lxml:ssi>
        </lxml:server-instructions>
        
        <lxml:context>
        <lxml:user-id>          </lxml:user-id>
        <lxml:webapplication>WPROMMNT</lxml:webapplication>
        <lxml:webapplication-title>?</lxml:webapplication-title>
        <lxml:webroutine>AJAX_REMOVE_DITEM</lxml:webroutine>
        <lxml:webroutine-title></lxml:webroutine-title>
        <lxml:service-name></lxml:service-name>
        <lxml:partition>CML</lxml:partition>
        <lxml:language iso-lang="en">ENG</lxml:language>
        <lxml:dec-separator>.</lxml:dec-separator>
        <lxml:images-path>/images</lxml:images-path>
        <lxml:action-request>/cgi-bin/lansaweb</lxml:action-request>
        </lxml:context>
        
        <lxml:options>
        <lxml:option name="DBCS">false</lxml:option>
        <lxml:option name="align-right">true</lxml:option>
        <lxml:option name="check-numeric">false</lxml:option>
        <lxml:option name="debug" />
        <lxml:option name="trace" />
        <lxml:option name="task" />
        </lxml:options>
        
        <lxml:variables />
        
        <lxml:messages></lxml:messages>
        
        <lxml:fields>
        <lxml:field name="LW3MHTML">
        <lxml:caption>
        <lxml:label>Menu Html</lxml:label>
        <lxml:description>Menu Html</lxml:description>
        <lxml:heading-1>Menu</lxml:heading-1>
        <lxml:heading-2>Html</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="LW3WEBUSR">
        <lxml:caption>
        <lxml:label>User Id</lxml:label>
        <lxml:description>Web User Name</lxml:description>
        <lxml:heading-1>Web</lxml:heading-1>
        <lxml:heading-2>User</lxml:heading-2>
        <lxml:heading-3>Name</lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="LW3SFID">
        <lxml:caption>
        <lxml:label>Store Front ID</lxml:label>
        <lxml:description>Store Front ID</lxml:description>
        <lxml:heading-1>Store</lxml:heading-1>
        <lxml:heading-2>Front</lxml:heading-2>
        <lxml:heading-3>ID</lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="LW3SFCUR">
        <lxml:caption>
        <lxml:label>Current Store F</lxml:label>
        <lxml:description>Current Store Front</lxml:description>
        <lxml:heading-1>Current</lxml:heading-1>
        <lxml:heading-2>Store</lxml:heading-2>
        <lxml:heading-3>Front</lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="S_PARAG">
        <lxml:caption>
        <lxml:label>S_PARAG</lxml:label>
        <lxml:description>Intro Paragraph</lxml:description>
        <lxml:heading-1>S_PARAG</lxml:heading-1>
        <lxml:heading-2></lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="LW3NAME">
        <lxml:caption>
        <lxml:label>Store Front Nam</lxml:label>
        <lxml:description>Store Front Name</lxml:description>
        <lxml:heading-1>Store</lxml:heading-1>
        <lxml:heading-2>Front</lxml:heading-2>
        <lxml:heading-3>Name</lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="W_MSGPRM1">
        <lxml:caption>
        <lxml:label>Variable Text</lxml:label>
        <lxml:description>Must provide a Promotion Name.</lxml:description>
        <lxml:heading-1>Variable</lxml:heading-1>
        <lxml:heading-2>Text</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="W_MSGPRM2">
        <lxml:caption>
        <lxml:label>Variable Text</lxml:label>
        <lxml:description>Promotion Code required for non global..</lxml:description>
        <lxml:heading-1>Variable</lxml:heading-1>
        <lxml:heading-2>Text</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="W_MSGPRM3">
        <lxml:caption>
        <lxml:label>Variable Text</lxml:label>
        <lxml:description>Must provide a value for Percentage...</lxml:description>
        <lxml:heading-1>Variable</lxml:heading-1>
        <lxml:heading-2>Text</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="W_MSGPRM4">
        <lxml:caption>
        <lxml:label>Variable Text</lxml:label>
        <lxml:description>Percent Discount must be a number.</lxml:description>
        <lxml:heading-1>Variable</lxml:heading-1>
        <lxml:heading-2>Text</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="W_MSGPRM5">
        <lxml:caption>
        <lxml:label>Variable Text</lxml:label>
        <lxml:description>Dollar Discount must be a number.</lxml:description>
        <lxml:heading-1>Variable</lxml:heading-1>
        <lxml:heading-2>Text</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="W_MSGPRM6">
        <lxml:caption>
        <lxml:label>Variable Text</lxml:label>
        <lxml:description>Minimum Order Amount must be greater...</lxml:description>
        <lxml:heading-1>Variable</lxml:heading-1>
        <lxml:heading-2>Text</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="W_MSGPRM7">
        <lxml:caption>
        <lxml:label>Variable Text</lxml:label>
        <lxml:description>Minimum Order Amount must be a number...</lxml:description>
        <lxml:heading-1>Variable</lxml:heading-1>
        <lxml:heading-2>Text</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="W_MSGPRM8">
        <lxml:caption>
        <lxml:label>Variable Text</lxml:label>
        <lxml:description>Minimum Quantity must be greater than...</lxml:description>
        <lxml:heading-1>Variable</lxml:heading-1>
        <lxml:heading-2>Text</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="W_MSGPRM9">
        <lxml:caption>
        <lxml:label>Variable Text</lxml:label>
        <lxml:description>Minimum Quantity must be a number...</lxml:description>
        <lxml:heading-1>Variable</lxml:heading-1>
        <lxml:heading-2>Text</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="W_MSGPR10">
        <lxml:caption>
        <lxml:label>Variable Text</lxml:label>
        <lxml:description>User based promotions require a...</lxml:description>
        <lxml:heading-1>Variable</lxml:heading-1>
        <lxml:heading-2>Text</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="W_MSGPR11">
        <lxml:caption>
        <lxml:label>Variable Text</lxml:label>
        <lxml:description>Minimum Amount Spent on Orders must...</lxml:description>
        <lxml:heading-1>Variable</lxml:heading-1>
        <lxml:heading-2>Text</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="W_MSGPR12">
        <lxml:caption>
        <lxml:label>Variable Text</lxml:label>
        <lxml:description>Minimum Amount Spent on Orders must...</lxml:description>
        <lxml:heading-1>Variable</lxml:heading-1>
        <lxml:heading-2>Text</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="W_MSGPR13">
        <lxml:caption>
        <lxml:label>Variable Text</lxml:label>
        <lxml:description>Previous # Days must not be less than...</lxml:description>
        <lxml:heading-1>Variable</lxml:heading-1>
        <lxml:heading-2>Text</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="W_MSGPR14">
        <lxml:caption>
        <lxml:label>Variable Text</lxml:label>
        <lxml:description>Previous # Days must be a number...</lxml:description>
        <lxml:heading-1>Variable</lxml:heading-1>
        <lxml:heading-2>Text</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="W_MSGPR15">
        <lxml:caption>
        <lxml:label>Variable Text</lxml:label>
        <lxml:description>Previous # Months must not be less...</lxml:description>
        <lxml:heading-1>Variable</lxml:heading-1>
        <lxml:heading-2>Text</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="W_MSGPR16">
        <lxml:caption>
        <lxml:label>Variable Text</lxml:label>
        <lxml:description>Previous # Months must be a number...</lxml:description>
        <lxml:heading-1>Variable</lxml:heading-1>
        <lxml:heading-2>Text</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="W_MSGPR17">
        <lxml:caption>
        <lxml:label>Variable Text</lxml:label>
        <lxml:description>Must provide a value for past #...</lxml:description>
        <lxml:heading-1>Variable</lxml:heading-1>
        <lxml:heading-2>Text</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="W_MSGPR18">
        <lxml:caption>
        <lxml:label>Variable Text</lxml:label>
        <lxml:description>Must provide a value for past # Days...</lxml:description>
        <lxml:heading-1>Variable</lxml:heading-1>
        <lxml:heading-2>Text</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="W_MSGPR19">
        <lxml:caption>
        <lxml:label>Variable Text</lxml:label>
        <lxml:description>Percent Discount must not be less...</lxml:description>
        <lxml:heading-1>Variable</lxml:heading-1>
        <lxml:heading-2>Text</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="W_MSGPR20">
        <lxml:caption>
        <lxml:label>Variable Text</lxml:label>
        <lxml:description>Dollar Discount must not be less than...</lxml:description>
        <lxml:heading-1>Variable</lxml:heading-1>
        <lxml:heading-2>Text</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="W_MSGPR21">
        <lxml:caption>
        <lxml:label>Variable Text</lxml:label>
        <lxml:description>Can specify one of Percentage...</lxml:description>
        <lxml:heading-1>Variable</lxml:heading-1>
        <lxml:heading-2>Text</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="W_MSGPR22">
        <lxml:caption>
        <lxml:label>Variable Text</lxml:label>
        <lxml:description>Quantity to Apply Discount on must...</lxml:description>
        <lxml:heading-1>Variable</lxml:heading-1>
        <lxml:heading-2>Text</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="W_MSGPR23">
        <lxml:caption>
        <lxml:label>Variable Text</lxml:label>
        <lxml:description>Quantity to Apply Discount on must...</lxml:description>
        <lxml:heading-1>Variable</lxml:heading-1>
        <lxml:heading-2>Text</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="LW3LCOUNT">
        <lxml:caption>
        <lxml:label>count</lxml:label>
        <lxml:description>count</lxml:description>
        <lxml:heading-1>count</lxml:heading-1>
        <lxml:heading-2></lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        </lxml:fields>
        
        <lxml:lists>
        <lxml:list name="LS_MLNVAR" row-count="5">
        <lxml:list-header>
        <lxml:header name="FXVARNAM">
        <lxml:heading-1>Variable</lxml:heading-1>
        <lxml:heading-2>Name</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:header>
        <lxml:header name="FXVARTXT">
        <lxml:heading-1>Variable</lxml:heading-1>
        <lxml:heading-2>Text</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:header>
        </lxml:list-header>
        <lxml:list-entries>
        <lxml:entry>
        <lxml:column name="FXVARNAM" id="LS_MLNVAR.0001.FXVARNAM">ABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHI</lxml:column>
        <lxml:column name="FXVARTXT" id="LS_MLNVAR.0001.FXVARTXT">aAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxXyYzZaAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxXyYzZaAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxXyYzZaAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxXyYzZaAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxX</lxml:column>
        </lxml:entry>
        <lxml:entry>
        <lxml:column name="FXVARNAM" id="LS_MLNVAR.0002.FXVARNAM">ABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHI</lxml:column>
        <lxml:column name="FXVARTXT" id="LS_MLNVAR.0002.FXVARTXT">aAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxXyYzZaAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxXyYzZaAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxXyYzZaAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxXyYzZaAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxX</lxml:column>
        </lxml:entry>
        <lxml:entry>
        <lxml:column name="FXVARNAM" id="LS_MLNVAR.0003.FXVARNAM">ABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHI</lxml:column>
        <lxml:column name="FXVARTXT" id="LS_MLNVAR.0003.FXVARTXT">aAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxXyYzZaAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxXyYzZaAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxXyYzZaAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxXyYzZaAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxX</lxml:column>
        </lxml:entry>
        <lxml:entry>
        <lxml:column name="FXVARNAM" id="LS_MLNVAR.0004.FXVARNAM">ABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHI</lxml:column>
        <lxml:column name="FXVARTXT" id="LS_MLNVAR.0004.FXVARTXT">aAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxXyYzZaAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxXyYzZaAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxXyYzZaAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxXyYzZaAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxX</lxml:column>
        </lxml:entry>
        <lxml:entry>
        <lxml:column name="FXVARNAM" id="LS_MLNVAR.0005.FXVARNAM">ABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHI</lxml:column>
        <lxml:column name="FXVARTXT" id="LS_MLNVAR.0005.FXVARTXT">aAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxXyYzZaAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxXyYzZaAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxXyYzZaAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxXyYzZaAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxX</lxml:column>
        </lxml:entry>
        </lxml:list-entries>
        </lxml:list>
        
        <lxml:list name="PRODLSTW" row-count="5">
        <lxml:list-header>
        <lxml:header name="W_DTYPE">
        <lxml:heading-1>Promotion</lxml:heading-1>
        <lxml:heading-2>Discount</lxml:heading-2>
        <lxml:heading-3>Type</lxml:heading-3>
        </lxml:header>
        <lxml:header name="LW3SFID">
        <lxml:heading-1>Store</lxml:heading-1>
        <lxml:heading-2>Front</lxml:heading-2>
        <lxml:heading-3>ID</lxml:heading-3>
        </lxml:header>
        <lxml:header name="LW3PROMID">
        <lxml:heading-1>Promotions/Discounts</lxml:heading-1>
        <lxml:heading-2>ID</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:header>
        <lxml:header name="LW3PCTDIS">
        <lxml:heading-1>Promotions/Discounts</lxml:heading-1>
        <lxml:heading-2>Percent</lxml:heading-2>
        <lxml:heading-3>Discount</lxml:heading-3>
        </lxml:header>
        <lxml:header name="LW3DOLDIS">
        <lxml:heading-1>Promotions/Discounts</lxml:heading-1>
        <lxml:heading-2>Dollar</lxml:heading-2>
        <lxml:heading-3>Discount</lxml:heading-3>
        </lxml:header>
        <lxml:header name="LW3ITEMCD">
        <lxml:heading-1>Item Code</lxml:heading-1>
        <lxml:heading-2></lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:header>
        <lxml:header name="LW3CATID">
        <lxml:heading-1>Category ID</lxml:heading-1>
        <lxml:heading-2></lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:header>
        <lxml:header name="LW3QTY">
        <lxml:heading-1>Quantity</lxml:heading-1>
        <lxml:heading-2></lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:header>
        <lxml:header name="LW3FREGFT">
        <lxml:heading-1>Free</lxml:heading-1>
        <lxml:heading-2>Gift?</lxml:heading-2>
        <lxml:heading-3>(Y/</lxml:heading-3>
        </lxml:header>
        <lxml:header name="LW3SSHPTP">
        <lxml:heading-1>Shipping</lxml:heading-1>
        <lxml:heading-2>Type</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:header>
        <lxml:header name="W_ADDFLG">
        <lxml:heading-1>W_ADDFLG</lxml:heading-1>
        <lxml:heading-2></lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:header>
        <lxml:header name="W_ROWNUM">
        <lxml:heading-1>W_ROWNUM</lxml:heading-1>
        <lxml:heading-2></lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:header>
        <lxml:header name="LW3SEQ">
        <lxml:heading-1>Sequence</lxml:heading-1>
        <lxml:heading-2>Number</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:header>
        <lxml:header name="LW3IDESC">
        <lxml:heading-1>Description</lxml:heading-1>
        <lxml:heading-2></lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:header>
        <lxml:header name="LW3CATNAM">
        <lxml:heading-1>Category</lxml:heading-1>
        <lxml:heading-2>Name</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:header>
        <lxml:header name="W_DTYPDSC">
        <lxml:heading-1>W_DTYPDSC</lxml:heading-1>
        <lxml:heading-2></lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:header>
        </lxml:list-header>
        <lxml:list-entries>
        <lxml:entry>
        <lxml:column name="W_DTYPE" id="PRODLSTW.0001.W_DTYPE">A</lxml:column>
        <lxml:column name="LW3SFID" id="PRODLSTW.0001.LW3SFID">12</lxml:column>
        <lxml:column name="LW3PROMID" id="PRODLSTW.0001.LW3PROMID">12345678</lxml:column>
        <lxml:column name="LW3PCTDIS" id="PRODLSTW.0001.LW3PCTDIS">123.12</lxml:column>
        <lxml:column name="LW3DOLDIS" id="PRODLSTW.0001.LW3DOLDIS">1,234,567,890,123.12</lxml:column>
        <lxml:column name="LW3ITEMCD" id="PRODLSTW.0001.LW3ITEMCD">ABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHI</lxml:column>
        <lxml:column name="LW3CATID" id="PRODLSTW.0001.LW3CATID">1,234,567,890</lxml:column>
        <lxml:column name="LW3QTY" id="PRODLSTW.0001.LW3QTY">123,456,789,012,345</lxml:column>
        <lxml:column name="LW3FREGFT" id="PRODLSTW.0001.LW3FREGFT">A</lxml:column>
        <lxml:column name="LW3SSHPTP" id="PRODLSTW.0001.LW3SSHPTP">ABCD</lxml:column>
        <lxml:column name="W_ADDFLG" id="PRODLSTW.0001.W_ADDFLG">A</lxml:column>
        <lxml:column name="W_ROWNUM" id="PRODLSTW.0001.W_ROWNUM">1234</lxml:column>
        <lxml:column name="LW3SEQ" id="PRODLSTW.0001.LW3SEQ">1234</lxml:column>
        <lxml:column name="LW3IDESC" id="PRODLSTW.0001.LW3IDESC">aAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxXyY</lxml:column>
        <lxml:column name="LW3CATNAM" id="PRODLSTW.0001.LW3CATNAM">aAbBcCdDeEfFgGhHiIjJkKlLmMnNoO</lxml:column>
        <lxml:column name="W_DTYPDSC" id="PRODLSTW.0001.W_DTYPDSC">ABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUV</lxml:column>
        </lxml:entry>
        <lxml:entry>
        <lxml:column name="W_DTYPE" id="PRODLSTW.0002.W_DTYPE">A</lxml:column>
        <lxml:column name="LW3SFID" id="PRODLSTW.0002.LW3SFID">12</lxml:column>
        <lxml:column name="LW3PROMID" id="PRODLSTW.0002.LW3PROMID">12345678</lxml:column>
        <lxml:column name="LW3PCTDIS" id="PRODLSTW.0002.LW3PCTDIS">123.12</lxml:column>
        <lxml:column name="LW3DOLDIS" id="PRODLSTW.0002.LW3DOLDIS">1,234,567,890,123.12</lxml:column>
        <lxml:column name="LW3ITEMCD" id="PRODLSTW.0002.LW3ITEMCD">ABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHI</lxml:column>
        <lxml:column name="LW3CATID" id="PRODLSTW.0002.LW3CATID">1,234,567,890</lxml:column>
        <lxml:column name="LW3QTY" id="PRODLSTW.0002.LW3QTY">123,456,789,012,345</lxml:column>
        <lxml:column name="LW3FREGFT" id="PRODLSTW.0002.LW3FREGFT">A</lxml:column>
        <lxml:column name="LW3SSHPTP" id="PRODLSTW.0002.LW3SSHPTP">ABCD</lxml:column>
        <lxml:column name="W_ADDFLG" id="PRODLSTW.0002.W_ADDFLG">A</lxml:column>
        <lxml:column name="W_ROWNUM" id="PRODLSTW.0002.W_ROWNUM">1234</lxml:column>
        <lxml:column name="LW3SEQ" id="PRODLSTW.0002.LW3SEQ">1234</lxml:column>
        <lxml:column name="LW3IDESC" id="PRODLSTW.0002.LW3IDESC">aAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxXyY</lxml:column>
        <lxml:column name="LW3CATNAM" id="PRODLSTW.0002.LW3CATNAM">aAbBcCdDeEfFgGhHiIjJkKlLmMnNoO</lxml:column>
        <lxml:column name="W_DTYPDSC" id="PRODLSTW.0002.W_DTYPDSC">ABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUV</lxml:column>
        </lxml:entry>
        <lxml:entry>
        <lxml:column name="W_DTYPE" id="PRODLSTW.0003.W_DTYPE">A</lxml:column>
        <lxml:column name="LW3SFID" id="PRODLSTW.0003.LW3SFID">12</lxml:column>
        <lxml:column name="LW3PROMID" id="PRODLSTW.0003.LW3PROMID">12345678</lxml:column>
        <lxml:column name="LW3PCTDIS" id="PRODLSTW.0003.LW3PCTDIS">123.12</lxml:column>
        <lxml:column name="LW3DOLDIS" id="PRODLSTW.0003.LW3DOLDIS">1,234,567,890,123.12</lxml:column>
        <lxml:column name="LW3ITEMCD" id="PRODLSTW.0003.LW3ITEMCD">ABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHI</lxml:column>
        <lxml:column name="LW3CATID" id="PRODLSTW.0003.LW3CATID">1,234,567,890</lxml:column>
        <lxml:column name="LW3QTY" id="PRODLSTW.0003.LW3QTY">123,456,789,012,345</lxml:column>
        <lxml:column name="LW3FREGFT" id="PRODLSTW.0003.LW3FREGFT">A</lxml:column>
        <lxml:column name="LW3SSHPTP" id="PRODLSTW.0003.LW3SSHPTP">ABCD</lxml:column>
        <lxml:column name="W_ADDFLG" id="PRODLSTW.0003.W_ADDFLG">A</lxml:column>
        <lxml:column name="W_ROWNUM" id="PRODLSTW.0003.W_ROWNUM">1234</lxml:column>
        <lxml:column name="LW3SEQ" id="PRODLSTW.0003.LW3SEQ">1234</lxml:column>
        <lxml:column name="LW3IDESC" id="PRODLSTW.0003.LW3IDESC">aAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxXyY</lxml:column>
        <lxml:column name="LW3CATNAM" id="PRODLSTW.0003.LW3CATNAM">aAbBcCdDeEfFgGhHiIjJkKlLmMnNoO</lxml:column>
        <lxml:column name="W_DTYPDSC" id="PRODLSTW.0003.W_DTYPDSC">ABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUV</lxml:column>
        </lxml:entry>
        <lxml:entry>
        <lxml:column name="W_DTYPE" id="PRODLSTW.0004.W_DTYPE">A</lxml:column>
        <lxml:column name="LW3SFID" id="PRODLSTW.0004.LW3SFID">12</lxml:column>
        <lxml:column name="LW3PROMID" id="PRODLSTW.0004.LW3PROMID">12345678</lxml:column>
        <lxml:column name="LW3PCTDIS" id="PRODLSTW.0004.LW3PCTDIS">123.12</lxml:column>
        <lxml:column name="LW3DOLDIS" id="PRODLSTW.0004.LW3DOLDIS">1,234,567,890,123.12</lxml:column>
        <lxml:column name="LW3ITEMCD" id="PRODLSTW.0004.LW3ITEMCD">ABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHI</lxml:column>
        <lxml:column name="LW3CATID" id="PRODLSTW.0004.LW3CATID">1,234,567,890</lxml:column>
        <lxml:column name="LW3QTY" id="PRODLSTW.0004.LW3QTY">123,456,789,012,345</lxml:column>
        <lxml:column name="LW3FREGFT" id="PRODLSTW.0004.LW3FREGFT">A</lxml:column>
        <lxml:column name="LW3SSHPTP" id="PRODLSTW.0004.LW3SSHPTP">ABCD</lxml:column>
        <lxml:column name="W_ADDFLG" id="PRODLSTW.0004.W_ADDFLG">A</lxml:column>
        <lxml:column name="W_ROWNUM" id="PRODLSTW.0004.W_ROWNUM">1234</lxml:column>
        <lxml:column name="LW3SEQ" id="PRODLSTW.0004.LW3SEQ">1234</lxml:column>
        <lxml:column name="LW3IDESC" id="PRODLSTW.0004.LW3IDESC">aAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxXyY</lxml:column>
        <lxml:column name="LW3CATNAM" id="PRODLSTW.0004.LW3CATNAM">aAbBcCdDeEfFgGhHiIjJkKlLmMnNoO</lxml:column>
        <lxml:column name="W_DTYPDSC" id="PRODLSTW.0004.W_DTYPDSC">ABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUV</lxml:column>
        </lxml:entry>
        <lxml:entry>
        <lxml:column name="W_DTYPE" id="PRODLSTW.0005.W_DTYPE">A</lxml:column>
        <lxml:column name="LW3SFID" id="PRODLSTW.0005.LW3SFID">12</lxml:column>
        <lxml:column name="LW3PROMID" id="PRODLSTW.0005.LW3PROMID">12345678</lxml:column>
        <lxml:column name="LW3PCTDIS" id="PRODLSTW.0005.LW3PCTDIS">123.12</lxml:column>
        <lxml:column name="LW3DOLDIS" id="PRODLSTW.0005.LW3DOLDIS">1,234,567,890,123.12</lxml:column>
        <lxml:column name="LW3ITEMCD" id="PRODLSTW.0005.LW3ITEMCD">ABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHI</lxml:column>
        <lxml:column name="LW3CATID" id="PRODLSTW.0005.LW3CATID">1,234,567,890</lxml:column>
        <lxml:column name="LW3QTY" id="PRODLSTW.0005.LW3QTY">123,456,789,012,345</lxml:column>
        <lxml:column name="LW3FREGFT" id="PRODLSTW.0005.LW3FREGFT">A</lxml:column>
        <lxml:column name="LW3SSHPTP" id="PRODLSTW.0005.LW3SSHPTP">ABCD</lxml:column>
        <lxml:column name="W_ADDFLG" id="PRODLSTW.0005.W_ADDFLG">A</lxml:column>
        <lxml:column name="W_ROWNUM" id="PRODLSTW.0005.W_ROWNUM">1234</lxml:column>
        <lxml:column name="LW3SEQ" id="PRODLSTW.0005.LW3SEQ">1234</lxml:column>
        <lxml:column name="LW3IDESC" id="PRODLSTW.0005.LW3IDESC">aAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxXyY</lxml:column>
        <lxml:column name="LW3CATNAM" id="PRODLSTW.0005.LW3CATNAM">aAbBcCdDeEfFgGhHiIjJkKlLmMnNoO</lxml:column>
        <lxml:column name="W_DTYPDSC" id="PRODLSTW.0005.W_DTYPDSC">ABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUV</lxml:column>
        </lxml:entry>
        </lxml:list-entries>
        </lxml:list>
        
        </lxml:lists>
        
        </lxml:data>
        

      Designs:
      - Language:           ENG
        Technology Service: LANSA XHTML

        XSL: |
          <?xml version="1.0" encoding="UTF-8"?>
          <!-- Web application : WPROMMNT            Promotions/Discounts Maintenance        -->
          <!-- Web routine     : AJAX_REMOVE_DITEM                                           -->
          <!-- Timestamp       : 2010-11-08T15:11:58-05:00                                   -->
          <xsl:transform version="1.0" exclude-result-prefixes="lxml wd"
                         xmlns:lxml="http://www.lansa.com/2002/XML/Runtime-Data"
                         xmlns:wd="http://www.lansa.com/2002/XSL/Weblet-Design"
                         xmlns="http://www.w3.org/1999/xhtml"
                         xmlns:xsl="http://www.w3.org/1999/XSL/Transform">
             <xsl:import href="std_keys.xsl" />
             <xsl:import href="std_variables.xsl" />
             <!--   <xsl:import href="wprommnt_layout.xsl" /> -->
             <xsl:import href="std_varchar.xsl" />
             <xsl:output method="xml" omit-xml-declaration="yes" encoding="UTF-8"
                         indent="no" />
          
             <xsl:template match="/">
                <!--      <xsl:call-template name="layout" /> -->
                <xsl:text />
             </xsl:template>
          
             <xsl:template match="/lxml:data">
                <div class="hidden">
                   <input class="number"
                          onchange="return isValidNumber(this, '2', '0', '.')"
                          maxlength="2" size="2" name="LW3SFID"
                          value="{key('field-value', 'LW3SFID')}" />
                   <input type="hidden" name="LW3SFCUR"
                          value="{key('field-value', 'LW3SFCUR')}" />
                </div>
                <table border="0" cellspacing="3" summary="" cellpadding="0">
                   <tbody>
                      <tr>
                         <td class="caption">
                            <xsl:value-of select="key('field-caption', 'LADMID')/lxml:description" />
                         </td>
                         <td>
                            <input class="number"
                                   onchange="return isValidNumber(this, '2', '0', '.')"
                                   maxlength="5" size="5" name="LADMID"
                                   value="{key('field-value', 'LADMID')}" />
                         </td>
                      </tr>
                      <tr>
                         <td class="caption">
                            <xsl:value-of select="key('field-caption', 'LADAID')/lxml:description" />
                         </td>
                         <td>
                            <input class="number"
                                   onchange="return isValidNumber(this, '2', '0', '.')"
                                   maxlength="5" size="5" name="LADAID"
                                   value="{key('field-value', 'LADAID')}" />
                         </td>
                      </tr>
                      <tr>
                         <td class="caption">
                            <xsl:value-of select="key('field-caption', 'ADMCNT1')/lxml:description" />
                         </td>
                         <td>
                            <input class="number"
                                   onchange="return isValidNumber(this, '7', '0', '.')"
                                   maxlength="12" size="12" name="ADMCNT1"
                                   value="{key('field-value', 'ADMCNT1')}" />
                         </td>
                      </tr>
                      <tr>
                         <td class="caption">
                            <xsl:value-of select="key('field-caption', 'ADMCNT2')/lxml:description" />
                         </td>
                         <td>
                            <input class="number"
                                   onchange="return isValidNumber(this, '7', '0', '.')"
                                   maxlength="12" size="12" name="ADMCNT2"
                                   value="{key('field-value', 'ADMCNT2')}" />
                         </td>
                      </tr>
                      <tr>
                         <td class="caption">
                            <xsl:value-of select="key('field-caption', 'LW3MHTML')/lxml:description" />
                         </td>
                         <td>
                            <xsl:call-template name="std_varchar">
                               <xsl:with-param name="name" select="'LW3MHTML'" />
                               <xsl:with-param name="value"
                                               select="key('field-value', 'LW3MHTML')" />
                               <xsl:with-param name="display_mode" select="'input'" />
                               <xsl:with-param name="maxlength" select="65535" />
                               <xsl:with-param name="display_length" select="60" />
                               <xsl:with-param name="type" select="'text'" />
                               <xsl:with-param name="keyboard_shift" select="' '" />
                               <xsl:with-param name="class" select="'text'" />
                            </xsl:call-template>
                         </td>
                      </tr>
                      <tr>
                         <td class="caption">
                            <xsl:value-of select="key('field-caption', 'LW3LCOUNT')/lxml:description" />
                         </td>
                         <td>
                            <input class="number"
                                   onchange="return isValidNumber(this, '3', '0', '.')"
                                   maxlength="7" size="7" name="LW3LCOUNT"
                                   value="{key('field-value', 'LW3LCOUNT')}" />
                         </td>
                      </tr>
                      <tr>
                         <td class="caption">
                            <xsl:value-of select="key('field-caption', 'LW3SFID')/lxml:description" />
                         </td>
                         <td>
                            <input class="number"
                                   onchange="return isValidNumber(this, '2', '0', '.')"
                                   maxlength="5" size="5" name="LW3SFID"
                                   value="{key('field-value', 'LW3SFID')}" />
                         </td>
                      </tr>
                   </tbody>
                </table>
                <br />
                <div class="hidden__"></div>
                <xsl:apply-templates select="/lxml:data/lxml:lists/lxml:list[@name='TOP_MENU']">
                   <xsl:with-param name="allow_sort" select="true()" />
                   <xsl:with-param name="allow_col_resize" select="true()" />
                </xsl:apply-templates>
                <br />
                <xsl:apply-templates select="/lxml:data/lxml:lists/lxml:list[@name='LEFT_MENU']">
                   <xsl:with-param name="allow_sort" select="true()" />
                   <xsl:with-param name="allow_col_resize" select="true()" />
                </xsl:apply-templates>
                <br />
                <xsl:apply-templates select="/lxml:data/lxml:lists/lxml:list[@name='PRODLSTW']">
                   <xsl:with-param name="allow_sort" select="true()" />
                   <xsl:with-param name="allow_col_resize" select="true()" />
                </xsl:apply-templates>
             </xsl:template>
          
             <xsl:template match="/lxml:data/lxml:lists/lxml:list[@name='TOP_MENU']">
                <xsl:param name="allow_sort" select="true()" wd:type="std:boolean"
                           wd:tip_id="" />
                <xsl:param name="allow_col_resize" select="true()" wd:type="std:boolean"
                           wd:tip_id="" />
                <xsl:variable name="thelist"
                              select="/lxml:data/lxml:lists/lxml:list[@name='TOP_MENU']" />
                <script language="javascript">
                   <xsl:text disable-output-escaping="yes">//&lt;![CDATA[</xsl:text>
                   function init_stdGrid_TOP_MENU() {
                   var g = register_std_grid('TOP_MENU',3);
                   g.allowSort = <xsl:value-of select="$allow_sort" />;
                   g.allowColResize = <xsl:value-of select="$allow_col_resize" />;
                   var col = 0;
                   var ss = document.styleSheets[0];
                   var gid = '.std_grid#TOP_MENU ';
                   
                   }
                   init_stdGrid_TOP_MENU();
                   <xsl:text disable-output-escaping="yes">//]]&gt;</xsl:text>
                </script>
                <input type="hidden" name="TOP_MENU.."
                       value="{count(lxml:list-entries/lxml:entry[1])}" />
                <div class="std_grid_wrapper" id="TOP_MENU_wrap">
                   <xsl:if test="$lweb_design_mode">
                      <xsl:attribute name="class">std_grid_wrapper_designtime</xsl:attribute>
                   </xsl:if>
                   <table class="std_grid" id="TOP_MENU">
                      <thead>
                         <tr class="list-h">
                            <th class="text LADMDSC std_grid_sort_indicator"
                                __decimalseparator="" __formattype="alpha" __mode="input"
                                __allowsort="true">
                               <xsl:for-each select="$thelist/lxml:list-header/lxml:header[1]/*[.//text()[normalize-space(.)!='']]"
                                             wd:edit-as-list="false">
                                  <xsl:value-of select="." />
                                  <xsl:if test="not(position() = last())">
                                     <br />
                                  </xsl:if>
                               </xsl:for-each>
                               <div class="std_grid_cell_sizer">
                                  <xsl:if test="boolean(/lxml:data/lxml:context[@design])">
                                     <xsl:attribute name="class">hidden__</xsl:attribute>
                                  </xsl:if>
                                  <xsl:comment>.</xsl:comment>
                               </div>
                            </th>
                            <th class="utext LADMWAM std_grid_sort_indicator"
                                __decimalseparator="" __formattype="alpha" __mode="input"
                                __allowsort="true">
                               <xsl:for-each select="$thelist/lxml:list-header/lxml:header[2]/*[.//text()[normalize-space(.)!='']]"
                                             wd:edit-as-list="false">
                                  <xsl:value-of select="." />
                                  <xsl:if test="not(position() = last())">
                                     <br />
                                  </xsl:if>
                               </xsl:for-each>
                               <div class="std_grid_cell_sizer">
                                  <xsl:if test="boolean(/lxml:data/lxml:context[@design])">
                                     <xsl:attribute name="class">hidden__</xsl:attribute>
                                  </xsl:if>
                                  <xsl:comment>.</xsl:comment>
                               </div>
                            </th>
                            <th class="utext LADMWR std_grid_sort_indicator"
                                __decimalseparator="" __formattype="alpha" __mode="input"
                                __allowsort="true">
                               <xsl:for-each select="$thelist/lxml:list-header/lxml:header[3]/*[.//text()[normalize-space(.)!='']]"
                                             wd:edit-as-list="false">
                                  <xsl:value-of select="." />
                                  <xsl:if test="not(position() = last())">
                                     <br />
                                  </xsl:if>
                               </xsl:for-each>
                               <div class="std_grid_cell_sizer">
                                  <xsl:if test="boolean(/lxml:data/lxml:context[@design])">
                                     <xsl:attribute name="class">hidden__</xsl:attribute>
                                  </xsl:if>
                                  <xsl:comment>.</xsl:comment>
                               </div>
                            </th>
                         </tr>
                      </thead>
                      <tbody>
                         <xsl:for-each select="$thelist/lxml:list-entries/lxml:entry">
                            <xsl:variable name="LADMDSC" select="lxml:column[1]" />
                            <xsl:variable name="LADMWAM" select="lxml:column[2]" />
                            <xsl:variable name="LADMWR" select="lxml:column[3]" />
                            <tr __oddrc="list-o" __evenrc="list-e">
                               <xsl:attribute name="class">
                                  <xsl:choose>
                                     <xsl:when test="position() mod 2">list-o</xsl:when>
                                     <xsl:otherwise>list-e</xsl:otherwise>
                                  </xsl:choose>
                               </xsl:attribute>
                               <td class="LADMDSC">
                                  <xsl:attribute name="__cellValue">
                                     <xsl:value-of select="$LADMDSC" />
                                  </xsl:attribute>
                                  <input class="text" id="{$LADMDSC/@id}" maxlength="30"
                                         onchange="return isValidText(this, ' ')"
                                         size="30" name="{$LADMDSC/@id}"
                                         value="{$LADMDSC}" />
                               </td>
                               <td class="LADMWAM">
                                  <xsl:attribute name="__cellValue">
                                     <xsl:value-of select="$LADMWAM" />
                                  </xsl:attribute>
                                  <input class="utext" id="{$LADMWAM/@id}" maxlength="10"
                                         onchange="return isValidText(this, ' ')"
                                         size="10" name="{$LADMWAM/@id}"
                                         value="{$LADMWAM}" />
                               </td>
                               <td class="LADMWR">
                                  <xsl:attribute name="__cellValue">
                                     <xsl:value-of select="$LADMWR" />
                                  </xsl:attribute>
                                  <input class="utext" id="{$LADMWR/@id}" maxlength="10"
                                         onchange="return isValidText(this, ' ')"
                                         size="10" name="{$LADMWR/@id}" value="{$LADMWR}" />
                               </td>
                            </tr>
                         </xsl:for-each>
                      </tbody>
                   </table>
                </div>
             </xsl:template>
          
             <xsl:template match="/lxml:data/lxml:lists/lxml:list[@name='LEFT_MENU']">
                <xsl:param name="allow_sort" select="true()" wd:type="std:boolean"
                           wd:tip_id="" />
                <xsl:param name="allow_col_resize" select="true()" wd:type="std:boolean"
                           wd:tip_id="" />
                <xsl:variable name="thelist"
                              select="/lxml:data/lxml:lists/lxml:list[@name='LEFT_MENU']" />
                <script language="javascript">
                   <xsl:text disable-output-escaping="yes">//&lt;![CDATA[</xsl:text>
                   function init_stdGrid_LEFT_MENU() {
                   var g = register_std_grid('LEFT_MENU',5);
                   g.allowSort = <xsl:value-of select="$allow_sort" />;
                   g.allowColResize = <xsl:value-of select="$allow_col_resize" />;
                   var col = 0;
                   var ss = document.styleSheets[0];
                   var gid = '.std_grid#LEFT_MENU ';
                   
                   }
                   init_stdGrid_LEFT_MENU();
                   <xsl:text disable-output-escaping="yes">//]]&gt;</xsl:text>
                </script>
                <input type="hidden" name="LEFT_MENU.."
                       value="{count(lxml:list-entries/lxml:entry[1])}" />
                <div class="std_grid_wrapper" id="LEFT_MENU_wrap">
                   <xsl:if test="$lweb_design_mode">
                      <xsl:attribute name="class">std_grid_wrapper_designtime</xsl:attribute>
                   </xsl:if>
                   <table class="std_grid" id="LEFT_MENU">
                      <thead>
                         <tr class="list-h">
                            <th class="text LADMDSC std_grid_sort_indicator"
                                __decimalseparator="" __formattype="alpha" __mode="input"
                                __allowsort="true">
                               <xsl:for-each select="$thelist/lxml:list-header/lxml:header[1]/*[.//text()[normalize-space(.)!='']]"
                                             wd:edit-as-list="false">
                                  <xsl:value-of select="." />
                                  <xsl:if test="not(position() = last())">
                                     <br />
                                  </xsl:if>
                               </xsl:for-each>
                               <div class="std_grid_cell_sizer">
                                  <xsl:if test="boolean(/lxml:data/lxml:context[@design])">
                                     <xsl:attribute name="class">hidden__</xsl:attribute>
                                  </xsl:if>
                                  <xsl:comment>.</xsl:comment>
                               </div>
                            </th>
                            <th class="utext LADMWAM std_grid_sort_indicator"
                                __decimalseparator="" __formattype="alpha" __mode="input"
                                __allowsort="true">
                               <xsl:for-each select="$thelist/lxml:list-header/lxml:header[2]/*[.//text()[normalize-space(.)!='']]"
                                             wd:edit-as-list="false">
                                  <xsl:value-of select="." />
                                  <xsl:if test="not(position() = last())">
                                     <br />
                                  </xsl:if>
                               </xsl:for-each>
                               <div class="std_grid_cell_sizer">
                                  <xsl:if test="boolean(/lxml:data/lxml:context[@design])">
                                     <xsl:attribute name="class">hidden__</xsl:attribute>
                                  </xsl:if>
                                  <xsl:comment>.</xsl:comment>
                               </div>
                            </th>
                            <th class="utext LADMWR std_grid_sort_indicator"
                                __decimalseparator="" __formattype="alpha" __mode="input"
                                __allowsort="true">
                               <xsl:for-each select="$thelist/lxml:list-header/lxml:header[3]/*[.//text()[normalize-space(.)!='']]"
                                             wd:edit-as-list="false">
                                  <xsl:value-of select="." />
                                  <xsl:if test="not(position() = last())">
                                     <br />
                                  </xsl:if>
                               </xsl:for-each>
                               <div class="std_grid_cell_sizer">
                                  <xsl:if test="boolean(/lxml:data/lxml:context[@design])">
                                     <xsl:attribute name="class">hidden__</xsl:attribute>
                                  </xsl:if>
                                  <xsl:comment>.</xsl:comment>
                               </div>
                            </th>
                            <th class="utext LADRVAL std_grid_sort_indicator"
                                __decimalseparator="" __formattype="alpha" __mode="input"
                                __allowsort="true">
                               <xsl:for-each select="$thelist/lxml:list-header/lxml:header[4]/*[.//text()[normalize-space(.)!='']]"
                                             wd:edit-as-list="false">
                                  <xsl:value-of select="." />
                                  <xsl:if test="not(position() = last())">
                                     <br />
                                  </xsl:if>
                               </xsl:for-each>
                               <div class="std_grid_cell_sizer">
                                  <xsl:if test="boolean(/lxml:data/lxml:context[@design])">
                                     <xsl:attribute name="class">hidden__</xsl:attribute>
                                  </xsl:if>
                                  <xsl:comment>.</xsl:comment>
                               </div>
                            </th>
                            <th class="utext LADRFLD std_grid_sort_indicator"
                                __decimalseparator="" __formattype="alpha" __mode="input"
                                __allowsort="true">
                               <xsl:for-each select="$thelist/lxml:list-header/lxml:header[5]/*[.//text()[normalize-space(.)!='']]"
                                             wd:edit-as-list="false">
                                  <xsl:value-of select="." />
                                  <xsl:if test="not(position() = last())">
                                     <br />
                                  </xsl:if>
                               </xsl:for-each>
                               <div class="std_grid_cell_sizer">
                                  <xsl:if test="boolean(/lxml:data/lxml:context[@design])">
                                     <xsl:attribute name="class">hidden__</xsl:attribute>
                                  </xsl:if>
                                  <xsl:comment>.</xsl:comment>
                               </div>
                            </th>
                         </tr>
                      </thead>
                      <tbody>
                         <xsl:for-each select="$thelist/lxml:list-entries/lxml:entry">
                            <xsl:variable name="LADMDSC" select="lxml:column[1]" />
                            <xsl:variable name="LADMWAM" select="lxml:column[2]" />
                            <xsl:variable name="LADMWR" select="lxml:column[3]" />
                            <xsl:variable name="LADRVAL" select="lxml:column[4]" />
                            <xsl:variable name="LADRFLD" select="lxml:column[5]" />
                            <tr __oddrc="list-o" __evenrc="list-e">
                               <xsl:attribute name="class">
                                  <xsl:choose>
                                     <xsl:when test="position() mod 2">list-o</xsl:when>
                                     <xsl:otherwise>list-e</xsl:otherwise>
                                  </xsl:choose>
                               </xsl:attribute>
                               <td class="LADMDSC">
                                  <xsl:attribute name="__cellValue">
                                     <xsl:value-of select="$LADMDSC" />
                                  </xsl:attribute>
                                  <input class="text" id="{$LADMDSC/@id}" maxlength="30"
                                         onchange="return isValidText(this, ' ')"
                                         size="30" name="{$LADMDSC/@id}"
                                         value="{$LADMDSC}" />
                               </td>
                               <td class="LADMWAM">
                                  <xsl:attribute name="__cellValue">
                                     <xsl:value-of select="$LADMWAM" />
                                  </xsl:attribute>
                                  <input class="utext" id="{$LADMWAM/@id}" maxlength="10"
                                         onchange="return isValidText(this, ' ')"
                                         size="10" name="{$LADMWAM/@id}"
                                         value="{$LADMWAM}" />
                               </td>
                               <td class="LADMWR">
                                  <xsl:attribute name="__cellValue">
                                     <xsl:value-of select="$LADMWR" />
                                  </xsl:attribute>
                                  <input class="utext" id="{$LADMWR/@id}" maxlength="10"
                                         onchange="return isValidText(this, ' ')"
                                         size="10" name="{$LADMWR/@id}" value="{$LADMWR}" />
                               </td>
                               <td class="LADRVAL">
                                  <xsl:attribute name="__cellValue">
                                     <xsl:value-of select="$LADRVAL" />
                                  </xsl:attribute>
                                  <input class="utext" id="{$LADRVAL/@id}" maxlength="10"
                                         onchange="return isValidText(this, ' ')"
                                         size="10" name="{$LADRVAL/@id}"
                                         value="{$LADRVAL}" />
                               </td>
                               <td class="LADRFLD">
                                  <xsl:attribute name="__cellValue">
                                     <xsl:value-of select="$LADRFLD" />
                                  </xsl:attribute>
                                  <input class="utext" id="{$LADRFLD/@id}" maxlength="10"
                                         onchange="return isValidText(this, ' ')"
                                         size="10" name="{$LADRFLD/@id}"
                                         value="{$LADRFLD}" />
                               </td>
                            </tr>
                         </xsl:for-each>
                      </tbody>
                   </table>
                </div>
             </xsl:template>
          
             <xsl:template match="/lxml:data/lxml:lists/lxml:list[@name='PRODLSTW']">
                <xsl:param name="allow_sort" select="true()" wd:tip_id=""
                           wd:type="std:boolean" />
                <xsl:param name="allow_col_resize" select="true()" wd:tip_id=""
                           wd:type="std:boolean" />
                <xsl:variable name="thelist"
                              select="/lxml:data/lxml:lists/lxml:list[@name='PRODLSTW']" />
                <script language="javascript">
                   <xsl:text disable-output-escaping="yes">//&lt;![CDATA[</xsl:text>
                   function init_stdGrid_PRODLSTW() {
                   var g = register_std_grid('PRODLSTW',13);
                   g.allowSort = <xsl:value-of select="$allow_sort" />;
                   g.allowColResize = <xsl:value-of select="$allow_col_resize" />;
                   var col = 0;
                   var ss = document.styleSheets[0];
                   var gid = '.std_grid#PRODLSTW ';
                   
                   }
                   init_stdGrid_PRODLSTW();
                   <xsl:text disable-output-escaping="yes">//]]&gt;</xsl:text>
                </script>
                <input type="hidden" name="PRODLSTW.."
                       value="{count(lxml:list-entries/lxml:entry[1])}" />
                <div id="PRODLSTW_wrap" class="std_grid_wrapper">
                   <xsl:if test="$lweb_design_mode">
                      <xsl:attribute name="class">std_grid_wrapper_designtime</xsl:attribute>
                   </xsl:if>
                   <table id="PRODLSTW" class="std_grid">
                      <thead>
                         <tr class="list-h">
                            <th class="utext W_DTYPE std_grid_sort_indicator"
                                __allowsort="true" __mode="input" __formattype="alpha"
                                __decimalseparator="">
                               <xsl:for-each select="$thelist/lxml:list-header/lxml:header[1]/*[.//text()[normalize-space(.)!='']]"
                                             wd:edit-as-list="false">
                                  <xsl:value-of select="." />
                                  <xsl:if test="not(position() = last())">
                                     <br />
                                  </xsl:if>
                               </xsl:for-each>
                               <div class="std_grid_cell_sizer">
                                  <xsl:if test="boolean(/lxml:data/lxml:context[@design])">
                                     <xsl:attribute name="class">hidden__</xsl:attribute>
                                  </xsl:if>
                                  <xsl:comment>.</xsl:comment>
                               </div>
                            </th>
                            <th class="number LW3SFID std_grid_sort_indicator"
                                __allowsort="true" __mode="input" __formattype="packed"
                                __decimalseparator=".">
                               <xsl:for-each select="$thelist/lxml:list-header/lxml:header[2]/*[.//text()[normalize-space(.)!='']]"
                                             wd:edit-as-list="false">
                                  <xsl:value-of select="." />
                                  <xsl:if test="not(position() = last())">
                                     <br />
                                  </xsl:if>
                               </xsl:for-each>
                               <div class="std_grid_cell_sizer">
                                  <xsl:if test="boolean(/lxml:data/lxml:context[@design])">
                                     <xsl:attribute name="class">hidden__</xsl:attribute>
                                  </xsl:if>
                                  <xsl:comment>.</xsl:comment>
                               </div>
                            </th>
                            <th class="number LW3PROMID std_grid_sort_indicator"
                                __allowsort="true" __mode="input" __formattype="signed"
                                __decimalseparator=".">
                               <xsl:for-each select="$thelist/lxml:list-header/lxml:header[3]/*[.//text()[normalize-space(.)!='']]"
                                             wd:edit-as-list="false">
                                  <xsl:value-of select="." />
                                  <xsl:if test="not(position() = last())">
                                     <br />
                                  </xsl:if>
                               </xsl:for-each>
                               <div class="std_grid_cell_sizer">
                                  <xsl:if test="boolean(/lxml:data/lxml:context[@design])">
                                     <xsl:attribute name="class">hidden__</xsl:attribute>
                                  </xsl:if>
                                  <xsl:comment>.</xsl:comment>
                               </div>
                            </th>
                            <th class="number LW3PCTDIS std_grid_sort_indicator"
                                __allowsort="true" __mode="input" __formattype="signed"
                                __decimalseparator=".">
                               <xsl:for-each select="$thelist/lxml:list-header/lxml:header[4]/*[.//text()[normalize-space(.)!='']]"
                                             wd:edit-as-list="false">
                                  <xsl:value-of select="." />
                                  <xsl:if test="not(position() = last())">
                                     <br />
                                  </xsl:if>
                               </xsl:for-each>
                               <div class="std_grid_cell_sizer">
                                  <xsl:if test="boolean(/lxml:data/lxml:context[@design])">
                                     <xsl:attribute name="class">hidden__</xsl:attribute>
                                  </xsl:if>
                                  <xsl:comment>.</xsl:comment>
                               </div>
                            </th>
                            <th class="number LW3DOLDIS std_grid_sort_indicator"
                                __allowsort="true" __mode="input" __formattype="signed"
                                __decimalseparator=".">
                               <xsl:for-each select="$thelist/lxml:list-header/lxml:header[5]/*[.//text()[normalize-space(.)!='']]"
                                             wd:edit-as-list="false">
                                  <xsl:value-of select="." />
                                  <xsl:if test="not(position() = last())">
                                     <br />
                                  </xsl:if>
                               </xsl:for-each>
                               <div class="std_grid_cell_sizer">
                                  <xsl:if test="boolean(/lxml:data/lxml:context[@design])">
                                     <xsl:attribute name="class">hidden__</xsl:attribute>
                                  </xsl:if>
                                  <xsl:comment>.</xsl:comment>
                               </div>
                            </th>
                            <th class="utext LW3ITEMCD std_grid_sort_indicator"
                                __allowsort="true" __mode="input" __formattype="alpha"
                                __decimalseparator="">
                               <xsl:for-each select="$thelist/lxml:list-header/lxml:header[6]/*[.//text()[normalize-space(.)!='']]"
                                             wd:edit-as-list="false">
                                  <xsl:value-of select="." />
                                  <xsl:if test="not(position() = last())">
                                     <br />
                                  </xsl:if>
                               </xsl:for-each>
                               <div class="std_grid_cell_sizer">
                                  <xsl:if test="boolean(/lxml:data/lxml:context[@design])">
                                     <xsl:attribute name="class">hidden__</xsl:attribute>
                                  </xsl:if>
                                  <xsl:comment>.</xsl:comment>
                               </div>
                            </th>
                            <th class="number LW3CATID std_grid_sort_indicator"
                                __allowsort="true" __mode="input" __formattype="packed"
                                __decimalseparator=".">
                               <xsl:for-each select="$thelist/lxml:list-header/lxml:header[7]/*[.//text()[normalize-space(.)!='']]"
                                             wd:edit-as-list="false">
                                  <xsl:value-of select="." />
                                  <xsl:if test="not(position() = last())">
                                     <br />
                                  </xsl:if>
                               </xsl:for-each>
                               <div class="std_grid_cell_sizer">
                                  <xsl:if test="boolean(/lxml:data/lxml:context[@design])">
                                     <xsl:attribute name="class">hidden__</xsl:attribute>
                                  </xsl:if>
                                  <xsl:comment>.</xsl:comment>
                               </div>
                            </th>
                            <th class="number LW3QTY std_grid_sort_indicator"
                                __allowsort="true" __mode="input" __formattype="signed"
                                __decimalseparator=".">
                               <xsl:for-each select="$thelist/lxml:list-header/lxml:header[8]/*[.//text()[normalize-space(.)!='']]"
                                             wd:edit-as-list="false">
                                  <xsl:value-of select="." />
                                  <xsl:if test="not(position() = last())">
                                     <br />
                                  </xsl:if>
                               </xsl:for-each>
                               <div class="std_grid_cell_sizer">
                                  <xsl:if test="boolean(/lxml:data/lxml:context[@design])">
                                     <xsl:attribute name="class">hidden__</xsl:attribute>
                                  </xsl:if>
                                  <xsl:comment>.</xsl:comment>
                               </div>
                            </th>
                            <th class="utext LW3FREGFT std_grid_sort_indicator"
                                __allowsort="true" __mode="input" __formattype="alpha"
                                __decimalseparator="">
                               <xsl:for-each select="$thelist/lxml:list-header/lxml:header[9]/*[.//text()[normalize-space(.)!='']]"
                                             wd:edit-as-list="false">
                                  <xsl:value-of select="." />
                                  <xsl:if test="not(position() = last())">
                                     <br />
                                  </xsl:if>
                               </xsl:for-each>
                               <div class="std_grid_cell_sizer">
                                  <xsl:if test="boolean(/lxml:data/lxml:context[@design])">
                                     <xsl:attribute name="class">hidden__</xsl:attribute>
                                  </xsl:if>
                                  <xsl:comment>.</xsl:comment>
                               </div>
                            </th>
                            <th class="utext LW3SSHPTP std_grid_sort_indicator"
                                __allowsort="true" __mode="input" __formattype="alpha"
                                __decimalseparator="">
                               <xsl:for-each select="$thelist/lxml:list-header/lxml:header[10]/*[.//text()[normalize-space(.)!='']]"
                                             wd:edit-as-list="false">
                                  <xsl:value-of select="." />
                                  <xsl:if test="not(position() = last())">
                                     <br />
                                  </xsl:if>
                               </xsl:for-each>
                               <div class="std_grid_cell_sizer">
                                  <xsl:if test="boolean(/lxml:data/lxml:context[@design])">
                                     <xsl:attribute name="class">hidden__</xsl:attribute>
                                  </xsl:if>
                                  <xsl:comment>.</xsl:comment>
                               </div>
                            </th>
                            <th class="utext W_ADDFLG std_grid_sort_indicator"
                                __allowsort="true" __mode="input" __formattype="alpha"
                                __decimalseparator="">
                               <xsl:for-each select="$thelist/lxml:list-header/lxml:header[11]/*[.//text()[normalize-space(.)!='']]"
                                             wd:edit-as-list="false">
                                  <xsl:value-of select="." />
                                  <xsl:if test="not(position() = last())">
                                     <br />
                                  </xsl:if>
                               </xsl:for-each>
                               <div class="std_grid_cell_sizer">
                                  <xsl:if test="boolean(/lxml:data/lxml:context[@design])">
                                     <xsl:attribute name="class">hidden__</xsl:attribute>
                                  </xsl:if>
                                  <xsl:comment>.</xsl:comment>
                               </div>
                            </th>
                            <th class="number W_ROWNUM std_grid_sort_indicator"
                                __allowsort="true" __mode="input" __formattype="packed"
                                __decimalseparator=".">
                               <xsl:for-each select="$thelist/lxml:list-header/lxml:header[12]/*[.//text()[normalize-space(.)!='']]"
                                             wd:edit-as-list="false">
                                  <xsl:value-of select="." />
                                  <xsl:if test="not(position() = last())">
                                     <br />
                                  </xsl:if>
                               </xsl:for-each>
                               <div class="std_grid_cell_sizer">
                                  <xsl:if test="boolean(/lxml:data/lxml:context[@design])">
                                     <xsl:attribute name="class">hidden__</xsl:attribute>
                                  </xsl:if>
                                  <xsl:comment>.</xsl:comment>
                               </div>
                            </th>
                            <th class="number LW3SEQ std_grid_sort_indicator"
                                __allowsort="true" __mode="input" __formattype="packed"
                                __decimalseparator=".">
                               <xsl:for-each select="$thelist/lxml:list-header/lxml:header[13]/*[.//text()[normalize-space(.)!='']]"
                                             wd:edit-as-list="false">
                                  <xsl:value-of select="." />
                                  <xsl:if test="not(position() = last())">
                                     <br />
                                  </xsl:if>
                               </xsl:for-each>
                               <div class="std_grid_cell_sizer">
                                  <xsl:if test="boolean(/lxml:data/lxml:context[@design])">
                                     <xsl:attribute name="class">hidden__</xsl:attribute>
                                  </xsl:if>
                                  <xsl:comment>.</xsl:comment>
                               </div>
                            </th>
                         </tr>
                      </thead>
                      <tbody>
                         <xsl:for-each select="$thelist/lxml:list-entries/lxml:entry">
                            <xsl:variable name="W_DTYPE" select="lxml:column[1]" />
                            <xsl:variable name="LW3SFID" select="lxml:column[2]" />
                            <xsl:variable name="LW3PROMID" select="lxml:column[3]" />
                            <xsl:variable name="LW3PCTDIS" select="lxml:column[4]" />
                            <xsl:variable name="LW3DOLDIS" select="lxml:column[5]" />
                            <xsl:variable name="LW3ITEMCD" select="lxml:column[6]" />
                            <xsl:variable name="LW3CATID" select="lxml:column[7]" />
                            <xsl:variable name="LW3QTY" select="lxml:column[8]" />
                            <xsl:variable name="LW3FREGFT" select="lxml:column[9]" />
                            <xsl:variable name="LW3SSHPTP" select="lxml:column[10]" />
                            <xsl:variable name="W_ADDFLG" select="lxml:column[11]" />
                            <xsl:variable name="W_ROWNUM" select="lxml:column[12]" />
                            <xsl:variable name="LW3SEQ" select="lxml:column[13]" />
                            <tr __evenrc="list-e" __oddrc="list-o">
                               <xsl:attribute name="class">
                                  <xsl:choose>
                                     <xsl:when test="position() mod 2">list-o</xsl:when>
                                     <xsl:otherwise>list-e</xsl:otherwise>
                                  </xsl:choose>
                               </xsl:attribute>
                               <td class="W_DTYPE">
                                  <xsl:attribute name="__cellValue">
                                     <xsl:value-of select="$W_DTYPE" />
                                  </xsl:attribute>
                                  <input id="{$W_DTYPE/@id}" class="utext"
                                         onchange="return isValidText(this, ' ')"
                                         maxlength="1" size="1" name="{$W_DTYPE/@id}"
                                         value="{$W_DTYPE}" />
                               </td>
                               <td class="LW3SFID">
                                  <xsl:attribute name="__cellValue">
                                     <xsl:value-of select="$LW3SFID" />
                                  </xsl:attribute>
                                  <input class="number"
                                         onchange="return isValidNumber(this, '2', '0', '.')"
                                         maxlength="5" size="5" name="{$LW3SFID/@id}"
                                         value="{$LW3SFID}" />
                               </td>
                               <td class="LW3PROMID">
                                  <xsl:attribute name="__cellValue">
                                     <xsl:value-of select="$LW3PROMID" />
                                  </xsl:attribute>
                                  <input class="number"
                                         onchange="return isValidNumber(this, '8', '0', '.')"
                                         maxlength="13" size="13" name="{$LW3PROMID/@id}"
                                         value="{$LW3PROMID}" />
                               </td>
                               <td class="LW3PCTDIS">
                                  <xsl:attribute name="__cellValue">
                                     <xsl:value-of select="$LW3PCTDIS" />
                                  </xsl:attribute>
                                  <input class="number"
                                         onchange="return isValidNumber(this, '5', '2', '.')"
                                         maxlength="10" size="10" name="{$LW3PCTDIS/@id}"
                                         value="{$LW3PCTDIS}" />
                               </td>
                               <td class="LW3DOLDIS">
                                  <xsl:attribute name="__cellValue">
                                     <xsl:value-of select="$LW3DOLDIS" />
                                  </xsl:attribute>
                                  <input class="number"
                                         onchange="return isValidNumber(this, '15', '2', '.')"
                                         maxlength="23" size="23" name="{$LW3DOLDIS/@id}"
                                         value="{$LW3DOLDIS}" />
                               </td>
                               <td class="LW3ITEMCD">
                                  <xsl:attribute name="__cellValue">
                                     <xsl:value-of select="$LW3ITEMCD" />
                                  </xsl:attribute>
                                  <input id="{$LW3ITEMCD/@id}" class="utext"
                                         onchange="return isValidText(this, ' ')"
                                         maxlength="15" size="15" name="{$LW3ITEMCD/@id}"
                                         value="{$LW3ITEMCD}" />
                               </td>
                               <td class="LW3CATID">
                                  <xsl:attribute name="__cellValue">
                                     <xsl:value-of select="$LW3CATID" />
                                  </xsl:attribute>
                                  <input class="number"
                                         onchange="return isValidNumber(this, '10', '0', '.')"
                                         maxlength="16" size="16" name="{$LW3CATID/@id}"
                                         value="{$LW3CATID}" />
                               </td>
                               <td class="LW3QTY">
                                  <xsl:attribute name="__cellValue">
                                     <xsl:value-of select="$LW3QTY" />
                                  </xsl:attribute>
                                  <input class="number"
                                         onchange="return isValidNumber(this, '15', '0', '.')"
                                         maxlength="23" size="23" name="{$LW3QTY/@id}"
                                         value="{$LW3QTY}" />
                               </td>
                               <td class="LW3FREGFT">
                                  <xsl:attribute name="__cellValue">
                                     <xsl:value-of select="$LW3FREGFT" />
                                  </xsl:attribute>
                                  <input id="{$LW3FREGFT/@id}" class="utext"
                                         onchange="return isValidText(this, ' ')"
                                         maxlength="1" size="1" name="{$LW3FREGFT/@id}"
                                         value="{$LW3FREGFT}" />
                               </td>
                               <td class="LW3SSHPTP">
                                  <xsl:attribute name="__cellValue">
                                     <xsl:value-of select="$LW3SSHPTP" />
                                  </xsl:attribute>
                                  <input id="{$LW3SSHPTP/@id}" class="utext"
                                         onchange="return isValidText(this, ' ')"
                                         maxlength="4" size="4" name="{$LW3SSHPTP/@id}"
                                         value="{$LW3SSHPTP}" />
                               </td>
                               <td class="W_ADDFLG">
                                  <xsl:attribute name="__cellValue">
                                     <xsl:value-of select="$W_ADDFLG" />
                                  </xsl:attribute>
                                  <input id="{$W_ADDFLG/@id}" class="utext"
                                         onchange="return isValidText(this, ' ')"
                                         maxlength="1" size="1" name="{$W_ADDFLG/@id}"
                                         value="{$W_ADDFLG}" />
                               </td>
                               <td class="W_ROWNUM">
                                  <xsl:attribute name="__cellValue">
                                     <xsl:value-of select="$W_ROWNUM" />
                                  </xsl:attribute>
                                  <input class="number"
                                         onchange="return isValidNumber(this, '4', '0', '.')"
                                         maxlength="8" size="8" name="{$W_ROWNUM/@id}"
                                         value="{$W_ROWNUM}" />
                               </td>
                               <td class="LW3SEQ">
                                  <xsl:attribute name="__cellValue">
                                     <xsl:value-of select="$LW3SEQ" />
                                  </xsl:attribute>
                                  <input class="number"
                                         onchange="return isValidNumber(this, '4', '0', '.')"
                                         maxlength="8" size="8" name="{$LW3SEQ/@id}"
                                         value="{$LW3SEQ}" />
                               </td>
                            </tr>
                         </xsl:for-each>
                      </tbody>
                   </table>
                </div>
             </xsl:template>
          </xsl:transform>

  - AJAX_REMOVE_ITEM:
      XML: |
        <?xml version="1.0" encoding="UTF-8"?>
        
        <!-- WAM       : WPROMMNT - ?
             Webroutine: AJAX_REMOVE_ITEM - 
             Timestamp : 2015-09-14T00:33:31-05:00 -->
        
        <lxml:data xmlns:lxml="http://www.lansa.com/2002/XML/Runtime-Data">
        
        <lxml:server-instructions>
        <lxml:client-charset></lxml:client-charset>
        <lxml:cookies><lxml:cookie name="STDSESSID"><lxml:value field-name="STDSESSID"></lxml:value>
        <lxml:expires field-name="LW3CEXPDT"></lxml:expires>
        <lxml:domain></lxml:domain>
        <lxml:path>/; HttpOnly</lxml:path>
        <lxml:secure></lxml:secure>
        </lxml:cookie>
        <lxml:cookie name="STDWEBUSR"><lxml:value field-name="STDWEBUSR"></lxml:value>
        <lxml:expires field-name=""></lxml:expires>
        <lxml:domain field-name=""></lxml:domain>
        <lxml:path field-name=""></lxml:path>
        <lxml:secure field-name=""></lxml:secure>
        </lxml:cookie>
        </lxml:cookies>
        <lxml:ssi></lxml:ssi>
        </lxml:server-instructions>
        
        <lxml:context>
        <lxml:user-id>          </lxml:user-id>
        <lxml:webapplication>WPROMMNT</lxml:webapplication>
        <lxml:webapplication-title>?</lxml:webapplication-title>
        <lxml:webroutine>AJAX_REMOVE_ITEM</lxml:webroutine>
        <lxml:webroutine-title></lxml:webroutine-title>
        <lxml:service-name></lxml:service-name>
        <lxml:partition>CML</lxml:partition>
        <lxml:language iso-lang="en">ENG</lxml:language>
        <lxml:dec-separator>.</lxml:dec-separator>
        <lxml:images-path>/images</lxml:images-path>
        <lxml:action-request>/cgi-bin/lansaweb</lxml:action-request>
        </lxml:context>
        
        <lxml:options>
        <lxml:option name="DBCS">false</lxml:option>
        <lxml:option name="align-right">true</lxml:option>
        <lxml:option name="check-numeric">false</lxml:option>
        <lxml:option name="debug" />
        <lxml:option name="trace" />
        <lxml:option name="task" />
        </lxml:options>
        
        <lxml:variables />
        
        <lxml:messages></lxml:messages>
        
        <lxml:fields>
        <lxml:field name="LW3MHTML">
        <lxml:caption>
        <lxml:label>Menu Html</lxml:label>
        <lxml:description>Menu Html</lxml:description>
        <lxml:heading-1>Menu</lxml:heading-1>
        <lxml:heading-2>Html</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="LW3WEBUSR">
        <lxml:caption>
        <lxml:label>User Id</lxml:label>
        <lxml:description>Web User Name</lxml:description>
        <lxml:heading-1>Web</lxml:heading-1>
        <lxml:heading-2>User</lxml:heading-2>
        <lxml:heading-3>Name</lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="LW3SFID">
        <lxml:caption>
        <lxml:label>Store Front ID</lxml:label>
        <lxml:description>Store Front ID</lxml:description>
        <lxml:heading-1>Store</lxml:heading-1>
        <lxml:heading-2>Front</lxml:heading-2>
        <lxml:heading-3>ID</lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="LW3SFCUR">
        <lxml:caption>
        <lxml:label>Current Store F</lxml:label>
        <lxml:description>Current Store Front</lxml:description>
        <lxml:heading-1>Current</lxml:heading-1>
        <lxml:heading-2>Store</lxml:heading-2>
        <lxml:heading-3>Front</lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="S_PARAG">
        <lxml:caption>
        <lxml:label>S_PARAG</lxml:label>
        <lxml:description>Intro Paragraph</lxml:description>
        <lxml:heading-1>S_PARAG</lxml:heading-1>
        <lxml:heading-2></lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="LW3NAME">
        <lxml:caption>
        <lxml:label>Store Front Nam</lxml:label>
        <lxml:description>Store Front Name</lxml:description>
        <lxml:heading-1>Store</lxml:heading-1>
        <lxml:heading-2>Front</lxml:heading-2>
        <lxml:heading-3>Name</lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="W_MSGPRM1">
        <lxml:caption>
        <lxml:label>Variable Text</lxml:label>
        <lxml:description>Must provide a Promotion Name.</lxml:description>
        <lxml:heading-1>Variable</lxml:heading-1>
        <lxml:heading-2>Text</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="W_MSGPRM2">
        <lxml:caption>
        <lxml:label>Variable Text</lxml:label>
        <lxml:description>Promotion Code required for non global..</lxml:description>
        <lxml:heading-1>Variable</lxml:heading-1>
        <lxml:heading-2>Text</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="W_MSGPRM3">
        <lxml:caption>
        <lxml:label>Variable Text</lxml:label>
        <lxml:description>Must provide a value for Percentage...</lxml:description>
        <lxml:heading-1>Variable</lxml:heading-1>
        <lxml:heading-2>Text</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="W_MSGPRM4">
        <lxml:caption>
        <lxml:label>Variable Text</lxml:label>
        <lxml:description>Percent Discount must be a number.</lxml:description>
        <lxml:heading-1>Variable</lxml:heading-1>
        <lxml:heading-2>Text</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="W_MSGPRM5">
        <lxml:caption>
        <lxml:label>Variable Text</lxml:label>
        <lxml:description>Dollar Discount must be a number.</lxml:description>
        <lxml:heading-1>Variable</lxml:heading-1>
        <lxml:heading-2>Text</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="W_MSGPRM6">
        <lxml:caption>
        <lxml:label>Variable Text</lxml:label>
        <lxml:description>Minimum Order Amount must be greater...</lxml:description>
        <lxml:heading-1>Variable</lxml:heading-1>
        <lxml:heading-2>Text</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="W_MSGPRM7">
        <lxml:caption>
        <lxml:label>Variable Text</lxml:label>
        <lxml:description>Minimum Order Amount must be a number...</lxml:description>
        <lxml:heading-1>Variable</lxml:heading-1>
        <lxml:heading-2>Text</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="W_MSGPRM8">
        <lxml:caption>
        <lxml:label>Variable Text</lxml:label>
        <lxml:description>Minimum Quantity must be greater than...</lxml:description>
        <lxml:heading-1>Variable</lxml:heading-1>
        <lxml:heading-2>Text</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="W_MSGPRM9">
        <lxml:caption>
        <lxml:label>Variable Text</lxml:label>
        <lxml:description>Minimum Quantity must be a number...</lxml:description>
        <lxml:heading-1>Variable</lxml:heading-1>
        <lxml:heading-2>Text</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="W_MSGPR10">
        <lxml:caption>
        <lxml:label>Variable Text</lxml:label>
        <lxml:description>User based promotions require a...</lxml:description>
        <lxml:heading-1>Variable</lxml:heading-1>
        <lxml:heading-2>Text</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="W_MSGPR11">
        <lxml:caption>
        <lxml:label>Variable Text</lxml:label>
        <lxml:description>Minimum Amount Spent on Orders must...</lxml:description>
        <lxml:heading-1>Variable</lxml:heading-1>
        <lxml:heading-2>Text</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="W_MSGPR12">
        <lxml:caption>
        <lxml:label>Variable Text</lxml:label>
        <lxml:description>Minimum Amount Spent on Orders must...</lxml:description>
        <lxml:heading-1>Variable</lxml:heading-1>
        <lxml:heading-2>Text</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="W_MSGPR13">
        <lxml:caption>
        <lxml:label>Variable Text</lxml:label>
        <lxml:description>Previous # Days must not be less than...</lxml:description>
        <lxml:heading-1>Variable</lxml:heading-1>
        <lxml:heading-2>Text</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="W_MSGPR14">
        <lxml:caption>
        <lxml:label>Variable Text</lxml:label>
        <lxml:description>Previous # Days must be a number...</lxml:description>
        <lxml:heading-1>Variable</lxml:heading-1>
        <lxml:heading-2>Text</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="W_MSGPR15">
        <lxml:caption>
        <lxml:label>Variable Text</lxml:label>
        <lxml:description>Previous # Months must not be less...</lxml:description>
        <lxml:heading-1>Variable</lxml:heading-1>
        <lxml:heading-2>Text</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="W_MSGPR16">
        <lxml:caption>
        <lxml:label>Variable Text</lxml:label>
        <lxml:description>Previous # Months must be a number...</lxml:description>
        <lxml:heading-1>Variable</lxml:heading-1>
        <lxml:heading-2>Text</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="W_MSGPR17">
        <lxml:caption>
        <lxml:label>Variable Text</lxml:label>
        <lxml:description>Must provide a value for past #...</lxml:description>
        <lxml:heading-1>Variable</lxml:heading-1>
        <lxml:heading-2>Text</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="W_MSGPR18">
        <lxml:caption>
        <lxml:label>Variable Text</lxml:label>
        <lxml:description>Must provide a value for past # Days...</lxml:description>
        <lxml:heading-1>Variable</lxml:heading-1>
        <lxml:heading-2>Text</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="W_MSGPR19">
        <lxml:caption>
        <lxml:label>Variable Text</lxml:label>
        <lxml:description>Percent Discount must not be less...</lxml:description>
        <lxml:heading-1>Variable</lxml:heading-1>
        <lxml:heading-2>Text</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="W_MSGPR20">
        <lxml:caption>
        <lxml:label>Variable Text</lxml:label>
        <lxml:description>Dollar Discount must not be less than...</lxml:description>
        <lxml:heading-1>Variable</lxml:heading-1>
        <lxml:heading-2>Text</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="W_MSGPR21">
        <lxml:caption>
        <lxml:label>Variable Text</lxml:label>
        <lxml:description>Can specify one of Percentage...</lxml:description>
        <lxml:heading-1>Variable</lxml:heading-1>
        <lxml:heading-2>Text</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="W_MSGPR22">
        <lxml:caption>
        <lxml:label>Variable Text</lxml:label>
        <lxml:description>Quantity to Apply Discount on must...</lxml:description>
        <lxml:heading-1>Variable</lxml:heading-1>
        <lxml:heading-2>Text</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="W_MSGPR23">
        <lxml:caption>
        <lxml:label>Variable Text</lxml:label>
        <lxml:description>Quantity to Apply Discount on must...</lxml:description>
        <lxml:heading-1>Variable</lxml:heading-1>
        <lxml:heading-2>Text</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="LW3LCOUNT">
        <lxml:caption>
        <lxml:label>count</lxml:label>
        <lxml:description>count</lxml:description>
        <lxml:heading-1>count</lxml:heading-1>
        <lxml:heading-2></lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        </lxml:fields>
        
        <lxml:lists>
        <lxml:list name="LS_MLNVAR" row-count="5">
        <lxml:list-header>
        <lxml:header name="FXVARNAM">
        <lxml:heading-1>Variable</lxml:heading-1>
        <lxml:heading-2>Name</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:header>
        <lxml:header name="FXVARTXT">
        <lxml:heading-1>Variable</lxml:heading-1>
        <lxml:heading-2>Text</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:header>
        </lxml:list-header>
        <lxml:list-entries>
        <lxml:entry>
        <lxml:column name="FXVARNAM" id="LS_MLNVAR.0001.FXVARNAM">ABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHI</lxml:column>
        <lxml:column name="FXVARTXT" id="LS_MLNVAR.0001.FXVARTXT">aAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxXyYzZaAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxXyYzZaAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxXyYzZaAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxXyYzZaAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxX</lxml:column>
        </lxml:entry>
        <lxml:entry>
        <lxml:column name="FXVARNAM" id="LS_MLNVAR.0002.FXVARNAM">ABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHI</lxml:column>
        <lxml:column name="FXVARTXT" id="LS_MLNVAR.0002.FXVARTXT">aAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxXyYzZaAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxXyYzZaAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxXyYzZaAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxXyYzZaAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxX</lxml:column>
        </lxml:entry>
        <lxml:entry>
        <lxml:column name="FXVARNAM" id="LS_MLNVAR.0003.FXVARNAM">ABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHI</lxml:column>
        <lxml:column name="FXVARTXT" id="LS_MLNVAR.0003.FXVARTXT">aAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxXyYzZaAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxXyYzZaAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxXyYzZaAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxXyYzZaAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxX</lxml:column>
        </lxml:entry>
        <lxml:entry>
        <lxml:column name="FXVARNAM" id="LS_MLNVAR.0004.FXVARNAM">ABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHI</lxml:column>
        <lxml:column name="FXVARTXT" id="LS_MLNVAR.0004.FXVARTXT">aAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxXyYzZaAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxXyYzZaAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxXyYzZaAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxXyYzZaAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxX</lxml:column>
        </lxml:entry>
        <lxml:entry>
        <lxml:column name="FXVARNAM" id="LS_MLNVAR.0005.FXVARNAM">ABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHI</lxml:column>
        <lxml:column name="FXVARTXT" id="LS_MLNVAR.0005.FXVARTXT">aAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxXyYzZaAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxXyYzZaAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxXyYzZaAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxXyYzZaAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxX</lxml:column>
        </lxml:entry>
        </lxml:list-entries>
        </lxml:list>
        
        <lxml:list name="PRORLSTW" row-count="5">
        <lxml:list-header>
        <lxml:header name="W_RLEVEL">
        <lxml:heading-1>Promotion</lxml:heading-1>
        <lxml:heading-2>Requirement</lxml:heading-2>
        <lxml:heading-3>Level</lxml:heading-3>
        </lxml:header>
        <lxml:header name="LW3SFID">
        <lxml:heading-1>Store</lxml:heading-1>
        <lxml:heading-2>Front</lxml:heading-2>
        <lxml:heading-3>ID</lxml:heading-3>
        </lxml:header>
        <lxml:header name="LW3PROMID">
        <lxml:heading-1>Promotions/Discounts</lxml:heading-1>
        <lxml:heading-2>ID</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:header>
        <lxml:header name="LW3MINAMT">
        <lxml:heading-1>Minimum</lxml:heading-1>
        <lxml:heading-2>Order</lxml:heading-2>
        <lxml:heading-3>Amount</lxml:heading-3>
        </lxml:header>
        <lxml:header name="LW3ITEMCD">
        <lxml:heading-1>Item Code</lxml:heading-1>
        <lxml:heading-2></lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:header>
        <lxml:header name="LW3CATID">
        <lxml:heading-1>Category ID</lxml:heading-1>
        <lxml:heading-2></lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:header>
        <lxml:header name="LW3MINQTY">
        <lxml:heading-1>Minimum</lxml:heading-1>
        <lxml:heading-2>Quantity</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:header>
        <lxml:header name="LW3NUMDAY">
        <lxml:heading-1>Number</lxml:heading-1>
        <lxml:heading-2>of</lxml:heading-2>
        <lxml:heading-3>Days</lxml:heading-3>
        </lxml:header>
        <lxml:header name="LW3NUMMTH">
        <lxml:heading-1>Number</lxml:heading-1>
        <lxml:heading-2>of</lxml:heading-2>
        <lxml:heading-3>Months</lxml:heading-3>
        </lxml:header>
        <lxml:header name="W_ADDFLG">
        <lxml:heading-1>W_ADDFLG</lxml:heading-1>
        <lxml:heading-2></lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:header>
        <lxml:header name="W_ROWNUM">
        <lxml:heading-1>W_ROWNUM</lxml:heading-1>
        <lxml:heading-2></lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:header>
        <lxml:header name="LW3SEQ">
        <lxml:heading-1>Sequence</lxml:heading-1>
        <lxml:heading-2>Number</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:header>
        <lxml:header name="LW3IDESC">
        <lxml:heading-1>Description</lxml:heading-1>
        <lxml:heading-2></lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:header>
        <lxml:header name="LW3CATNAM">
        <lxml:heading-1>Category</lxml:heading-1>
        <lxml:heading-2>Name</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:header>
        <lxml:header name="W_RLVLDSC">
        <lxml:heading-1>W_RLVLDSC</lxml:heading-1>
        <lxml:heading-2></lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:header>
        </lxml:list-header>
        <lxml:list-entries>
        <lxml:entry>
        <lxml:column name="W_RLEVEL" id="PRORLSTW.0001.W_RLEVEL">A</lxml:column>
        <lxml:column name="LW3SFID" id="PRORLSTW.0001.LW3SFID">12</lxml:column>
        <lxml:column name="LW3PROMID" id="PRORLSTW.0001.LW3PROMID">12345678</lxml:column>
        <lxml:column name="LW3MINAMT" id="PRORLSTW.0001.LW3MINAMT">1,234,567,890,123.12</lxml:column>
        <lxml:column name="LW3ITEMCD" id="PRORLSTW.0001.LW3ITEMCD">ABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHI</lxml:column>
        <lxml:column name="LW3CATID" id="PRORLSTW.0001.LW3CATID">1,234,567,890</lxml:column>
        <lxml:column name="LW3MINQTY" id="PRORLSTW.0001.LW3MINQTY">123,456,789,012,345</lxml:column>
        <lxml:column name="LW3NUMDAY" id="PRORLSTW.0001.LW3NUMDAY">123</lxml:column>
        <lxml:column name="LW3NUMMTH" id="PRORLSTW.0001.LW3NUMMTH">123</lxml:column>
        <lxml:column name="W_ADDFLG" id="PRORLSTW.0001.W_ADDFLG">A</lxml:column>
        <lxml:column name="W_ROWNUM" id="PRORLSTW.0001.W_ROWNUM">1234</lxml:column>
        <lxml:column name="LW3SEQ" id="PRORLSTW.0001.LW3SEQ">1234</lxml:column>
        <lxml:column name="LW3IDESC" id="PRORLSTW.0001.LW3IDESC">aAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxXyY</lxml:column>
        <lxml:column name="LW3CATNAM" id="PRORLSTW.0001.LW3CATNAM">aAbBcCdDeEfFgGhHiIjJkKlLmMnNoO</lxml:column>
        <lxml:column name="W_RLVLDSC" id="PRORLSTW.0001.W_RLVLDSC">ABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUV</lxml:column>
        </lxml:entry>
        <lxml:entry>
        <lxml:column name="W_RLEVEL" id="PRORLSTW.0002.W_RLEVEL">A</lxml:column>
        <lxml:column name="LW3SFID" id="PRORLSTW.0002.LW3SFID">12</lxml:column>
        <lxml:column name="LW3PROMID" id="PRORLSTW.0002.LW3PROMID">12345678</lxml:column>
        <lxml:column name="LW3MINAMT" id="PRORLSTW.0002.LW3MINAMT">1,234,567,890,123.12</lxml:column>
        <lxml:column name="LW3ITEMCD" id="PRORLSTW.0002.LW3ITEMCD">ABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHI</lxml:column>
        <lxml:column name="LW3CATID" id="PRORLSTW.0002.LW3CATID">1,234,567,890</lxml:column>
        <lxml:column name="LW3MINQTY" id="PRORLSTW.0002.LW3MINQTY">123,456,789,012,345</lxml:column>
        <lxml:column name="LW3NUMDAY" id="PRORLSTW.0002.LW3NUMDAY">123</lxml:column>
        <lxml:column name="LW3NUMMTH" id="PRORLSTW.0002.LW3NUMMTH">123</lxml:column>
        <lxml:column name="W_ADDFLG" id="PRORLSTW.0002.W_ADDFLG">A</lxml:column>
        <lxml:column name="W_ROWNUM" id="PRORLSTW.0002.W_ROWNUM">1234</lxml:column>
        <lxml:column name="LW3SEQ" id="PRORLSTW.0002.LW3SEQ">1234</lxml:column>
        <lxml:column name="LW3IDESC" id="PRORLSTW.0002.LW3IDESC">aAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxXyY</lxml:column>
        <lxml:column name="LW3CATNAM" id="PRORLSTW.0002.LW3CATNAM">aAbBcCdDeEfFgGhHiIjJkKlLmMnNoO</lxml:column>
        <lxml:column name="W_RLVLDSC" id="PRORLSTW.0002.W_RLVLDSC">ABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUV</lxml:column>
        </lxml:entry>
        <lxml:entry>
        <lxml:column name="W_RLEVEL" id="PRORLSTW.0003.W_RLEVEL">A</lxml:column>
        <lxml:column name="LW3SFID" id="PRORLSTW.0003.LW3SFID">12</lxml:column>
        <lxml:column name="LW3PROMID" id="PRORLSTW.0003.LW3PROMID">12345678</lxml:column>
        <lxml:column name="LW3MINAMT" id="PRORLSTW.0003.LW3MINAMT">1,234,567,890,123.12</lxml:column>
        <lxml:column name="LW3ITEMCD" id="PRORLSTW.0003.LW3ITEMCD">ABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHI</lxml:column>
        <lxml:column name="LW3CATID" id="PRORLSTW.0003.LW3CATID">1,234,567,890</lxml:column>
        <lxml:column name="LW3MINQTY" id="PRORLSTW.0003.LW3MINQTY">123,456,789,012,345</lxml:column>
        <lxml:column name="LW3NUMDAY" id="PRORLSTW.0003.LW3NUMDAY">123</lxml:column>
        <lxml:column name="LW3NUMMTH" id="PRORLSTW.0003.LW3NUMMTH">123</lxml:column>
        <lxml:column name="W_ADDFLG" id="PRORLSTW.0003.W_ADDFLG">A</lxml:column>
        <lxml:column name="W_ROWNUM" id="PRORLSTW.0003.W_ROWNUM">1234</lxml:column>
        <lxml:column name="LW3SEQ" id="PRORLSTW.0003.LW3SEQ">1234</lxml:column>
        <lxml:column name="LW3IDESC" id="PRORLSTW.0003.LW3IDESC">aAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxXyY</lxml:column>
        <lxml:column name="LW3CATNAM" id="PRORLSTW.0003.LW3CATNAM">aAbBcCdDeEfFgGhHiIjJkKlLmMnNoO</lxml:column>
        <lxml:column name="W_RLVLDSC" id="PRORLSTW.0003.W_RLVLDSC">ABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUV</lxml:column>
        </lxml:entry>
        <lxml:entry>
        <lxml:column name="W_RLEVEL" id="PRORLSTW.0004.W_RLEVEL">A</lxml:column>
        <lxml:column name="LW3SFID" id="PRORLSTW.0004.LW3SFID">12</lxml:column>
        <lxml:column name="LW3PROMID" id="PRORLSTW.0004.LW3PROMID">12345678</lxml:column>
        <lxml:column name="LW3MINAMT" id="PRORLSTW.0004.LW3MINAMT">1,234,567,890,123.12</lxml:column>
        <lxml:column name="LW3ITEMCD" id="PRORLSTW.0004.LW3ITEMCD">ABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHI</lxml:column>
        <lxml:column name="LW3CATID" id="PRORLSTW.0004.LW3CATID">1,234,567,890</lxml:column>
        <lxml:column name="LW3MINQTY" id="PRORLSTW.0004.LW3MINQTY">123,456,789,012,345</lxml:column>
        <lxml:column name="LW3NUMDAY" id="PRORLSTW.0004.LW3NUMDAY">123</lxml:column>
        <lxml:column name="LW3NUMMTH" id="PRORLSTW.0004.LW3NUMMTH">123</lxml:column>
        <lxml:column name="W_ADDFLG" id="PRORLSTW.0004.W_ADDFLG">A</lxml:column>
        <lxml:column name="W_ROWNUM" id="PRORLSTW.0004.W_ROWNUM">1234</lxml:column>
        <lxml:column name="LW3SEQ" id="PRORLSTW.0004.LW3SEQ">1234</lxml:column>
        <lxml:column name="LW3IDESC" id="PRORLSTW.0004.LW3IDESC">aAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxXyY</lxml:column>
        <lxml:column name="LW3CATNAM" id="PRORLSTW.0004.LW3CATNAM">aAbBcCdDeEfFgGhHiIjJkKlLmMnNoO</lxml:column>
        <lxml:column name="W_RLVLDSC" id="PRORLSTW.0004.W_RLVLDSC">ABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUV</lxml:column>
        </lxml:entry>
        <lxml:entry>
        <lxml:column name="W_RLEVEL" id="PRORLSTW.0005.W_RLEVEL">A</lxml:column>
        <lxml:column name="LW3SFID" id="PRORLSTW.0005.LW3SFID">12</lxml:column>
        <lxml:column name="LW3PROMID" id="PRORLSTW.0005.LW3PROMID">12345678</lxml:column>
        <lxml:column name="LW3MINAMT" id="PRORLSTW.0005.LW3MINAMT">1,234,567,890,123.12</lxml:column>
        <lxml:column name="LW3ITEMCD" id="PRORLSTW.0005.LW3ITEMCD">ABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHI</lxml:column>
        <lxml:column name="LW3CATID" id="PRORLSTW.0005.LW3CATID">1,234,567,890</lxml:column>
        <lxml:column name="LW3MINQTY" id="PRORLSTW.0005.LW3MINQTY">123,456,789,012,345</lxml:column>
        <lxml:column name="LW3NUMDAY" id="PRORLSTW.0005.LW3NUMDAY">123</lxml:column>
        <lxml:column name="LW3NUMMTH" id="PRORLSTW.0005.LW3NUMMTH">123</lxml:column>
        <lxml:column name="W_ADDFLG" id="PRORLSTW.0005.W_ADDFLG">A</lxml:column>
        <lxml:column name="W_ROWNUM" id="PRORLSTW.0005.W_ROWNUM">1234</lxml:column>
        <lxml:column name="LW3SEQ" id="PRORLSTW.0005.LW3SEQ">1234</lxml:column>
        <lxml:column name="LW3IDESC" id="PRORLSTW.0005.LW3IDESC">aAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxXyY</lxml:column>
        <lxml:column name="LW3CATNAM" id="PRORLSTW.0005.LW3CATNAM">aAbBcCdDeEfFgGhHiIjJkKlLmMnNoO</lxml:column>
        <lxml:column name="W_RLVLDSC" id="PRORLSTW.0005.W_RLVLDSC">ABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUV</lxml:column>
        </lxml:entry>
        </lxml:list-entries>
        </lxml:list>
        
        </lxml:lists>
        
        </lxml:data>
        

      Designs:
      - Language:           ENG
        Technology Service: LANSA XHTML

        XSL: |
          <?xml version="1.0" encoding="UTF-8"?>
          <!-- Web application : WPROMMNT            Promotions/Discounts Maintenance        -->
          <!-- Web routine     : AJAX_REMOVE_ITEM                                            -->
          <!-- Timestamp       : 2010-11-05T16:58:26-05:00                                   -->
          <xsl:transform version="1.0" exclude-result-prefixes="lxml wd"
                         xmlns:lxml="http://www.lansa.com/2002/XML/Runtime-Data"
                         xmlns:wd="http://www.lansa.com/2002/XSL/Weblet-Design"
                         xmlns="http://www.w3.org/1999/xhtml"
                         xmlns:xsl="http://www.w3.org/1999/XSL/Transform">
             <xsl:import href="std_keys.xsl" />
             <xsl:import href="std_variables.xsl" />
             <!--   <xsl:import href="wprommnt_layout.xsl" /> -->
             <xsl:import href="std_varchar.xsl" />
             <xsl:output method="xml" omit-xml-declaration="yes" encoding="UTF-8"
                         indent="no" />
          
             <xsl:template match="/">
                <!--      <xsl:call-template name="layout" /> -->
                <xsl:text />
             </xsl:template>
          
             <xsl:template match="/lxml:data">
                <div class="hidden">
                   <input class="number"
                          onchange="return isValidNumber(this, '2', '0', '.')"
                          maxlength="2" size="2" name="LW3SFID"
                          value="{key('field-value', 'LW3SFID')}" />
                   <input type="hidden" name="LW3SFCUR"
                          value="{key('field-value', 'LW3SFCUR')}" />
                </div>
                <table border="0" cellspacing="3" summary="" cellpadding="0">
                   <tbody>
                      <tr>
                         <td class="caption">
                            <xsl:value-of select="key('field-caption', 'LADMID')/lxml:description" />
                         </td>
                         <td>
                            <input class="number"
                                   onchange="return isValidNumber(this, '2', '0', '.')"
                                   maxlength="5" size="5" name="LADMID"
                                   value="{key('field-value', 'LADMID')}" />
                         </td>
                      </tr>
                      <tr>
                         <td class="caption">
                            <xsl:value-of select="key('field-caption', 'LADAID')/lxml:description" />
                         </td>
                         <td>
                            <input class="number"
                                   onchange="return isValidNumber(this, '2', '0', '.')"
                                   maxlength="5" size="5" name="LADAID"
                                   value="{key('field-value', 'LADAID')}" />
                         </td>
                      </tr>
                      <tr>
                         <td class="caption">
                            <xsl:value-of select="key('field-caption', 'ADMCNT1')/lxml:description" />
                         </td>
                         <td>
                            <input class="number"
                                   onchange="return isValidNumber(this, '7', '0', '.')"
                                   maxlength="12" size="12" name="ADMCNT1"
                                   value="{key('field-value', 'ADMCNT1')}" />
                         </td>
                      </tr>
                      <tr>
                         <td class="caption">
                            <xsl:value-of select="key('field-caption', 'ADMCNT2')/lxml:description" />
                         </td>
                         <td>
                            <input class="number"
                                   onchange="return isValidNumber(this, '7', '0', '.')"
                                   maxlength="12" size="12" name="ADMCNT2"
                                   value="{key('field-value', 'ADMCNT2')}" />
                         </td>
                      </tr>
                      <tr>
                         <td class="caption">
                            <xsl:value-of select="key('field-caption', 'LW3MHTML')/lxml:description" />
                         </td>
                         <td>
                            <xsl:call-template name="std_varchar">
                               <xsl:with-param name="name" select="'LW3MHTML'" />
                               <xsl:with-param name="value"
                                               select="key('field-value', 'LW3MHTML')" />
                               <xsl:with-param name="display_mode" select="'input'" />
                               <xsl:with-param name="maxlength" select="65535" />
                               <xsl:with-param name="display_length" select="60" />
                               <xsl:with-param name="type" select="'text'" />
                               <xsl:with-param name="keyboard_shift" select="' '" />
                               <xsl:with-param name="class" select="'text'" />
                            </xsl:call-template>
                         </td>
                      </tr>
                      <tr>
                         <td class="caption">
                            <xsl:value-of select="key('field-caption', 'LW3LCOUNT')/lxml:description" />
                         </td>
                         <td>
                            <input class="number"
                                   onchange="return isValidNumber(this, '3', '0', '.')"
                                   maxlength="7" size="7" name="LW3LCOUNT"
                                   value="{key('field-value', 'LW3LCOUNT')}" />
                         </td>
                      </tr>
                   </tbody>
                </table>
                <br />
                <div class="hidden__"></div>
                <xsl:apply-templates select="/lxml:data/lxml:lists/lxml:list[@name='TOP_MENU']">
                   <xsl:with-param name="allow_sort" select="true()" />
                   <xsl:with-param name="allow_col_resize" select="true()" />
                </xsl:apply-templates>
                <br />
                <xsl:apply-templates select="/lxml:data/lxml:lists/lxml:list[@name='LEFT_MENU']">
                   <xsl:with-param name="allow_sort" select="true()" />
                   <xsl:with-param name="allow_col_resize" select="true()" />
                </xsl:apply-templates>
                <br />
                <xsl:apply-templates select="/lxml:data/lxml:lists/lxml:list[@name='PRORLSTW']">
                   <xsl:with-param name="allow_sort" select="true()" />
                   <xsl:with-param name="allow_col_resize" select="true()" />
                </xsl:apply-templates>
             </xsl:template>
          
             <xsl:template match="/lxml:data/lxml:lists/lxml:list[@name='TOP_MENU']">
                <xsl:param name="allow_sort" select="true()" wd:type="std:boolean"
                           wd:tip_id="" />
                <xsl:param name="allow_col_resize" select="true()" wd:type="std:boolean"
                           wd:tip_id="" />
                <xsl:variable name="thelist"
                              select="/lxml:data/lxml:lists/lxml:list[@name='TOP_MENU']" />
                <script language="javascript">
                   <xsl:text disable-output-escaping="yes">//&lt;![CDATA[</xsl:text>
                   function init_stdGrid_TOP_MENU() {
                   var g = register_std_grid('TOP_MENU',3);
                   g.allowSort = <xsl:value-of select="$allow_sort" />;
                   g.allowColResize = <xsl:value-of select="$allow_col_resize" />;
                   var col = 0;
                   var ss = document.styleSheets[0];
                   var gid = '.std_grid#TOP_MENU ';
                   
                   }
                   init_stdGrid_TOP_MENU();
                   <xsl:text disable-output-escaping="yes">//]]&gt;</xsl:text>
                </script>
                <input type="hidden" name="TOP_MENU.."
                       value="{count(lxml:list-entries/lxml:entry[1])}" />
                <div class="std_grid_wrapper" id="TOP_MENU_wrap">
                   <xsl:if test="$lweb_design_mode">
                      <xsl:attribute name="class">std_grid_wrapper_designtime</xsl:attribute>
                   </xsl:if>
                   <table class="std_grid" id="TOP_MENU">
                      <thead>
                         <tr class="list-h">
                            <th class="text LADMDSC std_grid_sort_indicator"
                                __decimalseparator="" __formattype="alpha" __mode="input"
                                __allowsort="true">
                               <xsl:for-each select="$thelist/lxml:list-header/lxml:header[1]/*[.//text()[normalize-space(.)!='']]"
                                             wd:edit-as-list="false">
                                  <xsl:value-of select="." />
                                  <xsl:if test="not(position() = last())">
                                     <br />
                                  </xsl:if>
                               </xsl:for-each>
                               <div class="std_grid_cell_sizer">
                                  <xsl:if test="boolean(/lxml:data/lxml:context[@design])">
                                     <xsl:attribute name="class">hidden__</xsl:attribute>
                                  </xsl:if>
                                  <xsl:comment>.</xsl:comment>
                               </div>
                            </th>
                            <th class="utext LADMWAM std_grid_sort_indicator"
                                __decimalseparator="" __formattype="alpha" __mode="input"
                                __allowsort="true">
                               <xsl:for-each select="$thelist/lxml:list-header/lxml:header[2]/*[.//text()[normalize-space(.)!='']]"
                                             wd:edit-as-list="false">
                                  <xsl:value-of select="." />
                                  <xsl:if test="not(position() = last())">
                                     <br />
                                  </xsl:if>
                               </xsl:for-each>
                               <div class="std_grid_cell_sizer">
                                  <xsl:if test="boolean(/lxml:data/lxml:context[@design])">
                                     <xsl:attribute name="class">hidden__</xsl:attribute>
                                  </xsl:if>
                                  <xsl:comment>.</xsl:comment>
                               </div>
                            </th>
                            <th class="utext LADMWR std_grid_sort_indicator"
                                __decimalseparator="" __formattype="alpha" __mode="input"
                                __allowsort="true">
                               <xsl:for-each select="$thelist/lxml:list-header/lxml:header[3]/*[.//text()[normalize-space(.)!='']]"
                                             wd:edit-as-list="false">
                                  <xsl:value-of select="." />
                                  <xsl:if test="not(position() = last())">
                                     <br />
                                  </xsl:if>
                               </xsl:for-each>
                               <div class="std_grid_cell_sizer">
                                  <xsl:if test="boolean(/lxml:data/lxml:context[@design])">
                                     <xsl:attribute name="class">hidden__</xsl:attribute>
                                  </xsl:if>
                                  <xsl:comment>.</xsl:comment>
                               </div>
                            </th>
                         </tr>
                      </thead>
                      <tbody>
                         <xsl:for-each select="$thelist/lxml:list-entries/lxml:entry">
                            <xsl:variable name="LADMDSC" select="lxml:column[1]" />
                            <xsl:variable name="LADMWAM" select="lxml:column[2]" />
                            <xsl:variable name="LADMWR" select="lxml:column[3]" />
                            <tr __oddrc="list-o" __evenrc="list-e">
                               <xsl:attribute name="class">
                                  <xsl:choose>
                                     <xsl:when test="position() mod 2">list-o</xsl:when>
                                     <xsl:otherwise>list-e</xsl:otherwise>
                                  </xsl:choose>
                               </xsl:attribute>
                               <td class="LADMDSC">
                                  <xsl:attribute name="__cellValue">
                                     <xsl:value-of select="$LADMDSC" />
                                  </xsl:attribute>
                                  <input class="text" id="{$LADMDSC/@id}" maxlength="30"
                                         onchange="return isValidText(this, ' ')"
                                         size="30" name="{$LADMDSC/@id}"
                                         value="{$LADMDSC}" />
                               </td>
                               <td class="LADMWAM">
                                  <xsl:attribute name="__cellValue">
                                     <xsl:value-of select="$LADMWAM" />
                                  </xsl:attribute>
                                  <input class="utext" id="{$LADMWAM/@id}" maxlength="10"
                                         onchange="return isValidText(this, ' ')"
                                         size="10" name="{$LADMWAM/@id}"
                                         value="{$LADMWAM}" />
                               </td>
                               <td class="LADMWR">
                                  <xsl:attribute name="__cellValue">
                                     <xsl:value-of select="$LADMWR" />
                                  </xsl:attribute>
                                  <input class="utext" id="{$LADMWR/@id}" maxlength="10"
                                         onchange="return isValidText(this, ' ')"
                                         size="10" name="{$LADMWR/@id}" value="{$LADMWR}" />
                               </td>
                            </tr>
                         </xsl:for-each>
                      </tbody>
                   </table>
                </div>
             </xsl:template>
          
             <xsl:template match="/lxml:data/lxml:lists/lxml:list[@name='LEFT_MENU']">
                <xsl:param name="allow_sort" select="true()" wd:type="std:boolean"
                           wd:tip_id="" />
                <xsl:param name="allow_col_resize" select="true()" wd:type="std:boolean"
                           wd:tip_id="" />
                <xsl:variable name="thelist"
                              select="/lxml:data/lxml:lists/lxml:list[@name='LEFT_MENU']" />
                <script language="javascript">
                   <xsl:text disable-output-escaping="yes">//&lt;![CDATA[</xsl:text>
                   function init_stdGrid_LEFT_MENU() {
                   var g = register_std_grid('LEFT_MENU',5);
                   g.allowSort = <xsl:value-of select="$allow_sort" />;
                   g.allowColResize = <xsl:value-of select="$allow_col_resize" />;
                   var col = 0;
                   var ss = document.styleSheets[0];
                   var gid = '.std_grid#LEFT_MENU ';
                   
                   }
                   init_stdGrid_LEFT_MENU();
                   <xsl:text disable-output-escaping="yes">//]]&gt;</xsl:text>
                </script>
                <input type="hidden" name="LEFT_MENU.."
                       value="{count(lxml:list-entries/lxml:entry[1])}" />
                <div class="std_grid_wrapper" id="LEFT_MENU_wrap">
                   <xsl:if test="$lweb_design_mode">
                      <xsl:attribute name="class">std_grid_wrapper_designtime</xsl:attribute>
                   </xsl:if>
                   <table class="std_grid" id="LEFT_MENU">
                      <thead>
                         <tr class="list-h">
                            <th class="text LADMDSC std_grid_sort_indicator"
                                __decimalseparator="" __formattype="alpha" __mode="input"
                                __allowsort="true">
                               <xsl:for-each select="$thelist/lxml:list-header/lxml:header[1]/*[.//text()[normalize-space(.)!='']]"
                                             wd:edit-as-list="false">
                                  <xsl:value-of select="." />
                                  <xsl:if test="not(position() = last())">
                                     <br />
                                  </xsl:if>
                               </xsl:for-each>
                               <div class="std_grid_cell_sizer">
                                  <xsl:if test="boolean(/lxml:data/lxml:context[@design])">
                                     <xsl:attribute name="class">hidden__</xsl:attribute>
                                  </xsl:if>
                                  <xsl:comment>.</xsl:comment>
                               </div>
                            </th>
                            <th class="utext LADMWAM std_grid_sort_indicator"
                                __decimalseparator="" __formattype="alpha" __mode="input"
                                __allowsort="true">
                               <xsl:for-each select="$thelist/lxml:list-header/lxml:header[2]/*[.//text()[normalize-space(.)!='']]"
                                             wd:edit-as-list="false">
                                  <xsl:value-of select="." />
                                  <xsl:if test="not(position() = last())">
                                     <br />
                                  </xsl:if>
                               </xsl:for-each>
                               <div class="std_grid_cell_sizer">
                                  <xsl:if test="boolean(/lxml:data/lxml:context[@design])">
                                     <xsl:attribute name="class">hidden__</xsl:attribute>
                                  </xsl:if>
                                  <xsl:comment>.</xsl:comment>
                               </div>
                            </th>
                            <th class="utext LADMWR std_grid_sort_indicator"
                                __decimalseparator="" __formattype="alpha" __mode="input"
                                __allowsort="true">
                               <xsl:for-each select="$thelist/lxml:list-header/lxml:header[3]/*[.//text()[normalize-space(.)!='']]"
                                             wd:edit-as-list="false">
                                  <xsl:value-of select="." />
                                  <xsl:if test="not(position() = last())">
                                     <br />
                                  </xsl:if>
                               </xsl:for-each>
                               <div class="std_grid_cell_sizer">
                                  <xsl:if test="boolean(/lxml:data/lxml:context[@design])">
                                     <xsl:attribute name="class">hidden__</xsl:attribute>
                                  </xsl:if>
                                  <xsl:comment>.</xsl:comment>
                               </div>
                            </th>
                            <th class="utext LADRVAL std_grid_sort_indicator"
                                __decimalseparator="" __formattype="alpha" __mode="input"
                                __allowsort="true">
                               <xsl:for-each select="$thelist/lxml:list-header/lxml:header[4]/*[.//text()[normalize-space(.)!='']]"
                                             wd:edit-as-list="false">
                                  <xsl:value-of select="." />
                                  <xsl:if test="not(position() = last())">
                                     <br />
                                  </xsl:if>
                               </xsl:for-each>
                               <div class="std_grid_cell_sizer">
                                  <xsl:if test="boolean(/lxml:data/lxml:context[@design])">
                                     <xsl:attribute name="class">hidden__</xsl:attribute>
                                  </xsl:if>
                                  <xsl:comment>.</xsl:comment>
                               </div>
                            </th>
                            <th class="utext LADRFLD std_grid_sort_indicator"
                                __decimalseparator="" __formattype="alpha" __mode="input"
                                __allowsort="true">
                               <xsl:for-each select="$thelist/lxml:list-header/lxml:header[5]/*[.//text()[normalize-space(.)!='']]"
                                             wd:edit-as-list="false">
                                  <xsl:value-of select="." />
                                  <xsl:if test="not(position() = last())">
                                     <br />
                                  </xsl:if>
                               </xsl:for-each>
                               <div class="std_grid_cell_sizer">
                                  <xsl:if test="boolean(/lxml:data/lxml:context[@design])">
                                     <xsl:attribute name="class">hidden__</xsl:attribute>
                                  </xsl:if>
                                  <xsl:comment>.</xsl:comment>
                               </div>
                            </th>
                         </tr>
                      </thead>
                      <tbody>
                         <xsl:for-each select="$thelist/lxml:list-entries/lxml:entry">
                            <xsl:variable name="LADMDSC" select="lxml:column[1]" />
                            <xsl:variable name="LADMWAM" select="lxml:column[2]" />
                            <xsl:variable name="LADMWR" select="lxml:column[3]" />
                            <xsl:variable name="LADRVAL" select="lxml:column[4]" />
                            <xsl:variable name="LADRFLD" select="lxml:column[5]" />
                            <tr __oddrc="list-o" __evenrc="list-e">
                               <xsl:attribute name="class">
                                  <xsl:choose>
                                     <xsl:when test="position() mod 2">list-o</xsl:when>
                                     <xsl:otherwise>list-e</xsl:otherwise>
                                  </xsl:choose>
                               </xsl:attribute>
                               <td class="LADMDSC">
                                  <xsl:attribute name="__cellValue">
                                     <xsl:value-of select="$LADMDSC" />
                                  </xsl:attribute>
                                  <input class="text" id="{$LADMDSC/@id}" maxlength="30"
                                         onchange="return isValidText(this, ' ')"
                                         size="30" name="{$LADMDSC/@id}"
                                         value="{$LADMDSC}" />
                               </td>
                               <td class="LADMWAM">
                                  <xsl:attribute name="__cellValue">
                                     <xsl:value-of select="$LADMWAM" />
                                  </xsl:attribute>
                                  <input class="utext" id="{$LADMWAM/@id}" maxlength="10"
                                         onchange="return isValidText(this, ' ')"
                                         size="10" name="{$LADMWAM/@id}"
                                         value="{$LADMWAM}" />
                               </td>
                               <td class="LADMWR">
                                  <xsl:attribute name="__cellValue">
                                     <xsl:value-of select="$LADMWR" />
                                  </xsl:attribute>
                                  <input class="utext" id="{$LADMWR/@id}" maxlength="10"
                                         onchange="return isValidText(this, ' ')"
                                         size="10" name="{$LADMWR/@id}" value="{$LADMWR}" />
                               </td>
                               <td class="LADRVAL">
                                  <xsl:attribute name="__cellValue">
                                     <xsl:value-of select="$LADRVAL" />
                                  </xsl:attribute>
                                  <input class="utext" id="{$LADRVAL/@id}" maxlength="10"
                                         onchange="return isValidText(this, ' ')"
                                         size="10" name="{$LADRVAL/@id}"
                                         value="{$LADRVAL}" />
                               </td>
                               <td class="LADRFLD">
                                  <xsl:attribute name="__cellValue">
                                     <xsl:value-of select="$LADRFLD" />
                                  </xsl:attribute>
                                  <input class="utext" id="{$LADRFLD/@id}" maxlength="10"
                                         onchange="return isValidText(this, ' ')"
                                         size="10" name="{$LADRFLD/@id}"
                                         value="{$LADRFLD}" />
                               </td>
                            </tr>
                         </xsl:for-each>
                      </tbody>
                   </table>
                </div>
             </xsl:template>
          
             <xsl:template match="/lxml:data/lxml:lists/lxml:list[@name='PRORLSTW']">
                <xsl:param name="allow_sort" select="true()" wd:tip_id=""
                           wd:type="std:boolean" />
                <xsl:param name="allow_col_resize" select="true()" wd:tip_id=""
                           wd:type="std:boolean" />
                <xsl:variable name="thelist"
                              select="/lxml:data/lxml:lists/lxml:list[@name='PRORLSTW']" />
                <script language="javascript">
                   <xsl:text disable-output-escaping="yes">//&lt;![CDATA[</xsl:text>
                   function init_stdGrid_PRORLSTW() {
                   var g = register_std_grid('PRORLSTW',12);
                   g.allowSort = <xsl:value-of select="$allow_sort" />;
                   g.allowColResize = <xsl:value-of select="$allow_col_resize" />;
                   var col = 0;
                   var ss = document.styleSheets[0];
                   var gid = '.std_grid#PRORLSTW ';
                   
                   }
                   init_stdGrid_PRORLSTW();
                   <xsl:text disable-output-escaping="yes">//]]&gt;</xsl:text>
                </script>
                <input type="hidden" name="PRORLSTW.."
                       value="{count(lxml:list-entries/lxml:entry[1])}" />
                <div id="PRORLSTW_wrap" class="std_grid_wrapper">
                   <xsl:if test="$lweb_design_mode">
                      <xsl:attribute name="class">std_grid_wrapper_designtime</xsl:attribute>
                   </xsl:if>
                   <table id="PRORLSTW" class="std_grid">
                      <thead>
                         <tr class="list-h">
                            <th class="utext W_RLEVEL std_grid_sort_indicator"
                                __allowsort="true" __mode="input" __formattype="alpha"
                                __decimalseparator="">
                               <xsl:for-each select="$thelist/lxml:list-header/lxml:header[1]/*[.//text()[normalize-space(.)!='']]"
                                             wd:edit-as-list="false">
                                  <xsl:value-of select="." />
                                  <xsl:if test="not(position() = last())">
                                     <br />
                                  </xsl:if>
                               </xsl:for-each>
                               <div class="std_grid_cell_sizer">
                                  <xsl:if test="boolean(/lxml:data/lxml:context[@design])">
                                     <xsl:attribute name="class">hidden__</xsl:attribute>
                                  </xsl:if>
                                  <xsl:comment>.</xsl:comment>
                               </div>
                            </th>
                            <th class="number LW3SFID std_grid_sort_indicator"
                                __allowsort="true" __mode="input" __formattype="packed"
                                __decimalseparator=".">
                               <xsl:for-each select="$thelist/lxml:list-header/lxml:header[2]/*[.//text()[normalize-space(.)!='']]"
                                             wd:edit-as-list="false">
                                  <xsl:value-of select="." />
                                  <xsl:if test="not(position() = last())">
                                     <br />
                                  </xsl:if>
                               </xsl:for-each>
                               <div class="std_grid_cell_sizer">
                                  <xsl:if test="boolean(/lxml:data/lxml:context[@design])">
                                     <xsl:attribute name="class">hidden__</xsl:attribute>
                                  </xsl:if>
                                  <xsl:comment>.</xsl:comment>
                               </div>
                            </th>
                            <th class="number LW3PROMID std_grid_sort_indicator"
                                __allowsort="true" __mode="input" __formattype="signed"
                                __decimalseparator=".">
                               <xsl:for-each select="$thelist/lxml:list-header/lxml:header[3]/*[.//text()[normalize-space(.)!='']]"
                                             wd:edit-as-list="false">
                                  <xsl:value-of select="." />
                                  <xsl:if test="not(position() = last())">
                                     <br />
                                  </xsl:if>
                               </xsl:for-each>
                               <div class="std_grid_cell_sizer">
                                  <xsl:if test="boolean(/lxml:data/lxml:context[@design])">
                                     <xsl:attribute name="class">hidden__</xsl:attribute>
                                  </xsl:if>
                                  <xsl:comment>.</xsl:comment>
                               </div>
                            </th>
                            <th class="number LW3MINAMT std_grid_sort_indicator"
                                __allowsort="true" __mode="input" __formattype="signed"
                                __decimalseparator=".">
                               <xsl:for-each select="$thelist/lxml:list-header/lxml:header[4]/*[.//text()[normalize-space(.)!='']]"
                                             wd:edit-as-list="false">
                                  <xsl:value-of select="." />
                                  <xsl:if test="not(position() = last())">
                                     <br />
                                  </xsl:if>
                               </xsl:for-each>
                               <div class="std_grid_cell_sizer">
                                  <xsl:if test="boolean(/lxml:data/lxml:context[@design])">
                                     <xsl:attribute name="class">hidden__</xsl:attribute>
                                  </xsl:if>
                                  <xsl:comment>.</xsl:comment>
                               </div>
                            </th>
                            <th class="utext LW3ITEMCD std_grid_sort_indicator"
                                __allowsort="true" __mode="input" __formattype="alpha"
                                __decimalseparator="">
                               <xsl:for-each select="$thelist/lxml:list-header/lxml:header[5]/*[.//text()[normalize-space(.)!='']]"
                                             wd:edit-as-list="false">
                                  <xsl:value-of select="." />
                                  <xsl:if test="not(position() = last())">
                                     <br />
                                  </xsl:if>
                               </xsl:for-each>
                               <div class="std_grid_cell_sizer">
                                  <xsl:if test="boolean(/lxml:data/lxml:context[@design])">
                                     <xsl:attribute name="class">hidden__</xsl:attribute>
                                  </xsl:if>
                                  <xsl:comment>.</xsl:comment>
                               </div>
                            </th>
                            <th class="number LW3CATID std_grid_sort_indicator"
                                __allowsort="true" __mode="input" __formattype="packed"
                                __decimalseparator=".">
                               <xsl:for-each select="$thelist/lxml:list-header/lxml:header[6]/*[.//text()[normalize-space(.)!='']]"
                                             wd:edit-as-list="false">
                                  <xsl:value-of select="." />
                                  <xsl:if test="not(position() = last())">
                                     <br />
                                  </xsl:if>
                               </xsl:for-each>
                               <div class="std_grid_cell_sizer">
                                  <xsl:if test="boolean(/lxml:data/lxml:context[@design])">
                                     <xsl:attribute name="class">hidden__</xsl:attribute>
                                  </xsl:if>
                                  <xsl:comment>.</xsl:comment>
                               </div>
                            </th>
                            <th class="number LW3MINQTY std_grid_sort_indicator"
                                __allowsort="true" __mode="input" __formattype="signed"
                                __decimalseparator=".">
                               <xsl:for-each select="$thelist/lxml:list-header/lxml:header[7]/*[.//text()[normalize-space(.)!='']]"
                                             wd:edit-as-list="false">
                                  <xsl:value-of select="." />
                                  <xsl:if test="not(position() = last())">
                                     <br />
                                  </xsl:if>
                               </xsl:for-each>
                               <div class="std_grid_cell_sizer">
                                  <xsl:if test="boolean(/lxml:data/lxml:context[@design])">
                                     <xsl:attribute name="class">hidden__</xsl:attribute>
                                  </xsl:if>
                                  <xsl:comment>.</xsl:comment>
                               </div>
                            </th>
                            <th class="number LW3NUMDAY std_grid_sort_indicator"
                                __allowsort="true" __mode="input" __formattype="packed"
                                __decimalseparator=".">
                               <xsl:for-each select="$thelist/lxml:list-header/lxml:header[8]/*[.//text()[normalize-space(.)!='']]"
                                             wd:edit-as-list="false">
                                  <xsl:value-of select="." />
                                  <xsl:if test="not(position() = last())">
                                     <br />
                                  </xsl:if>
                               </xsl:for-each>
                               <div class="std_grid_cell_sizer">
                                  <xsl:if test="boolean(/lxml:data/lxml:context[@design])">
                                     <xsl:attribute name="class">hidden__</xsl:attribute>
                                  </xsl:if>
                                  <xsl:comment>.</xsl:comment>
                               </div>
                            </th>
                            <th class="number LW3NUMMTH std_grid_sort_indicator"
                                __allowsort="true" __mode="input" __formattype="packed"
                                __decimalseparator=".">
                               <xsl:for-each select="$thelist/lxml:list-header/lxml:header[9]/*[.//text()[normalize-space(.)!='']]"
                                             wd:edit-as-list="false">
                                  <xsl:value-of select="." />
                                  <xsl:if test="not(position() = last())">
                                     <br />
                                  </xsl:if>
                               </xsl:for-each>
                               <div class="std_grid_cell_sizer">
                                  <xsl:if test="boolean(/lxml:data/lxml:context[@design])">
                                     <xsl:attribute name="class">hidden__</xsl:attribute>
                                  </xsl:if>
                                  <xsl:comment>.</xsl:comment>
                               </div>
                            </th>
                            <th class="utext W_ADDFLG std_grid_sort_indicator"
                                __allowsort="true" __mode="input" __formattype="alpha"
                                __decimalseparator="">
                               <xsl:for-each select="$thelist/lxml:list-header/lxml:header[10]/*[.//text()[normalize-space(.)!='']]"
                                             wd:edit-as-list="false">
                                  <xsl:value-of select="." />
                                  <xsl:if test="not(position() = last())">
                                     <br />
                                  </xsl:if>
                               </xsl:for-each>
                               <div class="std_grid_cell_sizer">
                                  <xsl:if test="boolean(/lxml:data/lxml:context[@design])">
                                     <xsl:attribute name="class">hidden__</xsl:attribute>
                                  </xsl:if>
                                  <xsl:comment>.</xsl:comment>
                               </div>
                            </th>
                            <th class="number W_ROWNUM std_grid_sort_indicator"
                                __allowsort="true" __mode="input" __formattype="packed"
                                __decimalseparator=".">
                               <xsl:for-each select="$thelist/lxml:list-header/lxml:header[11]/*[.//text()[normalize-space(.)!='']]"
                                             wd:edit-as-list="false">
                                  <xsl:value-of select="." />
                                  <xsl:if test="not(position() = last())">
                                     <br />
                                  </xsl:if>
                               </xsl:for-each>
                               <div class="std_grid_cell_sizer">
                                  <xsl:if test="boolean(/lxml:data/lxml:context[@design])">
                                     <xsl:attribute name="class">hidden__</xsl:attribute>
                                  </xsl:if>
                                  <xsl:comment>.</xsl:comment>
                               </div>
                            </th>
                            <th class="number LW3SEQ std_grid_sort_indicator"
                                __allowsort="true" __mode="input" __formattype="packed"
                                __decimalseparator=".">
                               <xsl:for-each select="$thelist/lxml:list-header/lxml:header[12]/*[.//text()[normalize-space(.)!='']]"
                                             wd:edit-as-list="false">
                                  <xsl:value-of select="." />
                                  <xsl:if test="not(position() = last())">
                                     <br />
                                  </xsl:if>
                               </xsl:for-each>
                               <div class="std_grid_cell_sizer">
                                  <xsl:if test="boolean(/lxml:data/lxml:context[@design])">
                                     <xsl:attribute name="class">hidden__</xsl:attribute>
                                  </xsl:if>
                                  <xsl:comment>.</xsl:comment>
                               </div>
                            </th>
                         </tr>
                      </thead>
                      <tbody>
                         <xsl:for-each select="$thelist/lxml:list-entries/lxml:entry">
                            <xsl:variable name="W_RLEVEL" select="lxml:column[1]" />
                            <xsl:variable name="LW3SFID" select="lxml:column[2]" />
                            <xsl:variable name="LW3PROMID" select="lxml:column[3]" />
                            <xsl:variable name="LW3MINAMT" select="lxml:column[4]" />
                            <xsl:variable name="LW3ITEMCD" select="lxml:column[5]" />
                            <xsl:variable name="LW3CATID" select="lxml:column[6]" />
                            <xsl:variable name="LW3MINQTY" select="lxml:column[7]" />
                            <xsl:variable name="LW3NUMDAY" select="lxml:column[8]" />
                            <xsl:variable name="LW3NUMMTH" select="lxml:column[9]" />
                            <xsl:variable name="W_ADDFLG" select="lxml:column[10]" />
                            <xsl:variable name="W_ROWNUM" select="lxml:column[11]" />
                            <xsl:variable name="LW3SEQ" select="lxml:column[12]" />
                            <tr __evenrc="list-e" __oddrc="list-o">
                               <xsl:attribute name="class">
                                  <xsl:choose>
                                     <xsl:when test="position() mod 2">list-o</xsl:when>
                                     <xsl:otherwise>list-e</xsl:otherwise>
                                  </xsl:choose>
                               </xsl:attribute>
                               <td class="W_RLEVEL">
                                  <xsl:attribute name="__cellValue">
                                     <xsl:value-of select="$W_RLEVEL" />
                                  </xsl:attribute>
                                  <input id="{$W_RLEVEL/@id}" class="utext"
                                         onchange="return isValidText(this, ' ')"
                                         maxlength="1" size="1" name="{$W_RLEVEL/@id}"
                                         value="{$W_RLEVEL}" />
                               </td>
                               <td class="LW3SFID">
                                  <xsl:attribute name="__cellValue">
                                     <xsl:value-of select="$LW3SFID" />
                                  </xsl:attribute>
                                  <input class="number"
                                         onchange="return isValidNumber(this, '2', '0', '.')"
                                         maxlength="5" size="5" name="{$LW3SFID/@id}"
                                         value="{$LW3SFID}" />
                               </td>
                               <td class="LW3PROMID">
                                  <xsl:attribute name="__cellValue">
                                     <xsl:value-of select="$LW3PROMID" />
                                  </xsl:attribute>
                                  <input class="number"
                                         onchange="return isValidNumber(this, '8', '0', '.')"
                                         maxlength="13" size="13" name="{$LW3PROMID/@id}"
                                         value="{$LW3PROMID}" />
                               </td>
                               <td class="LW3MINAMT">
                                  <xsl:attribute name="__cellValue">
                                     <xsl:value-of select="$LW3MINAMT" />
                                  </xsl:attribute>
                                  <input class="number"
                                         onchange="return isValidNumber(this, '15', '2', '.')"
                                         maxlength="23" size="23" name="{$LW3MINAMT/@id}"
                                         value="{$LW3MINAMT}" />
                               </td>
                               <td class="LW3ITEMCD">
                                  <xsl:attribute name="__cellValue">
                                     <xsl:value-of select="$LW3ITEMCD" />
                                  </xsl:attribute>
                                  <input id="{$LW3ITEMCD/@id}" class="utext"
                                         onchange="return isValidText(this, ' ')"
                                         maxlength="15" size="15" name="{$LW3ITEMCD/@id}"
                                         value="{$LW3ITEMCD}" />
                               </td>
                               <td class="LW3CATID">
                                  <xsl:attribute name="__cellValue">
                                     <xsl:value-of select="$LW3CATID" />
                                  </xsl:attribute>
                                  <input class="number"
                                         onchange="return isValidNumber(this, '10', '0', '.')"
                                         maxlength="16" size="16" name="{$LW3CATID/@id}"
                                         value="{$LW3CATID}" />
                               </td>
                               <td class="LW3MINQTY">
                                  <xsl:attribute name="__cellValue">
                                     <xsl:value-of select="$LW3MINQTY" />
                                  </xsl:attribute>
                                  <input class="number"
                                         onchange="return isValidNumber(this, '15', '0', '.')"
                                         maxlength="23" size="23" name="{$LW3MINQTY/@id}"
                                         value="{$LW3MINQTY}" />
                               </td>
                               <td class="LW3NUMDAY">
                                  <xsl:attribute name="__cellValue">
                                     <xsl:value-of select="$LW3NUMDAY" />
                                  </xsl:attribute>
                                  <input class="number"
                                         onchange="return isValidNumber(this, '3', '0', '.')"
                                         maxlength="7" size="7" name="{$LW3NUMDAY/@id}"
                                         value="{$LW3NUMDAY}" />
                               </td>
                               <td class="LW3NUMMTH">
                                  <xsl:attribute name="__cellValue">
                                     <xsl:value-of select="$LW3NUMMTH" />
                                  </xsl:attribute>
                                  <input class="number"
                                         onchange="return isValidNumber(this, '3', '0', '.')"
                                         maxlength="7" size="7" name="{$LW3NUMMTH/@id}"
                                         value="{$LW3NUMMTH}" />
                               </td>
                               <td class="W_ADDFLG">
                                  <xsl:attribute name="__cellValue">
                                     <xsl:value-of select="$W_ADDFLG" />
                                  </xsl:attribute>
                                  <input id="{$W_ADDFLG/@id}" class="utext"
                                         onchange="return isValidText(this, ' ')"
                                         maxlength="1" size="1" name="{$W_ADDFLG/@id}"
                                         value="{$W_ADDFLG}" />
                               </td>
                               <td class="W_ROWNUM">
                                  <xsl:attribute name="__cellValue">
                                     <xsl:value-of select="$W_ROWNUM" />
                                  </xsl:attribute>
                                  <input class="number"
                                         onchange="return isValidNumber(this, '4', '0', '.')"
                                         maxlength="8" size="8" name="{$W_ROWNUM/@id}"
                                         value="{$W_ROWNUM}" />
                               </td>
                               <td class="LW3SEQ">
                                  <xsl:attribute name="__cellValue">
                                     <xsl:value-of select="$LW3SEQ" />
                                  </xsl:attribute>
                                  <input class="number"
                                         onchange="return isValidNumber(this, '4', '0', '.')"
                                         maxlength="8" size="8" name="{$LW3SEQ/@id}"
                                         value="{$LW3SEQ}" />
                               </td>
                            </tr>
                         </xsl:for-each>
                      </tbody>
                   </table>
                </div>
             </xsl:template>
          </xsl:transform>

  - AJAX_VALIDATEITEM:
      XML: |
        <?xml version="1.0" encoding="UTF-8"?>
        
        <!-- WAM       : WPROMMNT - ?
             Webroutine: AJAX_validateItem - 
             Timestamp : 2015-09-14T00:33:31-05:00 -->
        
        <lxml:data xmlns:lxml="http://www.lansa.com/2002/XML/Runtime-Data">
        
        <lxml:server-instructions>
        <lxml:client-charset></lxml:client-charset>
        <lxml:cookies><lxml:cookie name="STDSESSID"><lxml:value field-name="STDSESSID"></lxml:value>
        <lxml:expires field-name="LW3CEXPDT"></lxml:expires>
        <lxml:domain></lxml:domain>
        <lxml:path>/; HttpOnly</lxml:path>
        <lxml:secure></lxml:secure>
        </lxml:cookie>
        <lxml:cookie name="STDWEBUSR"><lxml:value field-name="STDWEBUSR"></lxml:value>
        <lxml:expires field-name=""></lxml:expires>
        <lxml:domain field-name=""></lxml:domain>
        <lxml:path field-name=""></lxml:path>
        <lxml:secure field-name=""></lxml:secure>
        </lxml:cookie>
        </lxml:cookies>
        <lxml:ssi></lxml:ssi>
        </lxml:server-instructions>
        
        <lxml:context>
        <lxml:user-id>          </lxml:user-id>
        <lxml:webapplication>WPROMMNT</lxml:webapplication>
        <lxml:webapplication-title>?</lxml:webapplication-title>
        <lxml:webroutine>AJAX_validateItem</lxml:webroutine>
        <lxml:webroutine-title></lxml:webroutine-title>
        <lxml:service-name></lxml:service-name>
        <lxml:partition>CML</lxml:partition>
        <lxml:language iso-lang="en">ENG</lxml:language>
        <lxml:dec-separator>.</lxml:dec-separator>
        <lxml:images-path>/images</lxml:images-path>
        <lxml:action-request>/cgi-bin/lansaweb</lxml:action-request>
        </lxml:context>
        
        <lxml:options>
        <lxml:option name="DBCS">false</lxml:option>
        <lxml:option name="align-right">true</lxml:option>
        <lxml:option name="check-numeric">false</lxml:option>
        <lxml:option name="debug" />
        <lxml:option name="trace" />
        <lxml:option name="task" />
        </lxml:options>
        
        <lxml:variables />
        
        <lxml:messages></lxml:messages>
        
        <lxml:fields>
        <lxml:field name="LW3MHTML">
        <lxml:caption>
        <lxml:label>Menu Html</lxml:label>
        <lxml:description>Menu Html</lxml:description>
        <lxml:heading-1>Menu</lxml:heading-1>
        <lxml:heading-2>Html</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="LW3WEBUSR">
        <lxml:caption>
        <lxml:label>User Id</lxml:label>
        <lxml:description>Web User Name</lxml:description>
        <lxml:heading-1>Web</lxml:heading-1>
        <lxml:heading-2>User</lxml:heading-2>
        <lxml:heading-3>Name</lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="LW3SFID">
        <lxml:caption>
        <lxml:label>Store Front ID</lxml:label>
        <lxml:description>Store Front ID</lxml:description>
        <lxml:heading-1>Store</lxml:heading-1>
        <lxml:heading-2>Front</lxml:heading-2>
        <lxml:heading-3>ID</lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="LW3SFCUR">
        <lxml:caption>
        <lxml:label>Current Store F</lxml:label>
        <lxml:description>Current Store Front</lxml:description>
        <lxml:heading-1>Current</lxml:heading-1>
        <lxml:heading-2>Store</lxml:heading-2>
        <lxml:heading-3>Front</lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="S_PARAG">
        <lxml:caption>
        <lxml:label>S_PARAG</lxml:label>
        <lxml:description>Intro Paragraph</lxml:description>
        <lxml:heading-1>S_PARAG</lxml:heading-1>
        <lxml:heading-2></lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="LW3NAME">
        <lxml:caption>
        <lxml:label>Store Front Nam</lxml:label>
        <lxml:description>Store Front Name</lxml:description>
        <lxml:heading-1>Store</lxml:heading-1>
        <lxml:heading-2>Front</lxml:heading-2>
        <lxml:heading-3>Name</lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="W_MSGPRM1">
        <lxml:caption>
        <lxml:label>Variable Text</lxml:label>
        <lxml:description>Must provide a Promotion Name.</lxml:description>
        <lxml:heading-1>Variable</lxml:heading-1>
        <lxml:heading-2>Text</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="W_MSGPRM2">
        <lxml:caption>
        <lxml:label>Variable Text</lxml:label>
        <lxml:description>Promotion Code required for non global..</lxml:description>
        <lxml:heading-1>Variable</lxml:heading-1>
        <lxml:heading-2>Text</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="W_MSGPRM3">
        <lxml:caption>
        <lxml:label>Variable Text</lxml:label>
        <lxml:description>Must provide a value for Percentage...</lxml:description>
        <lxml:heading-1>Variable</lxml:heading-1>
        <lxml:heading-2>Text</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="W_MSGPRM4">
        <lxml:caption>
        <lxml:label>Variable Text</lxml:label>
        <lxml:description>Percent Discount must be a number.</lxml:description>
        <lxml:heading-1>Variable</lxml:heading-1>
        <lxml:heading-2>Text</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="W_MSGPRM5">
        <lxml:caption>
        <lxml:label>Variable Text</lxml:label>
        <lxml:description>Dollar Discount must be a number.</lxml:description>
        <lxml:heading-1>Variable</lxml:heading-1>
        <lxml:heading-2>Text</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="W_MSGPRM6">
        <lxml:caption>
        <lxml:label>Variable Text</lxml:label>
        <lxml:description>Minimum Order Amount must be greater...</lxml:description>
        <lxml:heading-1>Variable</lxml:heading-1>
        <lxml:heading-2>Text</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="W_MSGPRM7">
        <lxml:caption>
        <lxml:label>Variable Text</lxml:label>
        <lxml:description>Minimum Order Amount must be a number...</lxml:description>
        <lxml:heading-1>Variable</lxml:heading-1>
        <lxml:heading-2>Text</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="W_MSGPRM8">
        <lxml:caption>
        <lxml:label>Variable Text</lxml:label>
        <lxml:description>Minimum Quantity must be greater than...</lxml:description>
        <lxml:heading-1>Variable</lxml:heading-1>
        <lxml:heading-2>Text</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="W_MSGPRM9">
        <lxml:caption>
        <lxml:label>Variable Text</lxml:label>
        <lxml:description>Minimum Quantity must be a number...</lxml:description>
        <lxml:heading-1>Variable</lxml:heading-1>
        <lxml:heading-2>Text</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="W_MSGPR10">
        <lxml:caption>
        <lxml:label>Variable Text</lxml:label>
        <lxml:description>User based promotions require a...</lxml:description>
        <lxml:heading-1>Variable</lxml:heading-1>
        <lxml:heading-2>Text</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="W_MSGPR11">
        <lxml:caption>
        <lxml:label>Variable Text</lxml:label>
        <lxml:description>Minimum Amount Spent on Orders must...</lxml:description>
        <lxml:heading-1>Variable</lxml:heading-1>
        <lxml:heading-2>Text</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="W_MSGPR12">
        <lxml:caption>
        <lxml:label>Variable Text</lxml:label>
        <lxml:description>Minimum Amount Spent on Orders must...</lxml:description>
        <lxml:heading-1>Variable</lxml:heading-1>
        <lxml:heading-2>Text</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="W_MSGPR13">
        <lxml:caption>
        <lxml:label>Variable Text</lxml:label>
        <lxml:description>Previous # Days must not be less than...</lxml:description>
        <lxml:heading-1>Variable</lxml:heading-1>
        <lxml:heading-2>Text</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="W_MSGPR14">
        <lxml:caption>
        <lxml:label>Variable Text</lxml:label>
        <lxml:description>Previous # Days must be a number...</lxml:description>
        <lxml:heading-1>Variable</lxml:heading-1>
        <lxml:heading-2>Text</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="W_MSGPR15">
        <lxml:caption>
        <lxml:label>Variable Text</lxml:label>
        <lxml:description>Previous # Months must not be less...</lxml:description>
        <lxml:heading-1>Variable</lxml:heading-1>
        <lxml:heading-2>Text</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="W_MSGPR16">
        <lxml:caption>
        <lxml:label>Variable Text</lxml:label>
        <lxml:description>Previous # Months must be a number...</lxml:description>
        <lxml:heading-1>Variable</lxml:heading-1>
        <lxml:heading-2>Text</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="W_MSGPR17">
        <lxml:caption>
        <lxml:label>Variable Text</lxml:label>
        <lxml:description>Must provide a value for past #...</lxml:description>
        <lxml:heading-1>Variable</lxml:heading-1>
        <lxml:heading-2>Text</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="W_MSGPR18">
        <lxml:caption>
        <lxml:label>Variable Text</lxml:label>
        <lxml:description>Must provide a value for past # Days...</lxml:description>
        <lxml:heading-1>Variable</lxml:heading-1>
        <lxml:heading-2>Text</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="W_MSGPR19">
        <lxml:caption>
        <lxml:label>Variable Text</lxml:label>
        <lxml:description>Percent Discount must not be less...</lxml:description>
        <lxml:heading-1>Variable</lxml:heading-1>
        <lxml:heading-2>Text</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="W_MSGPR20">
        <lxml:caption>
        <lxml:label>Variable Text</lxml:label>
        <lxml:description>Dollar Discount must not be less than...</lxml:description>
        <lxml:heading-1>Variable</lxml:heading-1>
        <lxml:heading-2>Text</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="W_MSGPR21">
        <lxml:caption>
        <lxml:label>Variable Text</lxml:label>
        <lxml:description>Can specify one of Percentage...</lxml:description>
        <lxml:heading-1>Variable</lxml:heading-1>
        <lxml:heading-2>Text</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="W_MSGPR22">
        <lxml:caption>
        <lxml:label>Variable Text</lxml:label>
        <lxml:description>Quantity to Apply Discount on must...</lxml:description>
        <lxml:heading-1>Variable</lxml:heading-1>
        <lxml:heading-2>Text</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="W_MSGPR23">
        <lxml:caption>
        <lxml:label>Variable Text</lxml:label>
        <lxml:description>Quantity to Apply Discount on must...</lxml:description>
        <lxml:heading-1>Variable</lxml:heading-1>
        <lxml:heading-2>Text</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        </lxml:fields>
        
        <lxml:lists>
        <lxml:list name="LS_MLNVAR" row-count="5">
        <lxml:list-header>
        <lxml:header name="FXVARNAM">
        <lxml:heading-1>Variable</lxml:heading-1>
        <lxml:heading-2>Name</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:header>
        <lxml:header name="FXVARTXT">
        <lxml:heading-1>Variable</lxml:heading-1>
        <lxml:heading-2>Text</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:header>
        </lxml:list-header>
        <lxml:list-entries>
        <lxml:entry>
        <lxml:column name="FXVARNAM" id="LS_MLNVAR.0001.FXVARNAM">ABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHI</lxml:column>
        <lxml:column name="FXVARTXT" id="LS_MLNVAR.0001.FXVARTXT">aAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxXyYzZaAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxXyYzZaAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxXyYzZaAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxXyYzZaAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxX</lxml:column>
        </lxml:entry>
        <lxml:entry>
        <lxml:column name="FXVARNAM" id="LS_MLNVAR.0002.FXVARNAM">ABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHI</lxml:column>
        <lxml:column name="FXVARTXT" id="LS_MLNVAR.0002.FXVARTXT">aAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxXyYzZaAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxXyYzZaAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxXyYzZaAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxXyYzZaAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxX</lxml:column>
        </lxml:entry>
        <lxml:entry>
        <lxml:column name="FXVARNAM" id="LS_MLNVAR.0003.FXVARNAM">ABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHI</lxml:column>
        <lxml:column name="FXVARTXT" id="LS_MLNVAR.0003.FXVARTXT">aAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxXyYzZaAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxXyYzZaAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxXyYzZaAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxXyYzZaAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxX</lxml:column>
        </lxml:entry>
        <lxml:entry>
        <lxml:column name="FXVARNAM" id="LS_MLNVAR.0004.FXVARNAM">ABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHI</lxml:column>
        <lxml:column name="FXVARTXT" id="LS_MLNVAR.0004.FXVARTXT">aAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxXyYzZaAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxXyYzZaAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxXyYzZaAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxXyYzZaAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxX</lxml:column>
        </lxml:entry>
        <lxml:entry>
        <lxml:column name="FXVARNAM" id="LS_MLNVAR.0005.FXVARNAM">ABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHI</lxml:column>
        <lxml:column name="FXVARTXT" id="LS_MLNVAR.0005.FXVARTXT">aAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxXyYzZaAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxXyYzZaAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxXyYzZaAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxXyYzZaAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxX</lxml:column>
        </lxml:entry>
        </lxml:list-entries>
        </lxml:list>
        
        <lxml:list name="WL_ITMNO" row-count="5">
        <lxml:list-header>
        <lxml:header name="LW3ITEMCD">
        <lxml:heading-1>Item Code</lxml:heading-1>
        <lxml:heading-2></lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:header>
        </lxml:list-header>
        <lxml:list-entries>
        <lxml:entry>
        <lxml:column name="LW3ITEMCD" id="WL_ITMNO.0001.LW3ITEMCD">ABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHI</lxml:column>
        </lxml:entry>
        <lxml:entry>
        <lxml:column name="LW3ITEMCD" id="WL_ITMNO.0002.LW3ITEMCD">ABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHI</lxml:column>
        </lxml:entry>
        <lxml:entry>
        <lxml:column name="LW3ITEMCD" id="WL_ITMNO.0003.LW3ITEMCD">ABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHI</lxml:column>
        </lxml:entry>
        <lxml:entry>
        <lxml:column name="LW3ITEMCD" id="WL_ITMNO.0004.LW3ITEMCD">ABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHI</lxml:column>
        </lxml:entry>
        <lxml:entry>
        <lxml:column name="LW3ITEMCD" id="WL_ITMNO.0005.LW3ITEMCD">ABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHI</lxml:column>
        </lxml:entry>
        </lxml:list-entries>
        </lxml:list>
        
        </lxml:lists>
        
        </lxml:data>
        

      Designs:
      - Language:           ENG
        Technology Service: LANSA XHTML

        XSL: |
          <?xml version="1.0"?>
          <!-- Web application : WPROMMNT             PROMOTIONS MAINTENANCE AJAX                    -->
          <!-- Web routine     : ajax_VALIDATEITEM                                                    -->
          <!-- Timestamp       : 2009-08-31T11:49:15-05:00                                   -->
          <xsl:transform version="1.0" exclude-result-prefixes="lxml wd"
                         xmlns:lxml="http://www.lansa.com/2002/XML/Runtime-Data"
                         xmlns:wd="http://www.lansa.com/2002/XSL/Weblet-Design"
                         xmlns="http://www.w3.org/1999/xhtml"
                         xmlns:xsl="http://www.w3.org/1999/XSL/Transform">
             <xsl:import href="std_keys.xsl" />
             <xsl:import href="std_variables.xsl" />
             <xsl:import href="JSON_Layout.xsl" />
             <xsl:output method="xml" omit-xml-declaration="yes" encoding="UTF-8"
                         indent="no" />
          
             <xsl:template match="/">
                <xsl:call-template name="layout" />
             </xsl:template>
             <!--
             <xsl:template match="/lxml:data">
                <div class="hidden">
                   <input class="number" maxlength="2"
                          onchange="return isValidNumber(this, '2', '0', '.')" size="2"
                          name="LW3SFID" value="{key('field-value', 'LW3SFID')}" />
                </div>
                <table border="0" cellpadding="0" cellspacing="3" summary="">
                   <tbody></tbody>
                </table>
                <br />
                <div class="hidden__"></div>
                <xsl:apply-templates select="/lxml:data/lxml:lists/lxml:list[@name='WL_ITMNO']">
                   <xsl:with-param name="allow_sort" select="true()" />
                   <xsl:with-param name="allow_col_resize" select="true()" />
                </xsl:apply-templates>
             </xsl:template>
          
             <xsl:template match="/lxml:data/lxml:lists/lxml:list[@name='WL_ITMNO']">
                <xsl:param name="allow_sort" wd:type="std:boolean" select="true()"
                           wd:tip_id="" />
                <xsl:param name="allow_col_resize" wd:type="std:boolean" select="true()"
                           wd:tip_id="" />
                <xsl:variable name="thelist"
                              select="/lxml:data/lxml:lists/lxml:list[@name='WL_ITMNO']" />
                <script language="javascript">
                   <xsl:text disable-output-escaping="yes">//&lt;![CDATA[</xsl:text>
                   function init_stdGrid_WL_ITMNO() {
                   var g = register_std_grid('WL_ITMNO',1);
                   g.allowSort = <xsl:value-of select="$allow_sort" />;
                   g.allowColResize = <xsl:value-of select="$allow_col_resize" />;
                   var col = 0;
                   var ss = document.styleSheets[0];
                   var gid = '.std_grid#WL_ITMNO ';
                   
                   }
                   init_stdGrid_WL_ITMNO();
                   <xsl:text disable-output-escaping="yes">//]]&gt;</xsl:text>
                </script>
                <input type="hidden" name="WL_ITMNO.."
                       value="{count(lxml:list-entries/lxml:entry[1])}" />
                <div class="std_grid_wrapper" id="WL_ITMNO_wrap">
                   <xsl:if test="$lweb_design_mode">
                      <xsl:attribute name="class">std_grid_wrapper_designtime</xsl:attribute>
                   </xsl:if>
                   <table class="std_grid" id="WL_ITMNO">
                      <thead>
                         <tr class="list-h">
                            <th class="number LW3ITEMCD std_grid_sort_indicator"
                                __decimalseparator="." __formattype="packed"
                                __mode="input" __allowsort="true">
                               <xsl:for-each select="$thelist/lxml:list-header/lxml:header[1]/*[.//text()[normalize-space(.)!='']]"
                                             wd:edit-as-list="false">
                                  <xsl:value-of select="." />
                                  <xsl:if test="not(position() = last())">
                                     <br />
                                  </xsl:if>
                               </xsl:for-each>
                               <div class="std_grid_cell_sizer">
                                  <xsl:if test="boolean(/lxml:data/lxml:context[@design])">
                                     <xsl:attribute name="class">hidden__</xsl:attribute>
                                  </xsl:if>
                                  <xsl:comment>.</xsl:comment>
                               </div>
                            </th>
                         </tr>
                      </thead>
                      <tbody>
                         <xsl:for-each select="$thelist/lxml:list-entries/lxml:entry">
                            <xsl:variable name="LW3ITEMCD" select="lxml:column[1]" />
                            <tr __oddrc="list-o" __evenrc="list-e">
                               <xsl:attribute name="class">
                                  <xsl:choose>
                                     <xsl:when test="position() mod 2">list-o</xsl:when>
                                     <xsl:otherwise>list-e</xsl:otherwise>
                                  </xsl:choose>
                               </xsl:attribute>
                               <td class="LW3ITEMCD">
                                  <xsl:attribute name="__cellValue">
                                     <xsl:value-of select="$LW3ITEMCD" />
                                  </xsl:attribute>
                                  <input type="text" class="number"
                                         name="{$LW3ITEMCD/@id}" size="15" maxlength="12"
                                         value="{$LW3ITEMCD}"
                                         onchange="return isValidNumber(this, '7', '0', '.')" />
                               </td>
                            </tr>
                         </xsl:for-each>
                      </tbody>
                   </table>
                </div>
             </xsl:template>
            -->
          </xsl:transform>

  - PROMLST:
      XML: |
        <?xml version="1.0" encoding="UTF-8"?>
        
        <!-- WAM       : WPROMMNT - ?
             Webroutine: PROMLST - Promotions/Discounts List
             Timestamp : 2015-09-14T00:33:31-05:00 -->
        
        <lxml:data xmlns:lxml="http://www.lansa.com/2002/XML/Runtime-Data">
        
        <lxml:server-instructions>
        <lxml:client-charset></lxml:client-charset>
        <lxml:cookies><lxml:cookie name="STDSESSID"><lxml:value field-name="STDSESSID"></lxml:value>
        <lxml:expires field-name="LW3CEXPDT"></lxml:expires>
        <lxml:domain></lxml:domain>
        <lxml:path>/; HttpOnly</lxml:path>
        <lxml:secure></lxml:secure>
        </lxml:cookie>
        <lxml:cookie name="STDWEBUSR"><lxml:value field-name="STDWEBUSR"></lxml:value>
        <lxml:expires field-name=""></lxml:expires>
        <lxml:domain field-name=""></lxml:domain>
        <lxml:path field-name=""></lxml:path>
        <lxml:secure field-name=""></lxml:secure>
        </lxml:cookie>
        </lxml:cookies>
        <lxml:ssi></lxml:ssi>
        </lxml:server-instructions>
        
        <lxml:context>
        <lxml:user-id>          </lxml:user-id>
        <lxml:webapplication>WPROMMNT</lxml:webapplication>
        <lxml:webapplication-title>?</lxml:webapplication-title>
        <lxml:webroutine>PROMLST</lxml:webroutine>
        <lxml:webroutine-title>Promotions/Discounts List</lxml:webroutine-title>
        <lxml:service-name></lxml:service-name>
        <lxml:partition>CML</lxml:partition>
        <lxml:language iso-lang="en">ENG</lxml:language>
        <lxml:dec-separator>.</lxml:dec-separator>
        <lxml:images-path>/images</lxml:images-path>
        <lxml:action-request>/cgi-bin/lansaweb</lxml:action-request>
        </lxml:context>
        
        <lxml:options>
        <lxml:option name="DBCS">false</lxml:option>
        <lxml:option name="align-right">true</lxml:option>
        <lxml:option name="check-numeric">false</lxml:option>
        <lxml:option name="debug" />
        <lxml:option name="trace" />
        <lxml:option name="task" />
        </lxml:options>
        
        <lxml:variables />
        
        <lxml:messages></lxml:messages>
        
        <lxml:fields>
        <lxml:field name="LW3MHTML">
        <lxml:caption>
        <lxml:label>Menu Html</lxml:label>
        <lxml:description>Menu Html</lxml:description>
        <lxml:heading-1>Menu</lxml:heading-1>
        <lxml:heading-2>Html</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="LW3WEBUSR">
        <lxml:caption>
        <lxml:label>User Id</lxml:label>
        <lxml:description>Web User Name</lxml:description>
        <lxml:heading-1>Web</lxml:heading-1>
        <lxml:heading-2>User</lxml:heading-2>
        <lxml:heading-3>Name</lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="LW3SFID">
        <lxml:caption>
        <lxml:label>Store Front ID</lxml:label>
        <lxml:description>Store Front ID</lxml:description>
        <lxml:heading-1>Store</lxml:heading-1>
        <lxml:heading-2>Front</lxml:heading-2>
        <lxml:heading-3>ID</lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="LW3SFCUR">
        <lxml:caption>
        <lxml:label>Current Store F</lxml:label>
        <lxml:description>Current Store Front</lxml:description>
        <lxml:heading-1>Current</lxml:heading-1>
        <lxml:heading-2>Store</lxml:heading-2>
        <lxml:heading-3>Front</lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="S_PARAG">
        <lxml:caption>
        <lxml:label>S_PARAG</lxml:label>
        <lxml:description>Intro Paragraph</lxml:description>
        <lxml:heading-1>S_PARAG</lxml:heading-1>
        <lxml:heading-2></lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="LW3NAME">
        <lxml:caption>
        <lxml:label>Store Front Nam</lxml:label>
        <lxml:description>Store Front Name</lxml:description>
        <lxml:heading-1>Store</lxml:heading-1>
        <lxml:heading-2>Front</lxml:heading-2>
        <lxml:heading-3>Name</lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="W_MSGPRM1">
        <lxml:caption>
        <lxml:label>Variable Text</lxml:label>
        <lxml:description>Must provide a Promotion Name.</lxml:description>
        <lxml:heading-1>Variable</lxml:heading-1>
        <lxml:heading-2>Text</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="W_MSGPRM2">
        <lxml:caption>
        <lxml:label>Variable Text</lxml:label>
        <lxml:description>Promotion Code required for non global..</lxml:description>
        <lxml:heading-1>Variable</lxml:heading-1>
        <lxml:heading-2>Text</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="W_MSGPRM3">
        <lxml:caption>
        <lxml:label>Variable Text</lxml:label>
        <lxml:description>Must provide a value for Percentage...</lxml:description>
        <lxml:heading-1>Variable</lxml:heading-1>
        <lxml:heading-2>Text</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="W_MSGPRM4">
        <lxml:caption>
        <lxml:label>Variable Text</lxml:label>
        <lxml:description>Percent Discount must be a number.</lxml:description>
        <lxml:heading-1>Variable</lxml:heading-1>
        <lxml:heading-2>Text</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="W_MSGPRM5">
        <lxml:caption>
        <lxml:label>Variable Text</lxml:label>
        <lxml:description>Dollar Discount must be a number.</lxml:description>
        <lxml:heading-1>Variable</lxml:heading-1>
        <lxml:heading-2>Text</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="W_MSGPRM6">
        <lxml:caption>
        <lxml:label>Variable Text</lxml:label>
        <lxml:description>Minimum Order Amount must be greater...</lxml:description>
        <lxml:heading-1>Variable</lxml:heading-1>
        <lxml:heading-2>Text</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="W_MSGPRM7">
        <lxml:caption>
        <lxml:label>Variable Text</lxml:label>
        <lxml:description>Minimum Order Amount must be a number...</lxml:description>
        <lxml:heading-1>Variable</lxml:heading-1>
        <lxml:heading-2>Text</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="W_MSGPRM8">
        <lxml:caption>
        <lxml:label>Variable Text</lxml:label>
        <lxml:description>Minimum Quantity must be greater than...</lxml:description>
        <lxml:heading-1>Variable</lxml:heading-1>
        <lxml:heading-2>Text</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="W_MSGPRM9">
        <lxml:caption>
        <lxml:label>Variable Text</lxml:label>
        <lxml:description>Minimum Quantity must be a number...</lxml:description>
        <lxml:heading-1>Variable</lxml:heading-1>
        <lxml:heading-2>Text</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="W_MSGPR10">
        <lxml:caption>
        <lxml:label>Variable Text</lxml:label>
        <lxml:description>User based promotions require a...</lxml:description>
        <lxml:heading-1>Variable</lxml:heading-1>
        <lxml:heading-2>Text</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="W_MSGPR11">
        <lxml:caption>
        <lxml:label>Variable Text</lxml:label>
        <lxml:description>Minimum Amount Spent on Orders must...</lxml:description>
        <lxml:heading-1>Variable</lxml:heading-1>
        <lxml:heading-2>Text</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="W_MSGPR12">
        <lxml:caption>
        <lxml:label>Variable Text</lxml:label>
        <lxml:description>Minimum Amount Spent on Orders must...</lxml:description>
        <lxml:heading-1>Variable</lxml:heading-1>
        <lxml:heading-2>Text</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="W_MSGPR13">
        <lxml:caption>
        <lxml:label>Variable Text</lxml:label>
        <lxml:description>Previous # Days must not be less than...</lxml:description>
        <lxml:heading-1>Variable</lxml:heading-1>
        <lxml:heading-2>Text</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="W_MSGPR14">
        <lxml:caption>
        <lxml:label>Variable Text</lxml:label>
        <lxml:description>Previous # Days must be a number...</lxml:description>
        <lxml:heading-1>Variable</lxml:heading-1>
        <lxml:heading-2>Text</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="W_MSGPR15">
        <lxml:caption>
        <lxml:label>Variable Text</lxml:label>
        <lxml:description>Previous # Months must not be less...</lxml:description>
        <lxml:heading-1>Variable</lxml:heading-1>
        <lxml:heading-2>Text</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="W_MSGPR16">
        <lxml:caption>
        <lxml:label>Variable Text</lxml:label>
        <lxml:description>Previous # Months must be a number...</lxml:description>
        <lxml:heading-1>Variable</lxml:heading-1>
        <lxml:heading-2>Text</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="W_MSGPR17">
        <lxml:caption>
        <lxml:label>Variable Text</lxml:label>
        <lxml:description>Must provide a value for past #...</lxml:description>
        <lxml:heading-1>Variable</lxml:heading-1>
        <lxml:heading-2>Text</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="W_MSGPR18">
        <lxml:caption>
        <lxml:label>Variable Text</lxml:label>
        <lxml:description>Must provide a value for past # Days...</lxml:description>
        <lxml:heading-1>Variable</lxml:heading-1>
        <lxml:heading-2>Text</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="W_MSGPR19">
        <lxml:caption>
        <lxml:label>Variable Text</lxml:label>
        <lxml:description>Percent Discount must not be less...</lxml:description>
        <lxml:heading-1>Variable</lxml:heading-1>
        <lxml:heading-2>Text</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="W_MSGPR20">
        <lxml:caption>
        <lxml:label>Variable Text</lxml:label>
        <lxml:description>Dollar Discount must not be less than...</lxml:description>
        <lxml:heading-1>Variable</lxml:heading-1>
        <lxml:heading-2>Text</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="W_MSGPR21">
        <lxml:caption>
        <lxml:label>Variable Text</lxml:label>
        <lxml:description>Can specify one of Percentage...</lxml:description>
        <lxml:heading-1>Variable</lxml:heading-1>
        <lxml:heading-2>Text</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="W_MSGPR22">
        <lxml:caption>
        <lxml:label>Variable Text</lxml:label>
        <lxml:description>Quantity to Apply Discount on must...</lxml:description>
        <lxml:heading-1>Variable</lxml:heading-1>
        <lxml:heading-2>Text</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="W_MSGPR23">
        <lxml:caption>
        <lxml:label>Variable Text</lxml:label>
        <lxml:description>Quantity to Apply Discount on must...</lxml:description>
        <lxml:heading-1>Variable</lxml:heading-1>
        <lxml:heading-2>Text</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="W_SFID">
        <lxml:caption>
        <lxml:label>Store Front</lxml:label>
        <lxml:description>Store Front</lxml:description>
        <lxml:heading-1>Store</lxml:heading-1>
        <lxml:heading-2>Front</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="WRNAME">
        <lxml:caption>
        <lxml:label>Webroutine Name</lxml:label>
        <lxml:description>Webroutine Name</lxml:description>
        <lxml:heading-1>Webroutine</lxml:heading-1>
        <lxml:heading-2>Name</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="SFSELFLG">
        <lxml:caption>
        <lxml:label>Store Front Sel</lxml:label>
        <lxml:description>Store Front Selection Flag</lxml:description>
        <lxml:heading-1>Store</lxml:heading-1>
        <lxml:heading-2>Front</lxml:heading-2>
        <lxml:heading-3>Selection</lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="LW3UTYP">
        <lxml:caption>
        <lxml:label>Content Use Typ</lxml:label>
        <lxml:description>Content Usage Type</lxml:description>
        <lxml:heading-1>Content</lxml:heading-1>
        <lxml:heading-2>Usage</lxml:heading-2>
        <lxml:heading-3>Type</lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        </lxml:fields>
        
        <lxml:lists>
        <lxml:list name="LS_MLNVAR" row-count="5">
        <lxml:list-header>
        <lxml:header name="FXVARNAM">
        <lxml:heading-1>Variable</lxml:heading-1>
        <lxml:heading-2>Name</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:header>
        <lxml:header name="FXVARTXT">
        <lxml:heading-1>Variable</lxml:heading-1>
        <lxml:heading-2>Text</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:header>
        </lxml:list-header>
        <lxml:list-entries>
        <lxml:entry>
        <lxml:column name="FXVARNAM" id="LS_MLNVAR.0001.FXVARNAM">ABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHI</lxml:column>
        <lxml:column name="FXVARTXT" id="LS_MLNVAR.0001.FXVARTXT">aAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxXyYzZaAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxXyYzZaAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxXyYzZaAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxXyYzZaAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxX</lxml:column>
        </lxml:entry>
        <lxml:entry>
        <lxml:column name="FXVARNAM" id="LS_MLNVAR.0002.FXVARNAM">ABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHI</lxml:column>
        <lxml:column name="FXVARTXT" id="LS_MLNVAR.0002.FXVARTXT">aAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxXyYzZaAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxXyYzZaAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxXyYzZaAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxXyYzZaAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxX</lxml:column>
        </lxml:entry>
        <lxml:entry>
        <lxml:column name="FXVARNAM" id="LS_MLNVAR.0003.FXVARNAM">ABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHI</lxml:column>
        <lxml:column name="FXVARTXT" id="LS_MLNVAR.0003.FXVARTXT">aAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxXyYzZaAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxXyYzZaAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxXyYzZaAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxXyYzZaAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxX</lxml:column>
        </lxml:entry>
        <lxml:entry>
        <lxml:column name="FXVARNAM" id="LS_MLNVAR.0004.FXVARNAM">ABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHI</lxml:column>
        <lxml:column name="FXVARTXT" id="LS_MLNVAR.0004.FXVARTXT">aAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxXyYzZaAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxXyYzZaAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxXyYzZaAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxXyYzZaAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxX</lxml:column>
        </lxml:entry>
        <lxml:entry>
        <lxml:column name="FXVARNAM" id="LS_MLNVAR.0005.FXVARNAM">ABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHI</lxml:column>
        <lxml:column name="FXVARTXT" id="LS_MLNVAR.0005.FXVARTXT">aAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxXyYzZaAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxXyYzZaAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxXyYzZaAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxXyYzZaAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxX</lxml:column>
        </lxml:entry>
        </lxml:list-entries>
        </lxml:list>
        
        <lxml:list name="PROMLSTW" row-count="5">
        <lxml:list-header>
        <lxml:header name="LW3SFID">
        <lxml:heading-1>Store</lxml:heading-1>
        <lxml:heading-2>Front</lxml:heading-2>
        <lxml:heading-3>ID</lxml:heading-3>
        </lxml:header>
        <lxml:header name="LW3PROMID">
        <lxml:heading-1>Promotions/Discounts</lxml:heading-1>
        <lxml:heading-2>ID</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:header>
        <lxml:header name="LW3PROCOD">
        <lxml:heading-1>Promotions/Discounts</lxml:heading-1>
        <lxml:heading-2>Code</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:header>
        <lxml:header name="LW3PRONM">
        <lxml:heading-1>Promotions/Discounts</lxml:heading-1>
        <lxml:heading-2>Name</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:header>
        <lxml:header name="LW3PROSTS">
        <lxml:heading-1>Promotions/Discounts</lxml:heading-1>
        <lxml:heading-2>Status</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:header>
        <lxml:header name="LW3PROEFD">
        <lxml:heading-1>Promotions/Discounts</lxml:heading-1>
        <lxml:heading-2>Effective</lxml:heading-2>
        <lxml:heading-3>Date</lxml:heading-3>
        </lxml:header>
        <lxml:header name="LW3PROEXD">
        <lxml:heading-1>Promotions/Discounts</lxml:heading-1>
        <lxml:heading-2>Expiry</lxml:heading-2>
        <lxml:heading-3>Date</lxml:heading-3>
        </lxml:header>
        <lxml:header name="LW3PROAAP">
        <lxml:heading-1>Promotions/Discounts</lxml:heading-1>
        <lxml:heading-2>Always</lxml:heading-2>
        <lxml:heading-3>Apply?</lxml:heading-3>
        </lxml:header>
        <lxml:header name="LW3PROORI">
        <lxml:heading-1>Promotions/Discounts</lxml:heading-1>
        <lxml:heading-2>Order</lxml:heading-2>
        <lxml:heading-3>Origin</lxml:heading-3>
        </lxml:header>
        </lxml:list-header>
        <lxml:list-entries>
        <lxml:entry>
        <lxml:column name="LW3SFID" id="PROMLSTW.0001.LW3SFID">12</lxml:column>
        <lxml:column name="LW3PROMID" id="PROMLSTW.0001.LW3PROMID">12345678</lxml:column>
        <lxml:column name="LW3PROCOD" id="PROMLSTW.0001.LW3PROCOD">ABCDEFGHIJKLMNOPQRST</lxml:column>
        <lxml:column name="LW3PRONM" id="PROMLSTW.0001.LW3PRONM">ABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWX</lxml:column>
        <lxml:column name="LW3PROSTS" id="PROMLSTW.0001.LW3PROSTS">A</lxml:column>
        <lxml:column name="LW3PROEFD" id="PROMLSTW.0001.LW3PROEFD">1234/56/78</lxml:column>
        <lxml:column name="LW3PROEXD" id="PROMLSTW.0001.LW3PROEXD">1234/56/78</lxml:column>
        <lxml:column name="LW3PROAAP" id="PROMLSTW.0001.LW3PROAAP">A</lxml:column>
        <lxml:column name="LW3PROORI" id="PROMLSTW.0001.LW3PROORI">ABC</lxml:column>
        </lxml:entry>
        <lxml:entry>
        <lxml:column name="LW3SFID" id="PROMLSTW.0002.LW3SFID">12</lxml:column>
        <lxml:column name="LW3PROMID" id="PROMLSTW.0002.LW3PROMID">12345678</lxml:column>
        <lxml:column name="LW3PROCOD" id="PROMLSTW.0002.LW3PROCOD">ABCDEFGHIJKLMNOPQRST</lxml:column>
        <lxml:column name="LW3PRONM" id="PROMLSTW.0002.LW3PRONM">ABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWX</lxml:column>
        <lxml:column name="LW3PROSTS" id="PROMLSTW.0002.LW3PROSTS">A</lxml:column>
        <lxml:column name="LW3PROEFD" id="PROMLSTW.0002.LW3PROEFD">1234/56/78</lxml:column>
        <lxml:column name="LW3PROEXD" id="PROMLSTW.0002.LW3PROEXD">1234/56/78</lxml:column>
        <lxml:column name="LW3PROAAP" id="PROMLSTW.0002.LW3PROAAP">A</lxml:column>
        <lxml:column name="LW3PROORI" id="PROMLSTW.0002.LW3PROORI">ABC</lxml:column>
        </lxml:entry>
        <lxml:entry>
        <lxml:column name="LW3SFID" id="PROMLSTW.0003.LW3SFID">12</lxml:column>
        <lxml:column name="LW3PROMID" id="PROMLSTW.0003.LW3PROMID">12345678</lxml:column>
        <lxml:column name="LW3PROCOD" id="PROMLSTW.0003.LW3PROCOD">ABCDEFGHIJKLMNOPQRST</lxml:column>
        <lxml:column name="LW3PRONM" id="PROMLSTW.0003.LW3PRONM">ABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWX</lxml:column>
        <lxml:column name="LW3PROSTS" id="PROMLSTW.0003.LW3PROSTS">A</lxml:column>
        <lxml:column name="LW3PROEFD" id="PROMLSTW.0003.LW3PROEFD">1234/56/78</lxml:column>
        <lxml:column name="LW3PROEXD" id="PROMLSTW.0003.LW3PROEXD">1234/56/78</lxml:column>
        <lxml:column name="LW3PROAAP" id="PROMLSTW.0003.LW3PROAAP">A</lxml:column>
        <lxml:column name="LW3PROORI" id="PROMLSTW.0003.LW3PROORI">ABC</lxml:column>
        </lxml:entry>
        <lxml:entry>
        <lxml:column name="LW3SFID" id="PROMLSTW.0004.LW3SFID">12</lxml:column>
        <lxml:column name="LW3PROMID" id="PROMLSTW.0004.LW3PROMID">12345678</lxml:column>
        <lxml:column name="LW3PROCOD" id="PROMLSTW.0004.LW3PROCOD">ABCDEFGHIJKLMNOPQRST</lxml:column>
        <lxml:column name="LW3PRONM" id="PROMLSTW.0004.LW3PRONM">ABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWX</lxml:column>
        <lxml:column name="LW3PROSTS" id="PROMLSTW.0004.LW3PROSTS">A</lxml:column>
        <lxml:column name="LW3PROEFD" id="PROMLSTW.0004.LW3PROEFD">1234/56/78</lxml:column>
        <lxml:column name="LW3PROEXD" id="PROMLSTW.0004.LW3PROEXD">1234/56/78</lxml:column>
        <lxml:column name="LW3PROAAP" id="PROMLSTW.0004.LW3PROAAP">A</lxml:column>
        <lxml:column name="LW3PROORI" id="PROMLSTW.0004.LW3PROORI">ABC</lxml:column>
        </lxml:entry>
        <lxml:entry>
        <lxml:column name="LW3SFID" id="PROMLSTW.0005.LW3SFID">12</lxml:column>
        <lxml:column name="LW3PROMID" id="PROMLSTW.0005.LW3PROMID">12345678</lxml:column>
        <lxml:column name="LW3PROCOD" id="PROMLSTW.0005.LW3PROCOD">ABCDEFGHIJKLMNOPQRST</lxml:column>
        <lxml:column name="LW3PRONM" id="PROMLSTW.0005.LW3PRONM">ABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWX</lxml:column>
        <lxml:column name="LW3PROSTS" id="PROMLSTW.0005.LW3PROSTS">A</lxml:column>
        <lxml:column name="LW3PROEFD" id="PROMLSTW.0005.LW3PROEFD">1234/56/78</lxml:column>
        <lxml:column name="LW3PROEXD" id="PROMLSTW.0005.LW3PROEXD">1234/56/78</lxml:column>
        <lxml:column name="LW3PROAAP" id="PROMLSTW.0005.LW3PROAAP">A</lxml:column>
        <lxml:column name="LW3PROORI" id="PROMLSTW.0005.LW3PROORI">ABC</lxml:column>
        </lxml:entry>
        </lxml:list-entries>
        </lxml:list>
        
        </lxml:lists>
        
        </lxml:data>
        

      Designs:
      - Language:           ENG
        Technology Service: LANSA XHTML

        XSL: |
          <?xml version="1.0"?>
          <!-- Web application : WPROMMNT            Promotions/Discounts Maintenance        -->
          <!-- Web routine     : PROMLST             Promotions/Discounts List               -->
          <!-- Timestamp       : 2008-01-28T16:55:10-05:00                                   -->
          <xsl:transform version="1.0" exclude-result-prefixes="lxml wd"
                         xmlns:lxml="http://www.lansa.com/2002/XML/Runtime-Data"
                         xmlns:wd="http://www.lansa.com/2002/XSL/Weblet-Design"
                         xmlns="http://www.w3.org/1999/xhtml"
                         xmlns:xsl="http://www.w3.org/1999/XSL/Transform">
             <xsl:import href="std_keys.xsl" />
             <xsl:import href="std_variables.xsl" />
             <xsl:import href="std_select_list.xsl" />
             <xsl:import href="std_anchor.xsl" />
             <xsl:import href="multi_button.xsl" />
             <xsl:import href="wadmlgn1_layout.xsl" />
             <xsl:import href="std_click_image.xsl" />
             <xsl:output method="xml" omit-xml-declaration="yes" encoding="UTF-8"
                         indent="no" />
          
             <xsl:template match="/">
                <xsl:call-template name="layout">
                   <!-- <xsl:with-param name="has_form" select="?" /> -->
                   <!-- <xsl:with-param name="no_layout" select="?" /> -->
                   <!-- <xsl:with-param name="body_class" select="?" /> -->
                   <!-- <xsl:with-param name="form_class" select="?" /> -->
                   <!-- <xsl:with-param name="show_title" select="?" /> -->
                   <!-- <xsl:with-param name="title_text" select="?" /> -->
                   <!-- <xsl:with-param name="show_messages" select="?" /> -->
                   <!-- <xsl:with-param name="onload_script" select="?" /> -->
                   <!-- <xsl:with-param name="onunload_script" select="?" /> -->
                   <!-- <xsl:with-param name="javascript_files" select="?" /> -->
                   <!-- <xsl:with-param name="theme_css_filename" select="?" /> -->
                   <!-- <xsl:with-param name="css_files" select="?" /> -->
                </xsl:call-template>
             </xsl:template>
          
             <xsl:template match="/lxml:data">
                <xsl:comment> Web application : WPROMMNT            Promotions/Discounts Maintenance</xsl:comment>
                <xsl:comment> Web routine     : PROMLST             Promotions/Discounts List</xsl:comment>
                <script type="text/javascript" src="/js/stickytooltips.js">
          /***********************************************
          * Sticky Tooltip script- (c) Dynamic Drive DHTML code library (www.dynamicdrive.com)
          * This notice MUST stay intact for legal use
          * Visit Dynamic Drive at http://www.dynamicdrive.com/ for this script and 100s more
          ***********************************************/
                </script>
                <div class="hidden">
                   <input onchange="return isValidNumber(this, '2', '0', '.')"
                          class="number" maxlength="5" size="5" name="LW3SFID"
                          value="{key('field-value', 'LW3SFID')}" />
                   <input type="hidden" name="LW3SFCUR"
                          value="{key('field-value', 'LW3SFCUR')}" />
                </div>
                <script type="text/javascript" src="/js/PromDiscScript.js">
                </script>
                <div>
                   <table>
                      <tbody>
                         <tr>
                            <td>
                               <span data-tooltip="sticky1">
                                  <img src="/img/QmarkHelp.gif" width="20" height="20" />
                               </span>&#160; <!--HTML for the tooltips-->
                               <div id="mystickytooltip" class="stickytooltip">
                                  <div style="padding:5px">
                                     <div id="sticky1" class="atip" style="width:250px">
                                        <h1>
                                           <xsl:call-template name="desc_lookup">
                                              <xsl:with-param name="name"
                                                              select="'TXT_PROMOADMHELP_HDR'" />
                                           </xsl:call-template>
                                        </h1>
                                        <p>
                                           <xsl:call-template name="desc_lookup">
                                              <xsl:with-param name="name"
                                                              select="'TXT_PROMOADMHELP_1'" />
                                           </xsl:call-template>&#160; <xsl:call-template name="desc_lookup">
                                              <xsl:with-param name="name"
                                                              select="'TXT_PROMOADMHELP_2'" />
                                           </xsl:call-template>&#160; <xsl:call-template name="desc_lookup">
                                              <xsl:with-param name="name"
                                                              select="'TXT_PROMOADMHELP_3'" />
                                           </xsl:call-template>&#160; <xsl:call-template name="desc_lookup">
                                              <xsl:with-param name="name"
                                                              select="'TXT_PROMOADMHELP_4'" />
                                           </xsl:call-template>&#160; <xsl:call-template name="desc_lookup">
                                              <xsl:with-param name="name"
                                                              select="'TXT_PROMOADMHELP_5'" />
                                           </xsl:call-template>
                                        </p>
                                     </div>
                                     <!-- <div class="stickystatus"></div> -->
                                  </div>
                               </div>
                            </td>
                         </tr>
                      </tbody>
                   </table>
                </div>
                <table cellspacing="3" cellpadding="0" summary="" border="0">
                   <tbody></tbody>
                </table>
                <br />
                <xsl:apply-templates select="/lxml:data/lxml:lists/lxml:list[@name='PROMLSTW']">
                   <xsl:with-param name="allow_sort" select="true()" />
                   <xsl:with-param name="allow_col_resize" select="true()" />
                </xsl:apply-templates>
                <xsl:apply-templates select="/lxml:data/lxml:lists/lxml:list[@name='CAMPLSTW']">
                   <xsl:with-param name="allow_sort" select="true()" />
                   <xsl:with-param name="allow_col_resize" select="true()" />
                </xsl:apply-templates>
             </xsl:template>
          
             <xsl:template match="/lxml:data/lxml:lists/lxml:list[@name='PROMLSTW']">
                <xsl:param name="allow_sort" select="true()" wd:type="std:boolean"
                           wd:tip_id="" />
                <xsl:param name="allow_col_resize" select="true()" wd:type="std:boolean"
                           wd:tip_id="" />
                <xsl:variable name="thelist"
                              select="/lxml:data/lxml:lists/lxml:list[@name='PROMLSTW']" />
                <script language="javascript">
                   <xsl:text disable-output-escaping="yes">//&lt;![CDATA[</xsl:text>
                      function init_stdGrid_PROMLSTW() {
                      var g = register_std_grid('PROMLSTW',12);
                      g.allowSort = <xsl:value-of select="$allow_sort" />;
                      g.allowColResize = <xsl:value-of select="$allow_col_resize" />;
                      var col = 0;
                      var ss = document.styleSheets[0];
                      var gid = '.std_grid#PROMLSTW ';
                      
                      }
                      init_stdGrid_PROMLSTW();
                      <xsl:text disable-output-escaping="yes">//]]&gt;</xsl:text>
                </script>
                <input type="hidden" name="PROMLSTW.."
                       value="{count(lxml:list-entries/lxml:entry[1])}" />
                <fieldset style="width: 100%; align: center">
                   <legend class="bold">
                      <xsl:call-template name="desc_lookup">
                         <xsl:with-param name="name" select="'LBL_ITEM_CODE_LIST'" />
                      </xsl:call-template>
                   </legend>
                   <br />
                   <div id="PROMLSTW_wrap" class="std_grid_wrapper">
                      <xsl:if test="/lxml:data/lxml:context[@design]">
                         <xsl:attribute name="class">std_grid_wrapper_designtime</xsl:attribute>
                      </xsl:if>
                      <table id="PROMLSTW" class="std_grid" width="100%" align="center">
                         <thead>
                            <tr class="list-h">
                               <th style="width: 22px;"></th>
                               <th style="width: 20px;"></th>
                               <th class="LW3PROCOD std_grid_sort_indicator"
                                   style="height: 26px;" align="center"
                                   __decimalseparator="" __formattype="alpha"
                                   __mode="input" __allowsort="true">
                                  <xsl:call-template name="desc_lookup">
                                     <xsl:with-param name="disable_output_escaping"
                                                     select="true()" />
                                     <xsl:with-param name="name" select="'COL_CODE'" />
                                  </xsl:call-template>
                                  <div class="std_grid_cell_sizer" align="center">
                                     <xsl:if test="boolean(/lxml:data/lxml:context[@design])">
                                        <xsl:attribute name="class">hidden__</xsl:attribute>
                                     </xsl:if>
                                     <xsl:comment>
                                     </xsl:comment>
                                  </div>
                               </th>
                               <th class="text LW3PRONM std_grid_sort_indicator"
                                   style="height: 26px;" __decimalseparator=""
                                   __formattype="alpha" __mode="input" __allowsort="true">
                                  <xsl:call-template name="desc_lookup">
                                     <xsl:with-param name="disable_output_escaping"
                                                     select="true()" />
                                     <xsl:with-param name="name" select="'COL_NAME'" />
                                  </xsl:call-template>
                                  <div class="std_grid_cell_sizer">
                                     <xsl:if test="boolean(/lxml:data/lxml:context[@design])">
                                        <xsl:attribute name="class">hidden__</xsl:attribute>
                                     </xsl:if>
                                     <xsl:comment>
                                     </xsl:comment>
                                  </div>
                               </th>
                               <th class="LW3PROSTS std_grid_sort_indicator"
                                   style="height: 26px;" align="center"
                                   __decimalseparator="" __formattype="alpha"
                                   __mode="input" __allowsort="true">
                                  <xsl:call-template name="desc_lookup">
                                     <xsl:with-param name="disable_output_escaping"
                                                     select="true()" />
                                     <xsl:with-param name="name" select="'COL_STATUS'" />
                                  </xsl:call-template>
                                  <div class="std_grid_cell_sizer" align="center">
                                     <xsl:if test="boolean(/lxml:data/lxml:context[@design])">
                                        <xsl:attribute name="class">hidden__</xsl:attribute>
                                     </xsl:if>
                                     <xsl:comment>
                                     </xsl:comment>
                                  </div>
                               </th>
                               <th class="LW3PROEFD std_grid_sort_indicator"
                                   style="height: 26px;" align="center"
                                   __decimalseparator="." __formattype="signed"
                                   __mode="input" __allowsort="true">
                                  <xsl:call-template name="desc_lookup">
                                     <xsl:with-param name="disable_output_escaping"
                                                     select="true()" />
                                     <xsl:with-param name="name"
                                                     select="'COL_EFFECTIVE_DATE'" />
                                  </xsl:call-template>
                                  <div class="std_grid_cell_sizer" align="center">
                                     <xsl:if test="boolean(/lxml:data/lxml:context[@design])">
                                        <xsl:attribute name="class">hidden__</xsl:attribute>
                                     </xsl:if>
                                     <xsl:comment>
                                     </xsl:comment>
                                  </div>
                               </th>
                               <th class="LW3PROEXD std_grid_sort_indicator"
                                   style="height: 26px;" align="center"
                                   __decimalseparator="." __formattype="signed"
                                   __mode="input" __allowsort="true">
                                  <xsl:call-template name="desc_lookup">
                                     <xsl:with-param name="disable_output_escaping"
                                                     select="true()" />
                                     <xsl:with-param name="name"
                                                     select="'COL_EXPIRY_DATE'" />
                                  </xsl:call-template>
                                  <div class="std_grid_cell_sizer" align="center">
                                     <xsl:if test="boolean(/lxml:data/lxml:context[@design])">
                                        <xsl:attribute name="class">hidden__</xsl:attribute>
                                     </xsl:if>
                                     <xsl:comment>
                                     </xsl:comment>
                                  </div>
                               </th>
                               <th class="LW3PROAAP std_grid_sort_indicator"
                                   style="height: 26px;" align="center"
                                   __decimalseparator="" __formattype="alpha"
                                   __mode="input" __allowsort="true">
                                  <xsl:call-template name="desc_lookup">
                                     <xsl:with-param name="disable_output_escaping"
                                                     select="true()" />
                                     <xsl:with-param name="name" select="'COL_GLOBAL_Q'" />
                                  </xsl:call-template>
                                  <div class="std_grid_cell_sizer" align="center">
                                     <xsl:if test="boolean(/lxml:data/lxml:context[@design])">
                                        <xsl:attribute name="class">hidden__</xsl:attribute>
                                     </xsl:if>
                                     <xsl:comment>
                                     </xsl:comment>
                                  </div>
                               </th>
                               <th class="LW3PROORI std_grid_sort_indicator"
                                   style="height: 26px;" align="center"
                                   __decimalseparator="" __formattype="alpha"
                                   __mode="input" __allowsort="true">
                                  <xsl:call-template name="desc_lookup">
                                     <xsl:with-param name="disable_output_escaping"
                                                     select="true()" />
                                     <xsl:with-param name="name" select="'COL_ORIGIN'" />
                                  </xsl:call-template>
                                  <div class="std_grid_cell_sizer" align="center">
                                     <xsl:if test="boolean(/lxml:data/lxml:context[@design])">
                                        <xsl:attribute name="class">hidden__</xsl:attribute>
                                     </xsl:if>
                                     <xsl:comment>
                                     </xsl:comment>
                                  </div>
                               </th>
                               <th class="LW3PROORI std_grid_sort_indicator"
                                   style="height: 26px;" align="center"
                                   __decimalseparator="" __formattype="alpha"
                                   __mode="input" __allowsort="true">
                                  <xsl:call-template name="desc_lookup">
                                     <xsl:with-param name="disable_output_escaping"
                                                     select="true()" />
                                     <xsl:with-param name="name"
                                                     select="'COL_EDIT_CONTENT'" />
                                  </xsl:call-template>
                                  <div class="std_grid_cell_sizer" align="center">
                                     <xsl:if test="boolean(/lxml:data/lxml:context[@design])">
                                        <xsl:attribute name="class">hidden__</xsl:attribute>
                                     </xsl:if>
                                     <xsl:comment>
                                     </xsl:comment>
                                  </div>
                               </th>
                            </tr>
                         </thead>
                         <tbody>
                            <xsl:for-each select="$thelist/lxml:list-entries/lxml:entry">
                               <xsl:variable name="LW3PROMID" select="lxml:column[2]" />
                               <xsl:variable name="LW3PROCOD" select="lxml:column[3]" />
                               <xsl:variable name="LW3PRONM" select="lxml:column[4]" />
                               <xsl:variable name="LW3PROSTS" select="lxml:column[5]" />
                               <xsl:variable name="LW3PROEFD" select="lxml:column[6]" />
                               <xsl:variable name="LW3PROEXD" select="lxml:column[7]" />
                               <xsl:variable name="LW3PROAAP" select="lxml:column[8]" />
                               <xsl:variable name="LW3PROORI" select="lxml:column[9]" />
                               <tr __oddrc="list-o" __evenrc="list-e">
                                  <xsl:attribute name="class">
                                     <xsl:choose>
                                        <xsl:when test="position() mod 2">list-o</xsl:when>
                                        <xsl:otherwise>list-e</xsl:otherwise>
                                     </xsl:choose>
                                  </xsl:attribute>
                                  <td>
                                     <input id="{$LW3PROMID/@id}" type="hidden"
                                            name="{$LW3PROMID/@id}" value="{$LW3PROMID}" />
                                     <xsl:call-template name="std_anchor">
                                        <xsl:with-param name="currentrowhfield"
                                                        select="'LW3PROMID'" />
                                        <xsl:with-param name="currentrownumval"
                                                        select="$LW3PROMID" />
                                        <xsl:with-param name="presubmit_js"
                                                        select="concat('insertStoreFrontHiddenField(',lxml:column[@name='LW3SFID'],');')" />
                                        <xsl:with-param name="on_click_wrname"
                                                        select="'PROMMNT'" />
                                        <xsl:with-param name="on_click_wamname"
                                                        select="'WPROMMNT'" />
                                        <xsl:with-param name="reentryvalue" select="''" />
                                        <xsl:with-param name="reentryfield"
                                                        select="'LW3PROMAC'" />
                                        <!--<xsl:with-param name="name"
                                                        select="$LW3PROMID/@id" /> -->
                                        <xsl:with-param name="value"
                                                        select="key('desc-lookup', 'LNK_EDIT')" />
                                        <!-- <xsl:with-param name="hide_if" select="?" /> -->
                                        <!-- <xsl:with-param name="formname" select="?" /> -->
                                        <!-- <xsl:with-param name="url" select="?" /> -->
                                        <!-- <xsl:with-param name="protocol" select="?" /> -->
                                        <!-- <xsl:with-param name="show_in_new_window" select="?" /> -->
                                        <!-- <xsl:with-param name="target_window_name" select="?" /> -->
                                        <!-- <xsl:with-param name="pos_absolute_design" select="?" /> -->
                                        <!-- <xsl:with-param name="width_design" select="?" /> -->
                                        <!-- <xsl:with-param name="relative-image-path" select="?" /> -->
                                        <!-- <xsl:with-param name="absolute-image-path" select="?" /> -->
                                        <!-- <xsl:with-param name="class" select="?" /> -->
                                        <!-- <xsl:with-param name="mouseover_class" select="?" /> -->
                                        <!-- <xsl:with-param name="text_class" select="?" /> -->
                                        <!-- <xsl:with-param name="tab_index" select="?" /> -->
                                     </xsl:call-template>
                                  </td>
                                  <td class="LW3PROMID">
                                     <xsl:attribute name="__cellValue">
                                        <xsl:value-of select="$LW3PROMID" />
                                     </xsl:attribute>
                                     <xsl:call-template name="std_anchor">
                                        <!-- <xsl:with-param name="presubmit_js" select="?" /> -->
                                        <xsl:with-param name="currentrowhfield"
                                                        select="'LW3PROMID'" />
                                        <xsl:with-param name="currentrownumval"
                                                        select="$LW3PROMID" />
                                        <xsl:with-param name="on_click_wrname"
                                                        select="'PROMMNT'" />
                                        <xsl:with-param name="on_click_wamname"
                                                        select="'WPROMMNT'" />
                                        <xsl:with-param name="reentryvalue"
                                                        select="'DELETE'" />
                                        <xsl:with-param name="reentryfield"
                                                        select="'LW3PROMAC'" />
                                        <!-- <xsl:with-param name="name"
                                                        select="$LW3PROMID/@id" /> -->
                                        <xsl:with-param name="value"
                                                        select="key('desc-lookup', 'LNK_DELETE')" />
                                        <!-- <xsl:with-param name="hide_if" select="?" /> -->
                                        <!-- <xsl:with-param name="formname" select="?" /> -->
                                        <!-- <xsl:with-param name="url" select="?" /> -->
                                        <!-- <xsl:with-param name="protocol" select="?" /> -->
                                        <!-- <xsl:with-param name="show_in_new_window" select="?" /> -->
                                        <!-- <xsl:with-param name="target_window_name" select="?" /> -->
                                        <!-- <xsl:with-param name="pos_absolute_design" select="?" /> -->
                                        <!-- <xsl:with-param name="width_design" select="?" /> -->
                                        <!-- <xsl:with-param name="relative-image-path" select="?" /> -->
                                        <!-- <xsl:with-param name="absolute-image-path" select="?" /> -->
                                        <!-- <xsl:with-param name="class" select="?" /> -->
                                        <!-- <xsl:with-param name="mouseover_class" select="?" /> -->
                                        <!-- <xsl:with-param name="text_class" select="?" /> -->
                                        <!-- <xsl:with-param name="tab_index" select="?" /> -->
                                     </xsl:call-template>
                                  </td>
                                  <td class="LW3PROCOD" align="center">
                                     <xsl:attribute name="__cellValue">
                                        <xsl:value-of select="$LW3PROCOD" />
                                     </xsl:attribute>
                                     <xsl:value-of select="$LW3PROCOD" />
                                  </td>
                                  <td class="LW3PRONM">
                                     <xsl:attribute name="__cellValue">
                                        <xsl:value-of select="$LW3PRONM" />
                                     </xsl:attribute>
                                     <xsl:value-of select="$LW3PRONM" />
                                  </td>
                                  <td class="LW3PROSTS" align="center">
                                     <xsl:attribute name="__cellValue">
                                        <xsl:value-of select="$LW3PROSTS" />
                                     </xsl:attribute>
                                     <xsl:value-of select="$LW3PROSTS" />
                                  </td>
                                  <td class="LW3PROEFD" align="center">
                                     <xsl:attribute name="__cellValue">
                                        <xsl:value-of select="$LW3PROEFD" />
                                     </xsl:attribute>
                                     <xsl:value-of select="$LW3PROEFD" />
                                  </td>
                                  <td class="LW3PROEXD" align="center">
                                     <xsl:attribute name="__cellValue">
                                        <xsl:value-of select="$LW3PROEXD" />
                                     </xsl:attribute>
                                     <xsl:value-of select="$LW3PROEXD" />
                                  </td>
                                  <td class="LW3PROAAP" align="center">
                                     <xsl:attribute name="__cellValue">
                                        <xsl:value-of select="$LW3PROAAP" />
                                     </xsl:attribute>
                                     <xsl:value-of select="$LW3PROAAP" />
                                  </td>
                                  <td class="LW3PROORI" align="center">
                                     <xsl:attribute name="__cellValue">
                                        <xsl:value-of select="$LW3PROORI" />
                                     </xsl:attribute>
                                     <xsl:value-of select="$LW3PROORI" />
                                  </td>
                                  <td align="center">
                                     <xsl:call-template name="std_click_image">
                                        <xsl:with-param name="presubmit_js"
                                                        select="concat('editContent(', position(), '); return false;')" />
                                        <!-- <xsl:with-param name="reentryvalue" select="?" /> -->
                                        <!-- <xsl:with-param name="reentryfield" select="?" /> -->
                                        <!-- <xsl:with-param name="on_click_wrname" select="?" /> -->
                                        <xsl:with-param name="tooltip"
                                                        select="'Edit Content'" />
                                        <xsl:with-param name="relative_image_path"
                                                        select="'icons/normal/16/attachment_16.png'" />
                                        <xsl:with-param name="name"
                                                        select="concat('o', position(), '_LANSA_12730')" />
                                        <!-- <xsl:with-param name="currentrowhfield" select="?" /> -->
                                        <!-- <xsl:with-param name="currentrownumval" select="?" /> -->
                                        <!-- <xsl:with-param name="hide_if" select="?" /> -->
                                        <!-- <xsl:with-param name="formname" select="?" /> -->
                                        <!-- <xsl:with-param name="url" select="?" /> -->
                                        <!-- <xsl:with-param name="on_click_wamname" select="?" /> -->
                                        <!-- <xsl:with-param name="protocol" select="?" /> -->
                                        <!-- <xsl:with-param name="show_in_new_window" select="?" /> -->
                                        <!-- <xsl:with-param name="target_window_name" select="?" /> -->
                                        <!-- <xsl:with-param name="disabled" select="?" /> -->
                                        <!-- <xsl:with-param name="hide_focus" select="?" /> -->
                                        <!-- <xsl:with-param name="absolute_image_path" select="?" /> -->
                                        <!-- <xsl:with-param name="mouseover_relative_image_path" select="?" /> -->
                                        <!-- <xsl:with-param name="mouseover_absolute_image_path" select="?" /> -->
                                        <!-- <xsl:with-param name="pos_absolute" select="?" /> -->
                                        <!-- <xsl:with-param name="width_design" select="?" /> -->
                                        <!-- <xsl:with-param name="height_design" select="?" /> -->
                                        <!-- <xsl:with-param name="class" select="?" /> -->
                                        <!-- <xsl:with-param name="disabled_class" select="?" /> -->
                                        <!-- <xsl:with-param name="tab_index" select="?" /> -->
                                     </xsl:call-template>
                                  </td>
                               </tr>
                            </xsl:for-each>
                         </tbody>
                      </table>
                   </div>
                   <br />
                   <div align="center">
                      <xsl:call-template name="multi_button">
                         <xsl:with-param name="on_click_wrname" select="'PROMMNT'" />
                         <xsl:with-param name="on_click_wamname" select="'WPROMMNT'" />
                         <xsl:with-param name="caption"
                                         select="key('desc-lookup', 'BTN_ADD_PROMOTION')" />
                         <xsl:with-param name="reentryvalue" select="''" />
                         <xsl:with-param name="reentryfield" select="'LW3PROMAC'" />
                         <xsl:with-param name="name"
                                         select="concat('o', position(), '_LANSA_32367')" />
                         <!-- <xsl:with-param name="hide_if" select="?" /> -->
                         <!-- <xsl:with-param name="formname" select="?" /> -->
                         <!-- <xsl:with-param name="pos_absolute_design" select="?" /> -->
                         <!-- <xsl:with-param name="width_design" select="?" /> -->
                         <!-- <xsl:with-param name="height_design" select="?" /> -->
                         <!-- <xsl:with-param name="protocol" select="?" /> -->
                         <!-- <xsl:with-param name="show_in_new_window" select="?" /> -->
                         <!-- <xsl:with-param name="target_window_name" select="?" /> -->
                         <!-- <xsl:with-param name="disabled" select="?" /> -->
                         <!-- <xsl:with-param name="title" select="?" /> -->
                         <!-- <xsl:with-param name="class" select="?" /> -->
                         <!-- <xsl:with-param name="mouseover_class" select="?" /> -->
                         <!-- <xsl:with-param name="presubmit_js" select="?" /> -->
                         <!-- <xsl:with-param name="tab_index" select="?" /> -->
                         <!-- <xsl:with-param name="default_button" select="?" /> -->
                      </xsl:call-template>
                   </div>
                   <br />
                </fieldset>
                <br />
                <br />
                <script type="text/javascript">
                function insertStoreFrontHiddenField(storeFrontID){
                   insertHiddenField(document.LANSA, "LW3SFID", storeFrontID);
                }
                </script>
             </xsl:template>
          
             <xsl:template match="/lxml:data/lxml:lists/lxml:list[@name='CAMPLSTW']">
                <xsl:param name="allow_sort" select="true()" wd:tip_id=""
                           wd:type="std:boolean" />
                <xsl:param name="allow_col_resize" select="true()" wd:tip_id=""
                           wd:type="std:boolean" />
                <xsl:variable name="thelist"
                              select="/lxml:data/lxml:lists/lxml:list[@name='CAMPLSTW']" />
                <script language="javascript">
                   <xsl:text disable-output-escaping="yes">//&lt;![CDATA[</xsl:text>
                      function init_stdGrid_CAMPLSTW() {
                      var g = register_std_grid('CAMPLSTW',8);
                      g.allowSort = <xsl:value-of select="$allow_sort" />;
                      g.allowColResize = <xsl:value-of select="$allow_col_resize" />;
                      var col = 0;
                      var ss = document.styleSheets[0];
                      var gid = '.std_grid#CAMPLSTW ';
                      
                      }
                      init_stdGrid_CAMPLSTW();
                      <xsl:text disable-output-escaping="yes">//]]&gt;</xsl:text>
                </script>
                <input type="hidden" name="CAMPLSTW.."
                       value="{count(lxml:list-entries/lxml:entry[1])}" />
                <div class="std_grid_wrapper" id="CAMPLSTW_wrap">
                   <xsl:if test="/lxml:data/lxml:context[@design]">
                      <xsl:attribute name="class">std_grid_wrapper_designtime</xsl:attribute>
                   </xsl:if>
                   <table class="std_grid" id="CAMPLSTW">
                      <thead>
                         <tr class="list-h">
                            <th class="number LW3SFID std_grid_sort_indicator"
                                __allowsort="true" __mode="input" __formattype="packed"
                                __decimalseparator=".">
                               <div class="std_grid_cell_sizer">
                                  <xsl:if test="boolean(/lxml:data/lxml:context[@design])">
                                     <xsl:attribute name="class">hidden__</xsl:attribute>
                                  </xsl:if>
                                  <xsl:comment />
                               </div>
                            </th>
                            <th class="number LW3CAMPID std_grid_sort_indicator"
                                __allowsort="true" __mode="input" __formattype="signed"
                                __decimalseparator=".">
                               <div class="std_grid_cell_sizer">
                                  <xsl:if test="boolean(/lxml:data/lxml:context[@design])">
                                     <xsl:attribute name="class">hidden__</xsl:attribute>
                                  </xsl:if>
                                  <xsl:comment />
                               </div>
                            </th>
                            <th class="text LW3CAMPNM std_grid_sort_indicator"
                                __allowsort="true" __mode="input" __formattype="alpha"
                                __decimalseparator="">
                               <div class="std_grid_cell_sizer">
                                  <xsl:if test="boolean(/lxml:data/lxml:context[@design])">
                                     <xsl:attribute name="class">hidden__</xsl:attribute>
                                  </xsl:if>
                                  <xsl:comment />
                               </div>Name</th>
                            <th class="utext LW3PROSTS std_grid_sort_indicator"
                                __allowsort="true" __mode="input" __formattype="alpha"
                                __decimalseparator="">
                               <div class="std_grid_cell_sizer">
                                  <xsl:if test="boolean(/lxml:data/lxml:context[@design])">
                                     <xsl:attribute name="class">hidden__</xsl:attribute>
                                  </xsl:if>
                                  <xsl:comment />
                               </div>Status</th>
                            <th class="number LW3PROEFD std_grid_sort_indicator"
                                __allowsort="true" __mode="input" __formattype="signed"
                                __decimalseparator=".">
                               <div class="std_grid_cell_sizer">
                                  <xsl:if test="boolean(/lxml:data/lxml:context[@design])">
                                     <xsl:attribute name="class">hidden__</xsl:attribute>
                                  </xsl:if>
                                  <xsl:comment />
                               </div>Effective Date</th>
                            <th class="number LW3PROEXD std_grid_sort_indicator"
                                __allowsort="true" __mode="input" __formattype="signed"
                                __decimalseparator=".">
                               <div class="std_grid_cell_sizer">
                                  <xsl:if test="boolean(/lxml:data/lxml:context[@design])">
                                     <xsl:attribute name="class">hidden__</xsl:attribute>
                                  </xsl:if>
                                  <xsl:comment />
                               </div>Expiry Date</th>
                            <th class="number LW3NUMDAY std_grid_sort_indicator"
                                __allowsort="true" __mode="input" __formattype="packed"
                                __decimalseparator=".">
                               <div class="std_grid_cell_sizer">
                                  <xsl:if test="boolean(/lxml:data/lxml:context[@design])">
                                     <xsl:attribute name="class">hidden__</xsl:attribute>
                                  </xsl:if>
                                  <xsl:comment />
                               </div># of Days</th>
                            <th class="number LW3NUMMTH std_grid_sort_indicator"
                                __allowsort="true" __mode="input" __formattype="packed"
                                __decimalseparator=".">
                               <div class="std_grid_cell_sizer">
                                  <xsl:if test="boolean(/lxml:data/lxml:context[@design])">
                                     <xsl:attribute name="class">hidden__</xsl:attribute>
                                  </xsl:if>
                                  <xsl:comment />
                               </div># of Months</th>
                         </tr>
                      </thead>
                      <tbody>
                         <xsl:for-each select="$thelist/lxml:list-entries/lxml:entry">
                            <xsl:variable name="LW3SFID" select="lxml:column[1]" />
                            <xsl:variable name="LW3CAMPID" select="lxml:column[2]" />
                            <xsl:variable name="LW3CAMPNM" select="lxml:column[3]" />
                            <xsl:variable name="LW3PROSTS" select="lxml:column[4]" />
                            <xsl:variable name="LW3PROEFD" select="lxml:column[5]" />
                            <xsl:variable name="LW3PROEXD" select="lxml:column[6]" />
                            <xsl:variable name="LW3NUMDAY" select="lxml:column[7]" />
                            <xsl:variable name="LW3NUMMTH" select="lxml:column[8]" />
                            <tr __evenrc="list-e" __oddrc="list-o">
                               <xsl:attribute name="class">
                                  <xsl:choose>
                                     <xsl:when test="position() mod 2">list-o</xsl:when>
                                     <xsl:otherwise>list-e</xsl:otherwise>
                                  </xsl:choose>
                               </xsl:attribute>
                               <td class="LW3SFID" style="height: 13px;">
                                  <xsl:attribute name="__cellValue">
                                     <xsl:value-of select="$LW3SFID" />
                                  </xsl:attribute>
                                  <xsl:call-template name="std_anchor">
                                     <xsl:with-param name="presubmit_js"
                                                     select="concat('insertStoreFrontHiddenField(',lxml:column[@name='LW3SFID'],');')" />
                                     <xsl:with-param name="on_click_wrname"
                                                     select="'PROMCMNT'" />
                                     <xsl:with-param name="on_click_wamname"
                                                     select="'WPROMMNT'" />
                                     <xsl:with-param name="reentryvalue" select="''" />
                                     <xsl:with-param name="reentryfield"
                                                     select="'LW3PROMAC'" />
                                     <xsl:with-param name="currentrownumval"
                                                     select="$LW3CAMPID" />
                                     <xsl:with-param name="currentrowhfield"
                                                     select="'LW3CAMPID'" />
                                     <xsl:with-param name="value" select="'Edit'" />
                                     <xsl:with-param name="name" select="$LW3CAMPID/@id" />
                                     <!-- <xsl:with-param name="hide_if" select="?" /> -->
                                     <!-- <xsl:with-param name="formname" select="?" /> -->
                                     <!-- <xsl:with-param name="url" select="?" /> -->
                                     <!-- <xsl:with-param name="protocol" select="?" /> -->
                                     <!-- <xsl:with-param name="show_in_new_window" select="?" /> -->
                                     <!-- <xsl:with-param name="target_window_name" select="?" /> -->
                                     <!-- <xsl:with-param name="pos_absolute_design" select="?" /> -->
                                     <!-- <xsl:with-param name="width_design" select="?" /> -->
                                     <!-- <xsl:with-param name="relative-image-path" select="?" /> -->
                                     <!-- <xsl:with-param name="absolute-image-path" select="?" /> -->
                                     <!-- <xsl:with-param name="class" select="?" /> -->
                                     <!-- <xsl:with-param name="mouseover_class" select="?" /> -->
                                     <!-- <xsl:with-param name="text_class" select="?" /> -->
                                     <!-- <xsl:with-param name="tab_index" select="?" /> -->
                                     <!---->
                                     <!-- NOTE: Uncomment <xsl:with-param> tags above and replace "Replace_With_Field_Name" -->
                                     <!--       placeholders with the name of the field you wish to use for this Weblet. -->
                                     <!--       Refer to Field View pane for available fields. -->
                                     <!--       Also provide other parameter values, if any. -->
                                     <!---->
                                  </xsl:call-template>
                               </td>
                               <td class="LW3CAMPID" style="height: 13px;">
                                  <xsl:attribute name="__cellValue">
                                     <xsl:value-of select="$LW3CAMPID" />
                                  </xsl:attribute>
                                  <xsl:call-template name="std_anchor">
                                     <xsl:with-param name="presubmit_js"
                                                     select="concat('insertStoreFrontHiddenField(',lxml:column[@name='LW3SFID'],');')" />
                                     <xsl:with-param name="on_click_wrname"
                                                     select="'PROMCMNT'" />
                                     <xsl:with-param name="on_click_wamname"
                                                     select="'WPROMMNT'" />
                                     <xsl:with-param name="reentryvalue" select="'DELETE'" />
                                     <xsl:with-param name="reentryfield"
                                                     select="'LW3PROMAC'" />
                                     <xsl:with-param name="currentrownumval"
                                                     select="$LW3CAMPID" />
                                     <xsl:with-param name="currentrowhfield"
                                                     select="'LW3CAMPID'" />
                                     <xsl:with-param name="value" select="'Delete'" />
                                     <xsl:with-param name="name" select="$LW3CAMPID/@id" />
                                     <!-- <xsl:with-param name="hide_if" select="?" /> -->
                                     <!-- <xsl:with-param name="formname" select="?" /> -->
                                     <!-- <xsl:with-param name="url" select="?" /> -->
                                     <!-- <xsl:with-param name="protocol" select="?" /> -->
                                     <!-- <xsl:with-param name="show_in_new_window" select="?" /> -->
                                     <!-- <xsl:with-param name="target_window_name" select="?" /> -->
                                     <!-- <xsl:with-param name="pos_absolute_design" select="?" /> -->
                                     <!-- <xsl:with-param name="width_design" select="?" /> -->
                                     <!-- <xsl:with-param name="relative-image-path" select="?" /> -->
                                     <!-- <xsl:with-param name="absolute-image-path" select="?" /> -->
                                     <!-- <xsl:with-param name="class" select="?" /> -->
                                     <!-- <xsl:with-param name="mouseover_class" select="?" /> -->
                                     <!-- <xsl:with-param name="text_class" select="?" /> -->
                                     <!-- <xsl:with-param name="tab_index" select="?" /> -->
                                     <!---->
                                     <!-- NOTE: Uncomment <xsl:with-param> tags above and replace "Replace_With_Field_Name" -->
                                     <!--       placeholders with the name of the field you wish to use for this Weblet. -->
                                     <!--       Refer to Field View pane for available fields. -->
                                     <!--       Also provide other parameter values, if any. -->
                                     <!---->
                                  </xsl:call-template>
                               </td>
                               <td class="LW3CAMPNM" style="height: 13px;">
                                  <xsl:attribute name="__cellValue">
                                     <xsl:value-of select="$LW3CAMPNM" />
                                  </xsl:attribute>
                                  <xsl:value-of select="$LW3CAMPNM" />
                               </td>
                               <td class="LW3PROSTS" style="height: 13px;">
                                  <xsl:attribute name="__cellValue">
                                     <xsl:value-of select="$LW3PROSTS" />
                                  </xsl:attribute>
                                  <xsl:value-of select="$LW3PROSTS" />
                               </td>
                               <td class="LW3PROEFD" style="height: 13px;">
                                  <xsl:attribute name="__cellValue">
                                     <xsl:value-of select="$LW3PROEFD" />
                                  </xsl:attribute>
                                  <xsl:value-of select="$LW3PROEFD" />
                               </td>
                               <td class="LW3PROEXD" style="height: 13px;">
                                  <xsl:attribute name="__cellValue">
                                     <xsl:value-of select="$LW3PROEXD" />
                                  </xsl:attribute>
                                  <xsl:value-of select="$LW3PROEXD" />
                               </td>
                               <td class="LW3NUMDAY" style="height: 13px;">
                                  <xsl:attribute name="__cellValue">
                                     <xsl:value-of select="$LW3NUMDAY" />
                                  </xsl:attribute>
                                  <xsl:value-of select="$LW3NUMDAY" />
                               </td>
                               <td class="LW3NUMMTH" style="height: 13px;">
                                  <xsl:attribute name="__cellValue">
                                     <xsl:value-of select="$LW3NUMMTH" />
                                  </xsl:attribute>
                                  <xsl:value-of select="$LW3NUMMTH" />
                               </td>
                            </tr>
                         </xsl:for-each>
                      </tbody>
                   </table>
                </div>
             </xsl:template>
          </xsl:transform>

  - PROMMNT:
      XML: |
        <?xml version="1.0" encoding="UTF-8"?>
        
        <!-- WAM       : WPROMMNT - ?
             Webroutine: PROMMNT - Promotions/Discounts Maintenance
             Timestamp : 2015-09-14T00:33:31-05:00 -->
        <lxml:data xmlns:lxml="http://www.lansa.com/2002/XML/Runtime-Data">
           <lxml:server-instructions>
              <lxml:client-charset></lxml:client-charset>
              <lxml:cookies><lxml:cookie name="STDSESSID"><lxml:value field-name="STDSESSID"></lxml:value>
                    <lxml:expires field-name="LW3CEXPDT"></lxml:expires>
                    <lxml:domain></lxml:domain>
                    <lxml:path>/; HttpOnly</lxml:path>
                    <lxml:secure></lxml:secure>
                 </lxml:cookie>
                 <lxml:cookie name="STDWEBUSR"><lxml:value field-name="STDWEBUSR"></lxml:value>
                    <lxml:expires field-name=""></lxml:expires>
                    <lxml:domain field-name=""></lxml:domain>
                    <lxml:path field-name=""></lxml:path>
                    <lxml:secure field-name=""></lxml:secure>
                 </lxml:cookie>
              </lxml:cookies>
              <lxml:ssi></lxml:ssi>
           </lxml:server-instructions>
           <lxml:context>
              <lxml:user-id>
              </lxml:user-id>
              <lxml:webapplication>WPROMMNT</lxml:webapplication>
              <lxml:webapplication-title>?</lxml:webapplication-title>
              <lxml:webroutine>PROMMNT</lxml:webroutine>
              <lxml:webroutine-title>Promotions/Discounts Maintenance</lxml:webroutine-title>
              <lxml:service-name></lxml:service-name>
              <lxml:partition>CML</lxml:partition>
              <lxml:language iso-lang="en">ENG</lxml:language>
              <lxml:dec-separator>.</lxml:dec-separator>
              <lxml:images-path>/images</lxml:images-path>
              <lxml:action-request>/cgi-bin/lansaweb</lxml:action-request>
              <lxml:dev-resources-path>file://C:/PROGRA~2/LANSA/LANSA/WAMEditor/Resources</lxml:dev-resources-path></lxml:context>
           <lxml:options>
              <lxml:option name="DBCS">false</lxml:option>
              <lxml:option name="align-right">true</lxml:option>
              <lxml:option name="check-numeric">false</lxml:option>
              <lxml:option name="debug"/>
              <lxml:option name="trace"/>
              <lxml:option name="task"/>
           </lxml:options>
           <lxml:variables/>
           <lxml:messages></lxml:messages>
           </lxml:data>

      Designs:
      - Language:           ENG
        Technology Service: LANSA XHTML

        XSL: |
          <?xml version="1.0" encoding="UTF-8"?>
          
          <!-- Web application : WPROMMNT            Promotions/Discounts Maintenance        -->
          <!-- Web routine     : PROMMNT             Promotions/Discounts Maintenance        -->
          <!-- Timestamp       : 2008-01-24T15:07:41-05:00                                   -->
          <xsl:transform version="1.0" exclude-result-prefixes="lxml wd" xmlns:lxml="http://www.lansa.com/2002/XML/Runtime-Data" xmlns:wd="http://www.lansa.com/2002/XSL/Weblet-Design" xmlns="http://www.w3.org/1999/xhtml" xmlns:xsl="http://www.w3.org/1999/XSL/Transform">
             <xsl:import href="std_keys.xsl"/>
             <xsl:import href="std_variables.xsl"/>
             <xsl:import href="multi_button.xsl"/>
             <xsl:import href="std_date.xsl"/>
             <xsl:import href="cust_dropdown.xsl"/>
             <xsl:import href="std_checkbox.xsl"/>
             <xsl:import href="wadmlgn1_layout.xsl"/>
             <xsl:import href="jquery_datepicker.xsl"/>
             <xsl:output method="xml" omit-xml-declaration="yes" encoding="UTF-8" indent="no"/>
             <xsl:template match="/">
                <xsl:call-template name="layout">
                   <xsl:with-param name="additional_script_files" select="'jquery-1.3.2.min.js,jquery-autocomplete.js,PromDiscScript.js'"/>
                   <xsl:with-param name="additional_css_files" select="'BK9_AC.css'"/>
                   <!-- <xsl:with-param name="has_form" select="?" /> -->
                   <!-- <xsl:with-param name="no_layout" select="?" /> -->
                   <!-- <xsl:with-param name="body_class" select="?" /> -->
                   <!-- <xsl:with-param name="form_class" select="?" /> -->
                   <!-- <xsl:with-param name="show_title" select="?" /> -->
                   <!-- <xsl:with-param name="title_text" select="?" /> -->
                   <!-- <xsl:with-param name="show_messages" select="?" /> -->
                   <!-- <xsl:with-param name="onload_script" select="?" /> -->
                   <!-- <xsl:with-param name="onunload_script" select="?" /> -->
                   <!-- <xsl:with-param name="javascript_files" select="?" /> -->
                   <!-- <xsl:with-param name="theme_css_filename" select="?" /> -->
                   <!-- <xsl:with-param name="css_files" select="?" /> -->
                </xsl:call-template>
             </xsl:template>
             <xsl:template match="/lxml:data">
                <xsl:comment> Web application : WPROMMNT            Promotions/Discounts Maintenance</xsl:comment>
                <xsl:comment> Web routine     : PROMMNT             Promotions/Discounts Maintenance</xsl:comment>
                <script type="text/javascript" src="/js/stickytooltips.js">
          /***********************************************
          * Sticky Tooltip script- (c) Dynamic Drive DHTML code library (www.dynamicdrive.com)
          * This notice MUST stay intact for legal use
          * Visit Dynamic Drive at http://www.dynamicdrive.com/ for this script and 100s more
          ***********************************************/
                </script>
                <xsl:call-template name="jquery_datepicker">
                   <!-- <xsl:with-param name="datetype" select="?" /> -->
                </xsl:call-template>
                <div class="hidden">
                   <input type="hidden" name="LW3LCOUNT" value="{key('field-value', 'LW3LCOUNT')}"/>
                   <input type="hidden" name="LW3PROMAC" value="{key('field-value', 'LW3PROMAC')}"/>
                   <input type="hidden" name="LW3FREGFT" value="{key('field-value', 'LW3FREGFT')}"/>
                   <input onchange="return isValidNumber(this, '2', '0', '.')" class="number" maxlength="2" size="5" name="LW3SFID" value="{key('field-value', 'LW3SFID')}"/>
                   <input id="requirement-level" type="hidden" name="W_RLEVEL" value="{key('field-value', 'W_RLEVEL')}"/>
                   <input id="W_CODE" maxlength="1" size="1" type="hidden" name="W_CODE" value="{key('field-value', 'W_CODE')}"/>
                   <input type="hidden" name="LW3SFCUR" value="{key('field-value', 'LW3SFCUR')}"/>
                   <input id="W_MSGPRM1" style="POSITION: " maxlength="256" size="256" type="hidden" name="W_MSGPRM1" value="{key('field-value', 'W_MSGPRM1')}"/>
                   <input id="W_MSGPRM2" style="POSITION: " maxlength="256" size="256" type="hidden" name="W_MSGPRM2" value="{key('field-value', 'W_MSGPRM2')}"/>
                   <input id="W_MSGPRM3" style="POSITION: " maxlength="256" size="256" type="hidden" name="W_MSGPRM3" value="{key('field-value', 'W_MSGPRM3')}"/>
                   <input id="W_MSGPRM4" style="POSITION: " maxlength="256" size="256" type="hidden" name="W_MSGPRM4" value="{key('field-value', 'W_MSGPRM4')}"/>
                   <input id="W_MSGPRM5" style="POSITION: " maxlength="256" size="256" type="hidden" name="W_MSGPRM5" value="{key('field-value', 'W_MSGPRM5')}"/>
                   <input id="W_MSGPRM6" style="POSITION: " maxlength="256" size="256" type="hidden" name="W_MSGPRM6" value="{key('field-value', 'W_MSGPRM6')}"/>
                   <input id="W_MSGPRM7" style="POSITION: " maxlength="256" size="256" type="hidden" name="W_MSGPRM7" value="{key('field-value', 'W_MSGPRM7')}"/>
                   <input id="W_MSGPRM8" style="POSITION: " maxlength="256" size="256" type="hidden" name="W_MSGPRM8" value="{key('field-value', 'W_MSGPRM8')}"/>
                   <input id="W_MSGPRM9" style="POSITION: " maxlength="256" size="256" type="hidden" name="W_MSGPRM9" value="{key('field-value', 'W_MSGPRM9')}"/>
                   <input id="W_MSGPR10" style="POSITION: " maxlength="256" size="256" type="hidden" name="W_MSGPR10" value="{key('field-value', 'W_MSGPR10')}"/>
                   <input id="W_MSGPR11" style="POSITION: " maxlength="256" size="256" type="hidden" name="W_MSGPR11" value="{key('field-value', 'W_MSGPR11')}"/>
                   <input id="W_MSGPR12" style="POSITION: " maxlength="256" size="256" type="hidden" name="W_MSGPR12" value="{key('field-value', 'W_MSGPR12')}"/>
                   <input id="W_MSGPR13" style="POSITION: " maxlength="256" size="256" type="hidden" name="W_MSGPR13" value="{key('field-value', 'W_MSGPR13')}"/>
                   <input id="W_MSGPR14" style="POSITION: " maxlength="256" size="256" type="hidden" name="W_MSGPR14" value="{key('field-value', 'W_MSGPR14')}"/>
                   <input id="W_MSGPR15" style="POSITION: " maxlength="256" size="256" type="hidden" name="W_MSGPR15" value="{key('field-value', 'W_MSGPR15')}"/>
                   <input id="W_MSGPR16" style="POSITION: " maxlength="256" size="256" type="hidden" name="W_MSGPR16" value="{key('field-value', 'W_MSGPR16')}"/>
                   <input id="W_MSGPR17" style="POSITION: " maxlength="256" size="256" type="hidden" name="W_MSGPR17" value="{key('field-value', 'W_MSGPR17')}"/>
                   <input id="W_MSGPR18" style="POSITION: " maxlength="256" size="256" type="hidden" name="W_MSGPR18" value="{key('field-value', 'W_MSGPR18')}"/>
                   <input id="W_MSGPR19" style="POSITION: " maxlength="256" size="256" type="hidden" name="W_MSGPR19" value="{key('field-value', 'W_MSGPR19')}"/>
                   <input id="W_MSGPR20" style="POSITION: " maxlength="256" size="256" type="hidden" name="W_MSGPR20" value="{key('field-value', 'W_MSGPR20')}"/>
                   <input id="W_MSGPR21" style="POSITION: " maxlength="256" size="256" type="hidden" name="W_MSGPR21" value="{key('field-value', 'W_MSGPR21')}"/>
                   <input id="W_MSGPR22" style="POSITION: " maxlength="256" size="256" type="hidden" name="W_MSGPR22" value="{key('field-value', 'W_MSGPR22')}"/>
                   <input id="W_MSGPR23" style="POSITION: " maxlength="256" size="256" type="hidden" name="W_MSGPR23" value="{key('field-value', 'W_MSGPR23')}"/>
                </div>
                <input onchange="return isValidNumber(this, '8', '0', '.')" maxlength="13" size="13" type="hidden" name="LW3PROMID" value="{key('field-value', 'LW3PROMID')}"/>
                <div>
                   <table>
                      <tbody>
                         <tr>
                            <td>
                               <span data-tooltip="sticky1">
                                  <img src="/img/QmarkHelp.gif" width="20" height="20"/>
                               </span>  <!--HTML for the tooltips-->
                               <div id="mystickytooltip" class="stickytooltip">
                                  <div style="padding:5px">
                                     <div id="sticky1" class="atip" style="width:250px">
                                        <h1>
                                           <xsl:call-template name="desc_lookup">
                                              <xsl:with-param name="name" select="'TXT_PROMOMNTHELP_HDR'"/>
                                           </xsl:call-template>
                                        </h1>
                                        <p>
                                           <xsl:call-template name="desc_lookup">
                                              <xsl:with-param name="name" select="'TXT_PROMOMNTHELP_1'"/>
                                           </xsl:call-template>  <xsl:call-template name="desc_lookup">
                                              <xsl:with-param name="name" select="'TXT_PROMOMNTHELP_2'"/>
                                           </xsl:call-template>  <xsl:call-template name="desc_lookup">
                                              <xsl:with-param name="name" select="'TXT_PROMOMNTHELP_3'"/>
                                           </xsl:call-template>  <xsl:call-template name="desc_lookup">
                                              <xsl:with-param name="name" select="'TXT_PROMOMNTHELP_4'"/>
                                           </xsl:call-template>  <xsl:call-template name="desc_lookup">
                                              <xsl:with-param name="name" select="'TXT_PROMOMNTHELP_5'"/>
                                           </xsl:call-template>
                                        </p>
                                     </div>
                                     <!-- <div class="stickystatus"></div> -->
                                  </div>
                               </div>
                            </td>
                         </tr>
                      </tbody>
                   </table>
                </div>
                <fieldset style="width: 100%; ">
                   <legend class="bold">
                      <xsl:call-template name="desc_lookup">
                         <xsl:with-param name="name" select="'LBL_GENERAL_INFORMATION'"/>
                      </xsl:call-template>
                   </legend>
                   <br/>
                   <table cellspacing="3" cellpadding="3">
                      <tbody>
                         <tr id="STOREFRONT_ROW" style="display:none">
                            <td>
                               <xsl:call-template name="desc_lookup">
                                  <xsl:with-param name="name" select="'LBL_STOREFRONT'"/>
                                  <!-- <xsl:with-param name="disable_output_escaping" select="?" /> -->
                                  <!-- <xsl:with-param name="lookup_list" select="?" /> -->
                               </xsl:call-template>
                            </td>
                            <td>
                               <xsl:call-template name="cust_dropdown">
                                  <xsl:with-param name="captionfield" select="'LW3DDDSC'"/>
                                  <xsl:with-param name="codefield" select="'LW3SFID'"/>
                                  <xsl:with-param name="listname" select="'SFLSTW'"/>
                                  <xsl:with-param name="value" select="key('field-value', 'W_SFID')"/>
                                  <xsl:with-param name="name" select="'W_SFID'"/>
                                  <!-- <xsl:with-param name="display_mode" select="?" /> -->
                                  <!-- <xsl:with-param name="items" select="?" /> -->
                                  <!-- <xsl:with-param name="selector_field" select="?" /> -->
                                  <!-- <xsl:with-param name="selector_value_eq" select="?" /> -->
                                  <!-- <xsl:with-param name="tagfield1" select="?" /> -->
                                  <!-- <xsl:with-param name="tagfield2" select="?" /> -->
                                  <!-- <xsl:with-param name="tagfield3" select="?" /> -->
                                  <!-- <xsl:with-param name="submit_tagfields" select="?" /> -->
                                  <!-- <xsl:with-param name="reentryfield" select="?" /> -->
                                  <!-- <xsl:with-param name="reentryvalue" select="?" /> -->
                                  <!-- <xsl:with-param name="hide_if" select="?" /> -->
                                  <!-- <xsl:with-param name="formname" select="?" /> -->
                                  <!-- <xsl:with-param name="pos_absolute" select="?" /> -->
                                  <!-- <xsl:with-param name="width_design" select="?" /> -->
                                  <!-- <xsl:with-param name="on_change_wamname" select="?" /> -->
                                  <!-- <xsl:with-param name="on_change_wrname" select="?" /> -->
                                  <!-- <xsl:with-param name="protocol" select="?" /> -->
                                  <!-- <xsl:with-param name="target_window_name" select="?" /> -->
                                  <!-- <xsl:with-param name="disabled" select="?" /> -->
                                  <!-- <xsl:with-param name="class" select="?" /> -->
                                  <!-- <xsl:with-param name="mouseover_class" select="?" /> -->
                                  <!-- <xsl:with-param name="tab_index" select="?" /> -->
                                  <!---->
                                  <!-- NOTE: Uncomment <xsl:with-param> tags above and replace "Replace_With_Field_Name" -->
                                  <!--       placeholders with the name of the field you wish to use for this Weblet. -->
                                  <!--       Refer to Field View pane for available fields. -->
                                  <!--       Also provide other parameter values, if any. -->
                                  <!---->
                               </xsl:call-template>
                            </td>
                         </tr>
                         <tr>
                            <td>
                               <xsl:call-template name="desc_lookup">
                                  <xsl:with-param name="name" select="'LBL_PROMOTION_NAME'"/>
                                  <!-- <xsl:with-param name="disable_output_escaping" select="?" /> -->
                                  <!-- <xsl:with-param name="lookup_list" select="?" /> -->
                               </xsl:call-template>
                            </td>
                            <td>
                               <input onchange="return isValidText(this, ' ')" id="LW3PRONM" class="text" maxlength="50" size="50" name="LW3PRONM" value="{key('field-value', 'LW3PRONM')}"/>
                            </td>
                         </tr>
                         <tr>
                            <td>
                               <xsl:call-template name="desc_lookup">
                                  <xsl:with-param name="name" select="'LBL_GLOBAL_Q'"/>
                                  <!-- <xsl:with-param name="disable_output_escaping" select="?" /> -->
                                  <!-- <xsl:with-param name="lookup_list" select="?" /> -->
                               </xsl:call-template>
                            </td>
                            <td>
                               <xsl:call-template name="cust_dropdown">
                                  <xsl:with-param name="id" select="'W_PROAAP'"/>
                                  <xsl:with-param name="presubmit_js" select="'showPromotionCode(this.value);return;'"/>
                                  <xsl:with-param name="captionfield" select="'LW3DDDSC'"/>
                                  <xsl:with-param name="codefield" select="'LW3PROAAP'"/>
                                  <xsl:with-param name="listname" select="'RQPCDLSTW'"/>
                                  <xsl:with-param name="value" select="key('field-value', 'W_PROAAP')"/>
                                  <xsl:with-param name="name" select="'W_PROAAP'"/>
                                  <!-- <xsl:with-param name="display_mode" select="?" /> -->
                                  <!-- <xsl:with-param name="items" select="?" /> -->
                                  <!-- <xsl:with-param name="selector_field" select="?" /> -->
                                  <!-- <xsl:with-param name="selector_value_eq" select="?" /> -->
                                  <!-- <xsl:with-param name="tagfield1" select="?" /> -->
                                  <!-- <xsl:with-param name="tagfield2" select="?" /> -->
                                  <!-- <xsl:with-param name="tagfield3" select="?" /> -->
                                  <!-- <xsl:with-param name="submit_tagfields" select="?" /> -->
                                  <!-- <xsl:with-param name="reentryfield" select="?" /> -->
                                  <!-- <xsl:with-param name="reentryvalue" select="?" /> -->
                                  <!-- <xsl:with-param name="hide_if" select="?" /> -->
                                  <!-- <xsl:with-param name="formname" select="?" /> -->
                                  <!-- <xsl:with-param name="pos_absolute" select="?" /> -->
                                  <!-- <xsl:with-param name="width_design" select="?" /> -->
                                  <!-- <xsl:with-param name="on_change_wamname" select="?" /> -->
                                  <!-- <xsl:with-param name="on_change_wrname" select="?" /> -->
                                  <!-- <xsl:with-param name="protocol" select="?" /> -->
                                  <!-- <xsl:with-param name="target_window_name" select="?" /> -->
                                  <!-- <xsl:with-param name="disabled" select="?" /> -->
                                  <!-- <xsl:with-param name="class" select="?" /> -->
                                  <!-- <xsl:with-param name="mouseover_class" select="?" /> -->
                                  <!-- <xsl:with-param name="tab_index" select="?" /> -->
                                  <!---->
                                  <!-- NOTE: Uncomment <xsl:with-param> tags above and replace "Replace_With_Field_Name" -->
                                  <!--       placeholders with the name of the field you wish to use for this Weblet. -->
                                  <!--       Refer to Field View pane for available fields. -->
                                  <!--       Also provide other parameter values, if any. -->
                                  <!---->
                               </xsl:call-template>
                            </td>
                         </tr>
                         <tr id="PROMOTION_CODE_ROW" style="display:none">
                            <td>
                               <xsl:call-template name="desc_lookup">
                                  <xsl:with-param name="name" select="'LBL_PROMOTION_CODE'"/>
                                  <!-- <xsl:with-param name="disable_output_escaping" select="?" /> -->
                                  <!-- <xsl:with-param name="lookup_list" select="?" /> -->
                               </xsl:call-template>
                            </td>
                            <td>
                               <input onchange="return isValidText(this, ' ')" id="LW3PROCOD" class="utext" maxlength="20" name="LW3PROCOD" value="{key('field-value', 'LW3PROCOD')}"/>
                            </td>
                         </tr>
                         <tr>
                            <td>
                               <xsl:call-template name="desc_lookup">
                                  <xsl:with-param name="name" select="'LBL_EFFECTIVE_DATE'"/>
                                  <!-- <xsl:with-param name="disable_output_escaping" select="?" /> -->
                                  <!-- <xsl:with-param name="lookup_list" select="?" /> -->
                               </xsl:call-template>
                            </td>
                            <td>
                               <!--xsl:call-template name="std_date">
                                                    <xsl:with-param name="date_mask" select="'YYYY/MM/DD'" />
                               <xsl:with-param name="value"
                                               select="key('field-value', 'W_EFDATE')" />
                                                    <xsl:with-param name="name" select="'W_EFDATE'" />
                                                </xsl:call-template-->
                               <input class="number datepicker" maxlength="8" size="10" name="W_EFDATE" value="{key('field-value', 'W_EFDATE')}"/>
                            </td>
                         </tr>
                         <tr>
                            <td>
                               <xsl:call-template name="desc_lookup">
                                  <xsl:with-param name="name" select="'LBL_EXPIRY_DATE'"/>
                                  <!-- <xsl:with-param name="disable_output_escaping" select="?" /> -->
                                  <!-- <xsl:with-param name="lookup_list" select="?" /> -->
                               </xsl:call-template>
                            </td>
                            <td>
                               <input class="number datepicker" maxlength="8" size="10" name="W_EXDATE" value="{key('field-value', 'W_EXDATE')}"/>
                               <!--xsl:call-template name="std_date">
                                                    <xsl:with-param name="allow_sqlnull" select="true()" />
                               <xsl:with-param name="date_mask" select="'YYYY/MM/DD'" />
                               <xsl:with-param name="value"
                                               select="key('field-value', 'W_EXDATE')" />
                                                <xsl:with-param name="name" select="'W_EXDATE'" />
                                            </xsl:call-template-->
                            </td>
                         </tr>
                         <tr>
                            <td>
                               <xsl:call-template name="desc_lookup">
                                  <xsl:with-param name="name" select="'LBL_STATUS'"/>
                                  <!-- <xsl:with-param name="disable_output_escaping" select="?" /> -->
                                  <!-- <xsl:with-param name="lookup_list" select="?" /> -->
                               </xsl:call-template>
                            </td>
                            <td>
                               <xsl:call-template name="cust_dropdown">
                                  <xsl:with-param name="value" select="key('field-value', 'W_PROSTS')"/>
                                  <xsl:with-param name="captionfield" select="'LW3DDDSC'"/>
                                  <xsl:with-param name="codefield" select="'LW3PROSTS'"/>
                                  <xsl:with-param name="listname" select="'PRSTSLSTW'"/>
                                  <xsl:with-param name="name" select="'W_PROSTS'"/>
                                  <!-- <xsl:with-param name="display_mode" select="?" /> -->
                                  <!-- <xsl:with-param name="items" select="?" /> -->
                                  <!-- <xsl:with-param name="selector_field" select="?" /> -->
                                  <!-- <xsl:with-param name="selector_value_eq" select="?" /> -->
                                  <!-- <xsl:with-param name="tagfield1" select="?" /> -->
                                  <!-- <xsl:with-param name="tagfield2" select="?" /> -->
                                  <!-- <xsl:with-param name="tagfield3" select="?" /> -->
                                  <!-- <xsl:with-param name="submit_tagfields" select="?" /> -->
                                  <!-- <xsl:with-param name="reentryfield" select="?" /> -->
                                  <!-- <xsl:with-param name="reentryvalue" select="?" /> -->
                                  <!-- <xsl:with-param name="hide_if" select="?" /> -->
                                  <!-- <xsl:with-param name="formname" select="?" /> -->
                                  <!-- <xsl:with-param name="pos_absolute" select="?" /> -->
                                  <!-- <xsl:with-param name="width_design" select="?" /> -->
                                  <!-- <xsl:with-param name="on_change_wamname" select="?" /> -->
                                  <!-- <xsl:with-param name="on_change_wrname" select="?" /> -->
                                  <!-- <xsl:with-param name="protocol" select="?" /> -->
                                  <!-- <xsl:with-param name="target_window_name" select="?" /> -->
                                  <!-- <xsl:with-param name="disabled" select="?" /> -->
                                  <!-- <xsl:with-param name="class" select="?" /> -->
                                  <!-- <xsl:with-param name="mouseover_class" select="?" /> -->
                                  <!-- <xsl:with-param name="tab_index" select="?" /> -->
                                  <!---->
                                  <!-- NOTE: Uncomment <xsl:with-param> tags above and replace "Replace_With_Field_Name" -->
                                  <!--       placeholders with the name of the field you wish to use for this Weblet. -->
                                  <!--       Refer to Field View pane for available fields. -->
                                  <!--       Also provide other parameter values, if any. -->
                                  <!---->
                               </xsl:call-template>
                            </td>
                         </tr>
                         <tr>
                            <td>
                               <xsl:call-template name="desc_lookup">
                                  <xsl:with-param name="name" select="'LBL_ORIGIN'"/>
                                  <!-- <xsl:with-param name="disable_output_escaping" select="?" /> -->
                                  <!-- <xsl:with-param name="lookup_list" select="?" /> -->
                               </xsl:call-template>
                            </td>
                            <td>
                               <xsl:call-template name="cust_dropdown">
                                  <xsl:with-param name="id" select="'W_PROORI'"/>
                                  <xsl:with-param name="presubmit_js" select="'showStorefrontInputs(this.value);return;'"/>
                                  <xsl:with-param name="captionfield" select="'LW3DDDSC'"/>
                                  <xsl:with-param name="codefield" select="'LW3PROORI'"/>
                                  <xsl:with-param name="listname" select="'PORIGLSTW'"/>
                                  <xsl:with-param name="value" select="key('field-value', 'W_PROORI')"/>
                                  <xsl:with-param name="name" select="'W_PROORI'"/>
                                  <!-- <xsl:with-param name="display_mode" select="?" /> -->
                                  <!-- <xsl:with-param name="items" select="?" /> -->
                                  <!-- <xsl:with-param name="selector_field" select="?" /> -->
                                  <!-- <xsl:with-param name="selector_value_eq" select="?" /> -->
                                  <!-- <xsl:with-param name="tagfield1" select="?" /> -->
                                  <!-- <xsl:with-param name="tagfield2" select="?" /> -->
                                  <!-- <xsl:with-param name="tagfield3" select="?" /> -->
                                  <!-- <xsl:with-param name="submit_tagfields" select="?" /> -->
                                  <!-- <xsl:with-param name="reentryfield" select="?" /> -->
                                  <!-- <xsl:with-param name="reentryvalue" select="?" /> -->
                                  <!-- <xsl:with-param name="hide_if" select="?" /> -->
                                  <!-- <xsl:with-param name="formname" select="?" /> -->
                                  <!-- <xsl:with-param name="pos_absolute" select="?" /> -->
                                  <!-- <xsl:with-param name="width_design" select="?" /> -->
                                  <!-- <xsl:with-param name="on_change_wamname" select="?" /> -->
                                  <!-- <xsl:with-param name="on_change_wrname" select="?" /> -->
                                  <!-- <xsl:with-param name="protocol" select="?" /> -->
                                  <!-- <xsl:with-param name="target_window_name" select="?" /> -->
                                  <!-- <xsl:with-param name="disabled" select="?" /> -->
                                  <!-- <xsl:with-param name="class" select="?" /> -->
                                  <!-- <xsl:with-param name="mouseover_class" select="?" /> -->
                                  <!-- <xsl:with-param name="tab_index" select="?" /> -->
                                  <!---->
                                  <!-- NOTE: Uncomment <xsl:with-param> tags above and replace "Replace_With_Field_Name" -->
                                  <!--       placeholders with the name of the field you wish to use for this Weblet. -->
                                  <!--       Refer to Field View pane for available fields. -->
                                  <!--       Also provide other parameter values, if any. -->
                                  <!---->
                               </xsl:call-template>
                            </td>
                         </tr>
                         <tr>
                            <td></td>
                            <td>
                               <xsl:call-template name="multi_button">
                                  <xsl:with-param name="presubmit_js" select="'if(!validatePromotionForm())return false;'"/>
                                  <xsl:with-param name="hide_if" select="key('field-value', 'LW3PROMID') = 0"/>
                                  <xsl:with-param name="on_click_wrname" select="'PROMMNT'"/>
                                  <xsl:with-param name="on_click_wamname" select="'WPROMMNT'"/>
                                  <xsl:with-param name="reentryvalue" select="'UPDATE'"/>
                                  <xsl:with-param name="reentryfield" select="'LW3PROMAC'"/>
                                  <xsl:with-param name="caption" select="key('desc-lookup', 'BTN_UPDATE_GENERAL_INFO')"/>
                                  <xsl:with-param name="name" select="concat('o', position(), '_LANSA_8150')"/>
                                  <!-- <xsl:with-param name="formname" select="?" /> -->
                                  <!-- <xsl:with-param name="pos_absolute_design" select="?" /> -->
                                  <!-- <xsl:with-param name="width_design" select="?" /> -->
                                  <!-- <xsl:with-param name="height_design" select="?" /> -->
                                  <!-- <xsl:with-param name="protocol" select="?" /> -->
                                  <!-- <xsl:with-param name="show_in_new_window" select="?" /> -->
                                  <!-- <xsl:with-param name="target_window_name" select="?" /> -->
                                  <!-- <xsl:with-param name="disabled" select="?" /> -->
                                  <!-- <xsl:with-param name="title" select="?" /> -->
                                  <!-- <xsl:with-param name="class" select="?" /> -->
                                  <!-- <xsl:with-param name="mouseover_class" select="?" /> -->
                                  <!-- <xsl:with-param name="tab_index" select="?" /> -->
                                  <!-- <xsl:with-param name="default_button" select="?" /> -->
                               </xsl:call-template>
                            </td>
                         </tr>
                      </tbody>
                   </table>
                   <!--here-->
                   <br/>
                   <xsl:call-template name="multi_button">
                      <xsl:with-param name="presubmit_js" select="'if(!validatePromotionForm())return false;'"/>
                      <xsl:with-param name="hide_if" select="key('field-value', 'LW3PROMID') != 0"/>
                      <xsl:with-param name="on_click_wrname" select="'PROMMNT'"/>
                      <xsl:with-param name="on_click_wamname" select="'WPROMMNT'"/>
                      <xsl:with-param name="reentryvalue" select="'ADD'"/>
                      <xsl:with-param name="reentryfield" select="'LW3PROMAC'"/>
                      <xsl:with-param name="caption" select="key('desc-lookup', 'BTN_ADD_PROMOTION')"/>
                      <xsl:with-param name="name" select="concat('o', position(), '_LANSA_20926')"/>
                      <!-- <xsl:with-param name="formname" select="?" /> -->
                      <!-- <xsl:with-param name="pos_absolute_design" select="?" /> -->
                      <!-- <xsl:with-param name="width_design" select="?" /> -->
                      <!-- <xsl:with-param name="height_design" select="?" /> -->
                      <!-- <xsl:with-param name="protocol" select="?" /> -->
                      <!-- <xsl:with-param name="show_in_new_window" select="?" /> -->
                      <!-- <xsl:with-param name="target_window_name" select="?" /> -->
                      <!-- <xsl:with-param name="disabled" select="?" /> -->
                      <!-- <xsl:with-param name="title" select="?" /> -->
                      <!-- <xsl:with-param name="class" select="?" /> -->
                      <!-- <xsl:with-param name="mouseover_class" select="?" /> -->
                      <!-- <xsl:with-param name="tab_index" select="?" /> -->
                      <!-- <xsl:with-param name="default_button" select="?" /> -->
                   </xsl:call-template>
                </fieldset>
                <xsl:if test="key('field-value', 'LW3PROMID') != 0 or $lweb_design_mode">
                   <br/>
                   <br/>
                   <br/>
                   <fieldset style="width: 100%; ">
                      <legend class="bold">
                         <xsl:call-template name="desc_lookup">
                            <xsl:with-param name="name" select="'LBL_DISCOUNT_CRITERIA'"/>
                         </xsl:call-template>
                      </legend>
                      <br/>
                      <table cellspacing="3" cellpadding="3">
                         <tbody>
                            <tr>
                               <td>
                                  <xsl:call-template name="desc_lookup">
                                     <xsl:with-param name="name" select="'LBL_LEVEL'"/>
                                     <!-- <xsl:with-param name="disable_output_escaping" select="?" /> -->
                                     <!-- <xsl:with-param name="lookup_list" select="?" /> -->
                                  </xsl:call-template>
                               </td>
                               <td>
                                  <xsl:call-template name="cust_dropdown">
                                     <xsl:with-param name="id" select="'W_RLEVEL'"/>
                                     <xsl:with-param name="value" select="key('field-value', 'W_RLEVEL')"/>
                                     <xsl:with-param name="presubmit_js" select="'showRequirementLevelInputs(this.value);return;'"/>
                                     <xsl:with-param name="captionfield" select="'LW3DDDSC'"/>
                                     <xsl:with-param name="codefield" select="'LW3RLEVEL'"/>
                                     <xsl:with-param name="listname" select="'PREQLLSTW'"/>
                                     <xsl:with-param name="name" select="'W_RLEVEL'"/>
                                     <!-- <xsl:with-param name="display_mode" select="?" /> -->
                                     <!-- <xsl:with-param name="items" select="?" /> -->
                                     <!-- <xsl:with-param name="selector_field" select="?" /> -->
                                     <!-- <xsl:with-param name="selector_value_eq" select="?" /> -->
                                     <!-- <xsl:with-param name="tagfield1" select="?" /> -->
                                     <!-- <xsl:with-param name="tagfield2" select="?" /> -->
                                     <!-- <xsl:with-param name="tagfield3" select="?" /> -->
                                     <!-- <xsl:with-param name="submit_tagfields" select="?" /> -->
                                     <!-- <xsl:with-param name="reentryfield" select="?" /> -->
                                     <!-- <xsl:with-param name="reentryvalue" select="?" /> -->
                                     <!-- <xsl:with-param name="hide_if" select="?" /> -->
                                     <!-- <xsl:with-param name="formname" select="?" /> -->
                                     <!-- <xsl:with-param name="pos_absolute" select="?" /> -->
                                     <!-- <xsl:with-param name="width_design" select="?" /> -->
                                     <!-- <xsl:with-param name="on_change_wamname" select="?" /> -->
                                     <!-- <xsl:with-param name="on_change_wrname" select="?" /> -->
                                     <!-- <xsl:with-param name="protocol" select="?" /> -->
                                     <!-- <xsl:with-param name="target_window_name" select="?" /> -->
                                     <!-- <xsl:with-param name="disabled" select="?" /> -->
                                     <!-- <xsl:with-param name="class" select="?" /> -->
                                     <!-- <xsl:with-param name="mouseover_class" select="?" /> -->
                                     <!-- <xsl:with-param name="tab_index" select="?" /> -->
                                     <!---->
                                     <!-- NOTE: Uncomment <xsl:with-param> tags above and replace "Replace_With_Field_Name" -->
                                     <!--       placeholders with the name of the field you wish to use for this Weblet. -->
                                     <!--       Refer to Field View pane for available fields. -->
                                     <!--       Also provide other parameter values, if any. -->
                                     <!---->
                                  </xsl:call-template>
                               </td>
                            </tr>
                            <tr>
                               <td colspan="4">
                                  <xsl:apply-templates select="/lxml:data/lxml:lists/lxml:list[@name='PRORLSTW']" wd:listname="PRORLSTW">
                                     <xsl:with-param name="allow_sort" select="true()"/>
                                     <xsl:with-param name="allow_col_resize" select="true()"/>
                                  </xsl:apply-templates>
                               </td>
                            </tr>
                         </tbody>
                      </table>
                      <table id="ORDER_TABLE" style="display: none;">
                         <tbody>
                            <tr>
                               <td>
                                  <xsl:call-template name="desc_lookup">
                                     <xsl:with-param name="name" select="'LBL_MIN_ORDER_AMOUNT'"/>
                                     <!-- <xsl:with-param name="disable_output_escaping" select="?" /> -->
                                     <!-- <xsl:with-param name="lookup_list" select="?" /> -->
                                  </xsl:call-template>
                               </td>
                               <td>
                                  <input onchange="return isValidNumber(this, '15', '2', '.')" class="number" maxlength="23" size="23" name="LW3MINAMT" value="{key('field-value', 'LW3MINAMT')}"/>
                               </td>
                            </tr>
                         </tbody>
                      </table>
                      <table id="ITEM_CATEGORY_TABLE" style="display: none;">
                         <tbody>
                            <tr>
                               <td>
                                  <xsl:call-template name="desc_lookup">
                                     <xsl:with-param name="name" select="'LBL_MIN_QUANTITY'"/>
                                     <!-- <xsl:with-param name="disable_output_escaping" select="?" /> -->
                                     <!-- <xsl:with-param name="lookup_list" select="?" /> -->
                                  </xsl:call-template>
                               </td>
                               <td>
                                  <input onchange="return isValidNumber(this, '15', '0', '.')" class="number" maxlength="23" size="23" name="LW3MINQTY" value="{key('field-value', 'LW3MINQTY')}"/>
                               </td>
                            </tr>
                            <tr id="ITEM_REQUIREMENT_LABEL" style="display: none;">
                               <td>
                                  <xsl:call-template name="desc_lookup">
                                     <xsl:with-param name="name" select="'LBL_ITEM_ID'"/>
                                     <!-- <xsl:with-param name="disable_output_escaping" select="?" /> -->
                                     <!-- <xsl:with-param name="lookup_list" select="?" /> -->
                                  </xsl:call-template>
                               </td>
                               <td>
                                  <!-- <input onblur="disSearch('1');" id="search1"
                                   class="number itemNumberValidationAJAX"
                                   onkeypress="disSearch('1');" onkeyup="disSearch('1');"
                                   name="W_IMLITM2" value="{W_IMLITM}" /> -->
                                  <!--input class="text" id="search1" name="W_IMLITM2"
                                   value="{key('field-value', 'W_IMLITM')}" /-->
                                  <xsl:call-template name="cust_dropdown">
                                     <!-- <xsl:with-param name="display_mode" select="?" /> -->
                                     <xsl:with-param name="id" select="'search1'"/>
                                     <xsl:with-param name="captionfield" select="'W_IMDSC1'"/>
                                     <xsl:with-param name="codefield" select="'LW3ITEMCD'"/>
                                     <xsl:with-param name="listname" select="'ITEMLSTW'"/>
                                     <xsl:with-param name="value" select="key('field-value', 'W_IMLITM3')"/>
                                     <xsl:with-param name="name" select="'W_IMLITM4'"/>
                                  </xsl:call-template>
                                  <xsl:if test="0">
                                     <input id="W_IMLITM2" class="number itemNumberValidationAJAX" name="W_IMLITM2" value="{key('field-value', 'W_IMLITM')}"/>
                                     <xsl:if test="key('field-value', 'DONOTSHOW') = 'Y'">
                                        <xsl:call-template name="cust_dropdown">
                                           <xsl:with-param name="captionfield" select="'W_IMDSC1'"/>
                                           <xsl:with-param name="codefield" select="'LW3ITEMCD'"/>
                                           <xsl:with-param name="listname" select="'ITEMLSTW'"/>
                                           <xsl:with-param name="value" select="key('field-value', 'W_IMLITM')"/>
                                           <xsl:with-param name="name" select="'W_IMLITM'"/>
                                           <!-- <xsl:with-param name="display_mode" select="?" /> -->
                                           <!-- <xsl:with-param name="items" select="?" /> -->
                                           <!-- <xsl:with-param name="selector_field" select="?" /> -->
                                           <!-- <xsl:with-param name="selector_value_eq" select="?" /> -->
                                           <!-- <xsl:with-param name="tagfield1" select="?" /> -->
                                           <!-- <xsl:with-param name="tagfield2" select="?" /> -->
                                           <!-- <xsl:with-param name="tagfield3" select="?" /> -->
                                           <!-- <xsl:with-param name="submit_tagfields" select="?" /> -->
                                           <!-- <xsl:with-param name="reentryfield" select="?" /> -->
                                           <!-- <xsl:with-param name="reentryvalue" select="?" /> -->
                                           <!-- <xsl:with-param name="hide_if" select="?" /> -->
                                           <!-- <xsl:with-param name="formname" select="?" /> -->
                                           <!-- <xsl:with-param name="pos_absolute" select="?" /> -->
                                           <!-- <xsl:with-param name="width_design" select="?" /> -->
                                           <!-- <xsl:with-param name="on_change_wamname" select="?" /> -->
                                           <!-- <xsl:with-param name="on_change_wrname" select="?" /> -->
                                           <!-- <xsl:with-param name="protocol" select="?" /> -->
                                           <!-- <xsl:with-param name="target_window_name" select="?" /> -->
                                           <!-- <xsl:with-param name="disabled" select="?" /> -->
                                           <!-- <xsl:with-param name="class" select="?" /> -->
                                           <!-- <xsl:with-param name="mouseover_class" select="?" /> -->
                                           <!-- <xsl:with-param name="tab_index" select="?" /> -->
                                           <!---->
                                           <!-- NOTE: Uncomment <xsl:with-param> tags above and replace "Replace_With_Field_Name" -->
                                           <!--       placeholders with the name of the field you wish to use for this Weblet. -->
                                           <!--       Refer to Field View pane for available fields. -->
                                           <!--       Also provide other parameter values, if any. -->
                                           <!---->
                                        </xsl:call-template>
                                     </xsl:if>
                                  </xsl:if>
                               </td>
                            </tr>
                            <tr id="CATEGORY_REQUIREMENT_LABEL" style="display: none;">
                               <td>
                                  <xsl:call-template name="desc_lookup">
                                     <xsl:with-param name="name" select="'LBL_CATEGORY'"/>
                                     <!-- <xsl:with-param name="disable_output_escaping" select="?" /> -->
                                     <!-- <xsl:with-param name="lookup_list" select="?" /> -->
                                  </xsl:call-template>
                               </td>
                               <td>
                                  <xsl:call-template name="cust_dropdown">
                                     <xsl:with-param name="value" select="key('field-value', 'W_CATID')"/>
                                     <xsl:with-param name="captionfield" select="'LW3CATNAM'"/>
                                     <xsl:with-param name="codefield" select="'LW3CATID'"/>
                                     <xsl:with-param name="listname" select="'CATEGLSTW'"/>
                                     <xsl:with-param name="name" select="'W_CATID'"/>
                                     <!-- <xsl:with-param name="display_mode" select="?" /> -->
                                     <!-- <xsl:with-param name="items" select="?" /> -->
                                     <!-- <xsl:with-param name="selector_field" select="?" /> -->
                                     <!-- <xsl:with-param name="selector_value_eq" select="?" /> -->
                                     <!-- <xsl:with-param name="tagfield1" select="?" /> -->
                                     <!-- <xsl:with-param name="tagfield2" select="?" /> -->
                                     <!-- <xsl:with-param name="tagfield3" select="?" /> -->
                                     <!-- <xsl:with-param name="submit_tagfields" select="?" /> -->
                                     <!-- <xsl:with-param name="reentryfield" select="?" /> -->
                                     <!-- <xsl:with-param name="reentryvalue" select="?" /> -->
                                     <!-- <xsl:with-param name="hide_if" select="?" /> -->
                                     <!-- <xsl:with-param name="formname" select="?" /> -->
                                     <!-- <xsl:with-param name="pos_absolute" select="?" /> -->
                                     <!-- <xsl:with-param name="width_design" select="?" /> -->
                                     <!-- <xsl:with-param name="on_change_wamname" select="?" /> -->
                                     <!-- <xsl:with-param name="on_change_wrname" select="?" /> -->
                                     <!-- <xsl:with-param name="protocol" select="?" /> -->
                                     <!-- <xsl:with-param name="target_window_name" select="?" /> -->
                                     <!-- <xsl:with-param name="disabled" select="?" /> -->
                                     <!-- <xsl:with-param name="class" select="?" /> -->
                                     <!-- <xsl:with-param name="mouseover_class" select="?" /> -->
                                     <!-- <xsl:with-param name="tab_index" select="?" /> -->
                                     <!---->
                                     <!-- NOTE: Uncomment <xsl:with-param> tags above and replace "Replace_With_Field_Name" -->
                                     <!--       placeholders with the name of the field you wish to use for this Weblet. -->
                                     <!--       Refer to Field View pane for available fields. -->
                                     <!--       Also provide other parameter values, if any. -->
                                     <!---->
                                  </xsl:call-template>
                               </td>
                            </tr>
                         </tbody>
                      </table>
                      <table id="USER_TABLE" style="display: none;">
                         <tbody valign="bottom">
                            <tr>
                               <td>
                                  <xsl:call-template name="desc_lookup">
                                     <xsl:with-param name="name" select="'LBL_MIN_AMOUNT_SPENT'"/>
                                     <!-- <xsl:with-param name="disable_output_escaping" select="?" /> -->
                                     <!-- <xsl:with-param name="lookup_list" select="?" /> -->
                                  </xsl:call-template>
                               </td>
                               <td valign="bottom">
                                  <table>
                                     <tbody>
                                        <tr>
                                           <td nowrap="-1">
                                              <input onchange="return isValidNumber(this, '15', '2', '.')" class="number" maxlength="23" size="23" name="W_MINAMT2" value="{key('field-value', 'W_MINAMT2')}"/> </td>
                                           <td style="width: 225px;" nowrap="-1">
                                              <xsl:call-template name="desc_lookup">
                                                 <xsl:with-param name="name" select="'LBL_FOR_THE_PAST'"/>
                                                 <!-- <xsl:with-param name="disable_output_escaping" select="?" /> -->
                                                 <!-- <xsl:with-param name="lookup_list" select="?" /> -->
                                              </xsl:call-template>
                                              <input onclick="showRequirementLevelU('D');" type="radio" name="DDTYP" value="D">
                                                 <xsl:if test="key('field-value', 'DDTYP') = 'D'">
                                                    <xsl:attribute name="checked">true</xsl:attribute>
                                                 </xsl:if>
                                              </input>
                                              <xsl:call-template name="desc_lookup">
                                                 <xsl:with-param name="name" select="'LBL_DAYS'"/>
                                                 <!-- <xsl:with-param name="disable_output_escaping" select="?" /> -->
                                                 <!-- <xsl:with-param name="lookup_list" select="?" /> -->
                                              </xsl:call-template>  <input onclick="showRequirementLevelU('M');" type="radio" name="DDTYP" value="M">
                                                 <xsl:if test="key('field-value', 'DDTYP') = 'M'">
                                                    <xsl:attribute name="checked">true</xsl:attribute>
                                                 </xsl:if>
                                              </input>
                                              <xsl:call-template name="desc_lookup">
                                                 <xsl:with-param name="name" select="'LBL_MONTHS'"/>
                                                 <!-- <xsl:with-param name="disable_output_escaping" select="?" /> -->
                                                 <!-- <xsl:with-param name="lookup_list" select="?" /> -->
                                              </xsl:call-template>
                                           </td>
                                           <td valign="bottom">
                                              <span id="divshowmonth">
                                                 <table>
                                                    <tbody valign="bottom">
                                                       <tr>
                                                          <td>
                                                             <input onchange="return isValidNumber(this, '3', '0', '.')" class="number" maxlength="7" size="7" name="LW3NUMMTH" value="{key('field-value', 'LW3NUMMTH')}"/>
                                                          </td>
                                                       </tr>
                                                    </tbody>
                                                 </table>
                                              </span>
                                              <span id="divshowday">
                                                 <table>
                                                    <tbody>
                                                       <tr>
                                                          <td>
                                                             <input onchange="return isValidNumber(this, '3', '0', '.')" class="number" maxlength="7" size="7" name="LW3NUMDAY" value="{key('field-value', 'LW3NUMDAY')}"/>
                                                          </td>
                                                       </tr>
                                                    </tbody>
                                                 </table>
                                              </span>
                                           </td>
                                        </tr>
                                     </tbody>
                                  </table>
                               </td>
                            </tr>
                            <tr>
                               <td>
                                  <xsl:call-template name="desc_lookup">
                                     <xsl:with-param name="name" select="'LBL_MIN_QUANTITY'"/>
                                     <!-- <xsl:with-param name="disable_output_escaping" select="?" /> -->
                                     <!-- <xsl:with-param name="lookup_list" select="?" /> -->
                                  </xsl:call-template>
                               </td>
                               <td> <input onchange="return isValidNumber(this, '15', '0', '.')" class="number" maxlength="23" size="23" name="W_MINQTY" value="{key('field-value', 'W_MINQTY')}"/>
                               </td>
                               <td style="width: 364px;"></td>
                            </tr>
                            <tr>
                               <td>
                                  <xsl:call-template name="desc_lookup">
                                     <xsl:with-param name="name" select="'LBL_SELECT'"/>
                                     <!-- <xsl:with-param name="disable_output_escaping" select="?" /> -->
                                     <!-- <xsl:with-param name="lookup_list" select="?" /> -->
                                  </xsl:call-template>
                               </td>
                               <td>
                                  <table>
                                     <tbody>
                                        <tr>
                                           <td>
                                              <input onclick="showItemorCat('I');" type="radio" name="DITYP" value="I">
                                                 <xsl:if test="key('field-value', 'DITYP') = 'I'">
                                                    <xsl:attribute name="checked">true</xsl:attribute>
                                                 </xsl:if>
                                              </input>
                                              <xsl:call-template name="desc_lookup">
                                                 <xsl:with-param name="name" select="'LBL_ITEM_OR'"/>
                                                 <!-- <xsl:with-param name="disable_output_escaping" select="?" /> -->
                                                 <!-- <xsl:with-param name="lookup_list" select="?" /> -->
                                              </xsl:call-template> <input onclick="showItemorCat('C');" type="radio" name="DITYP" value="C">
                                                 <xsl:if test="key('field-value', 'DITYP') = 'C'">
                                                    <xsl:attribute name="checked">true</xsl:attribute>
                                                 </xsl:if>
                                              </input>
                                              <xsl:call-template name="desc_lookup">
                                                 <xsl:with-param name="name" select="'LBL_CATEGORY'"/>
                                                 <!-- <xsl:with-param name="disable_output_escaping" select="?" /> -->
                                                 <!-- <xsl:with-param name="lookup_list" select="?" /> -->
                                              </xsl:call-template>
                                           </td>
                                           <td style="width: 364px;">
                                              <span id="divshowitem">
                                                 <table>
                                                    <tbody valign="bottom">
                                                       <tr>
                                                          <td>
                                                             <xsl:call-template name="cust_dropdown">
                                                                <xsl:with-param name="id" select="'search2'"/>
                                                                <xsl:with-param name="captionfield" select="'W_IMDSC1'"/>
                                                                <xsl:with-param name="codefield" select="'LW3ITEMCD'"/>
                                                                <xsl:with-param name="listname" select="'ITEMLSTW'"/>
                                                                <xsl:with-param name="value" select="key('field-value', 'W_IMLITM3')"/>
                                                                <xsl:with-param name="name" select="'W_IMLITM3'"/>
                                                             </xsl:call-template>
                                                          </td>
                                                       </tr>
                                                    </tbody>
                                                 </table>
                                              </span>
                                              <span id="divshowcat">
                                                 <table>
                                                    <tbody>
                                                       <tr>
                                                          <td>
                                                             <xsl:call-template name="cust_dropdown">
                                                                <xsl:with-param name="captionfield" select="'LW3CATNAM'"/>
                                                                <xsl:with-param name="codefield" select="'LW3CATID'"/>
                                                                <xsl:with-param name="listname" select="'CATEGLSTW'"/>
                                                                <xsl:with-param name="value" select="key('field-value', 'W_CATID3')"/>
                                                                <xsl:with-param name="name" select="'W_CATID3'"/>
                                                                <!-- <xsl:with-param name="display_mode" select="?" /> -->
                                                                <!-- <xsl:with-param name="items" select="?" /> -->
                                                                <!-- <xsl:with-param name="selector_field" select="?" /> -->
                                                                <!-- <xsl:with-param name="selector_value_eq" select="?" /> -->
                                                                <!-- <xsl:with-param name="tagfield1" select="?" /> -->
                                                                <!-- <xsl:with-param name="tagfield2" select="?" /> -->
                                                                <!-- <xsl:with-param name="tagfield3" select="?" /> -->
                                                                <!-- <xsl:with-param name="submit_tagfields" select="?" /> -->
                                                                <!-- <xsl:with-param name="reentryfield" select="?" /> -->
                                                                <!-- <xsl:with-param name="reentryvalue" select="?" /> -->
                                                                <!-- <xsl:with-param name="hide_if" select="?" /> -->
                                                                <!-- <xsl:with-param name="formname" select="?" /> -->
                                                                <!-- <xsl:with-param name="pos_absolute" select="?" /> -->
                                                                <!-- <xsl:with-param name="width_design" select="?" /> -->
                                                                <!-- <xsl:with-param name="on_change_wamname" select="?" /> -->
                                                                <!-- <xsl:with-param name="on_change_wrname" select="?" /> -->
                                                                <!-- <xsl:with-param name="protocol" select="?" /> -->
                                                                <!-- <xsl:with-param name="target_window_name" select="?" /> -->
                                                                <!-- <xsl:with-param name="disabled" select="?" /> -->
                                                                <!-- <xsl:with-param name="class" select="?" /> -->
                                                                <!-- <xsl:with-param name="mouseover_class" select="?" /> -->
                                                                <!-- <xsl:with-param name="tab_index" select="?" /> -->
                                                                <!---->
                                                                <!-- NOTE: Uncomment <xsl:with-param> tags above and replace "Replace_With_Field_Name" -->
                                                                <!--       placeholders with the name of the field you wish to use for this Weblet. -->
                                                                <!--       Refer to Field View pane for available fields. -->
                                                                <!--       Also provide other parameter values, if any. -->
                                                                <!---->
                                                             </xsl:call-template>
                                                          </td>
                                                       </tr>
                                                    </tbody>
                                                 </table>
                                              </span>
                                           </td>
                                        </tr>
                                     </tbody>
                                  </table>
                               </td>
                               <td valign="bottom"></td>
                            </tr>
                         </tbody>
                      </table>
                      <table id="PRODUCT_TYPE_TABLE" style="display: none;">
                         <tbody>
                            <tr>
                               <td>
                                  <xsl:value-of select="key('desc-lookup', 'LBL_PRODUCT_TYPE')"/>
                               </td>
                               <td>
                                  <xsl:call-template name="cust_dropdown">
                                     <xsl:with-param name="id" select="'W_OLNTYP'"/>
                                     <xsl:with-param name="captionfield" select="'W_PRDTPD'"/>
                                     <xsl:with-param name="codefield" select="'W_PRDTPC'"/>
                                     <xsl:with-param name="listname" select="'LS_PRODUCTTYPES'"/>
                                     <xsl:with-param name="value" select="key('field-value', 'W_OLNTYP')"/>
                                     <xsl:with-param name="name" select="'W_OLNTYP'"/>
                                  </xsl:call-template>
                               </td>
                            </tr>
                            <tr>
                               <td>
                                  <xsl:value-of select="key('desc-lookup', 'LBL_UOM')"/>
                               </td>
                               <td>
                                  <xsl:call-template name="cust_dropdown">
                                     <xsl:with-param name="id" select="'W_UOM'"/>
                                     <xsl:with-param name="captionfield" select="'W_UOMCOD'"/>
                                     <xsl:with-param name="codefield" select="'W_UOMDSC'"/>
                                     <xsl:with-param name="listname" select="'LS_UOM'"/>
                                     <xsl:with-param name="value" select="key('field-value', 'W_UOM')"/>
                                     <xsl:with-param name="name" select="'W_UOM'"/>
                                  </xsl:call-template>
                               </td>
                            </tr>
                            <tr>
                               <td>
                                  <xsl:value-of select="key('desc-lookup', 'LBL_VALUES')"/>
                               </td>
                               <td>
                                  <table>
                                     <tbody>
                                        <tr>
                                           <td>
                                              <xsl:value-of select="key('desc-lookup', 'LBL_MIN')"/>
                                           </td>
                                           <td>
                                              <input id="W_MINVAL" name="W_MINVAL" value="{key('field-value', 'W_MINVAL')}" type="text"/>
                                           </td>
                                           <td>
                                              <xsl:value-of select="key('desc-lookup', 'LBL_MAX')"/>
                                           </td>
                                           <td>
                                              <input id="W_MAXVAL" name="W_MAXVAL" value="{key('field-value', 'W_MAXVAL')}" type="text"/>
                                           </td>
                                        </tr>
                                     </tbody>
                                  </table>
                               </td>
                            </tr>
                         </tbody>
                      </table>
                      <br/>
                      <table>
                         <tbody>
                            <tr>
                               <td>
                                  <xsl:call-template name="multi_button">
                                     <xsl:with-param name="caption" select="key('desc-lookup', 'BTN_ADD_REQUIREMENT')"/>
                                     <xsl:with-param name="presubmit_js" select="'return addPromotionRequirement();'"/>
                                     <xsl:with-param name="name" select="concat('o', position(), '_LANSA_4329')"/>
                                     <!-- <xsl:with-param name="currentrowhfield" select="?" /> -->
                                     <!-- <xsl:with-param name="currentrownumval" select="?" /> -->
                                     <!-- <xsl:with-param name="reentryfield" select="?" /> -->
                                     <!-- <xsl:with-param name="reentryvalue" select="?" /> -->
                                     <!-- <xsl:with-param name="hide_if" select="?" /> -->
                                     <!-- <xsl:with-param name="formname" select="?" /> -->
                                     <!-- <xsl:with-param name="url" select="?" /> -->
                                     <!-- <xsl:with-param name="on_click_wamname" select="?" /> -->
                                     <!-- <xsl:with-param name="on_click_wrname" select="?" /> -->
                                     <!-- <xsl:with-param name="protocol" select="?" /> -->
                                     <!-- <xsl:with-param name="show_in_new_window" select="?" /> -->
                                     <!-- <xsl:with-param name="target_window_name" select="?" /> -->
                                     <!-- <xsl:with-param name="class" select="?" /> -->
                                     <!-- <xsl:with-param name="moclass" select="?" /> -->
                                     <!-- <xsl:with-param name="padding" select="?" /> -->
                                     <!-- <xsl:with-param name="disabled" select="?" /> -->
                                     <!-- <xsl:with-param name="hide_focus" select="?" /> -->
                                     <!-- <xsl:with-param name="tab_index" select="?" /> -->
                                     <!-- <xsl:with-param name="inline" select="?" /> -->
                                  </xsl:call-template>
                               </td>
                            </tr>
                         </tbody>
                      </table>
                      <br/>
                   </fieldset>
                   <br/>
                   <br/>
                   <br/>
                   <fieldset style="width: 100%; ">
                      <legend class="bold">
                         <xsl:call-template name="desc_lookup">
                            <xsl:with-param name="name" select="'LBL_DISCOUNT_APPLIES'"/>
                         </xsl:call-template>
                      </legend>
                      <br/>
                      <xsl:apply-templates select="/lxml:data/lxml:lists/lxml:list[@name='PRODLSTW']" wd:listname="PRODLSTW">
                         <xsl:with-param name="allow_sort" select="true()"/>
                         <xsl:with-param name="allow_col_resize" select="true()"/>
                      </xsl:apply-templates>
                      <table cellspacing="3" cellpadding="3">
                         <tbody>
                            <tr>
                               <td>
                                  <xsl:call-template name="desc_lookup">
                                     <xsl:with-param name="name" select="'LBL_DISCOUNT_ON'"/>
                                     <!-- <xsl:with-param name="disable_output_escaping" select="?" /> -->
                                     <!-- <xsl:with-param name="lookup_list" select="?" /> -->
                                  </xsl:call-template>
                               </td>
                               <td>
                                  <xsl:call-template name="cust_dropdown">
                                     <xsl:with-param name="id" select="'W_DTYPE'"/>
                                     <xsl:with-param name="value" select="key('field-value', 'W_DTYPE')"/>
                                     <xsl:with-param name="presubmit_js" select="'showDiscountTypeInputs(this.value);return;'"/>
                                     <xsl:with-param name="captionfield" select="'LW3DDDSC'"/>
                                     <xsl:with-param name="codefield" select="'LW3DTYPE'"/>
                                     <xsl:with-param name="listname" select="'PDISCLSTW'"/>
                                     <xsl:with-param name="name" select="'W_DTYPE'"/>
                                     <!-- <xsl:with-param name="display_mode" select="?" /> -->
                                     <!-- <xsl:with-param name="items" select="?" /> -->
                                     <!-- <xsl:with-param name="selector_field" select="?" /> -->
                                     <!-- <xsl:with-param name="selector_value_eq" select="?" /> -->
                                     <!-- <xsl:with-param name="tagfield1" select="?" /> -->
                                     <!-- <xsl:with-param name="tagfield2" select="?" /> -->
                                     <!-- <xsl:with-param name="tagfield3" select="?" /> -->
                                     <!-- <xsl:with-param name="submit_tagfields" select="?" /> -->
                                     <!-- <xsl:with-param name="reentryfield" select="?" /> -->
                                     <!-- <xsl:with-param name="reentryvalue" select="?" /> -->
                                     <!-- <xsl:with-param name="hide_if" select="?" /> -->
                                     <!-- <xsl:with-param name="formname" select="?" /> -->
                                     <!-- <xsl:with-param name="pos_absolute" select="?" /> -->
                                     <!-- <xsl:with-param name="width_design" select="?" /> -->
                                     <!-- <xsl:with-param name="on_change_wamname" select="?" /> -->
                                     <!-- <xsl:with-param name="on_change_wrname" select="?" /> -->
                                     <!-- <xsl:with-param name="protocol" select="?" /> -->
                                     <!-- <xsl:with-param name="target_window_name" select="?" /> -->
                                     <!-- <xsl:with-param name="disabled" select="?" /> -->
                                     <!-- <xsl:with-param name="class" select="?" /> -->
                                     <!-- <xsl:with-param name="mouseover_class" select="?" /> -->
                                     <!-- <xsl:with-param name="tab_index" select="?" /> -->
                                     <!---->
                                     <!-- NOTE: Uncomment <xsl:with-param> tags above and replace "Replace_With_Field_Name" -->
                                     <!--       placeholders with the name of the field you wish to use for this Weblet. -->
                                     <!--       Refer to Field View pane for available fields. -->
                                     <!--       Also provide other parameter values, if any. -->
                                     <!---->
                                  </xsl:call-template>
                               </td>
                            </tr>
                            <tr id="DISCOUNT_SHIPPING" style="display:none">
                               <td>
                                  <xsl:call-template name="desc_lookup">
                                     <xsl:with-param name="name" select="'LBL_SHIPPING'"/>
                                     <!-- <xsl:with-param name="disable_output_escaping" select="?" /> -->
                                     <!-- <xsl:with-param name="lookup_list" select="?" /> -->
                                  </xsl:call-template>
                               </td>
                               <td>
                                  <xsl:call-template name="cust_dropdown">
                                     <xsl:with-param name="captionfield" select="'LW3SSHPDS'"/>
                                     <xsl:with-param name="codefield" select="'LW3SSHPTP'"/>
                                     <xsl:with-param name="listname" select="'SHIPLSTW'"/>
                                     <xsl:with-param name="value" select="key('field-value', 'W_SSHPTP')"/>
                                     <xsl:with-param name="name" select="'W_SSHPTP'"/>
                                     <!-- <xsl:with-param name="display_mode" select="?" /> -->
                                     <!-- <xsl:with-param name="items" select="?" /> -->
                                     <!-- <xsl:with-param name="selector_field" select="?" /> -->
                                     <!-- <xsl:with-param name="selector_value_eq" select="?" /> -->
                                     <!-- <xsl:with-param name="tagfield1" select="?" /> -->
                                     <!-- <xsl:with-param name="tagfield2" select="?" /> -->
                                     <!-- <xsl:with-param name="tagfield3" select="?" /> -->
                                     <!-- <xsl:with-param name="submit_tagfields" select="?" /> -->
                                     <!-- <xsl:with-param name="reentryfield" select="?" /> -->
                                     <!-- <xsl:with-param name="reentryvalue" select="?" /> -->
                                     <!-- <xsl:with-param name="hide_if" select="?" /> -->
                                     <!-- <xsl:with-param name="formname" select="?" /> -->
                                     <!-- <xsl:with-param name="pos_absolute" select="?" /> -->
                                     <!-- <xsl:with-param name="width_design" select="?" /> -->
                                     <!-- <xsl:with-param name="on_change_wamname" select="?" /> -->
                                     <!-- <xsl:with-param name="on_change_wrname" select="?" /> -->
                                     <!-- <xsl:with-param name="protocol" select="?" /> -->
                                     <!-- <xsl:with-param name="target_window_name" select="?" /> -->
                                     <!-- <xsl:with-param name="disabled" select="?" /> -->
                                     <!-- <xsl:with-param name="class" select="?" /> -->
                                     <!-- <xsl:with-param name="mouseover_class" select="?" /> -->
                                     <!-- <xsl:with-param name="tab_index" select="?" /> -->
                                     <!---->
                                     <!-- NOTE: Uncomment <xsl:with-param> tags above and replace "Replace_With_Field_Name" -->
                                     <!--       placeholders with the name of the field you wish to use for this Weblet. -->
                                     <!--       Refer to Field View pane for available fields. -->
                                     <!--       Also provide other parameter values, if any. -->
                                     <!---->
                                  </xsl:call-template>
                               </td>
                            </tr>
                            <tr id="DISCOUNT_ITEM" style="display: none">
                               <td>
                                  <xsl:call-template name="desc_lookup">
                                     <xsl:with-param name="name" select="'LBL_ITEM'"/>
                                     <!-- <xsl:with-param name="disable_output_escaping" select="?" /> -->
                                     <!-- <xsl:with-param name="lookup_list" select="?" /> -->
                                  </xsl:call-template>
                               </td>
                               <td>
                                  <!--input class="number" id="W_IMLITM2_discount"
                                   value="{W_IMLITM}" /-->
                                  <xsl:call-template name="cust_dropdown">
                                     <!-- <xsl:with-param name="hide_if"
                                                                 select="key('field-value', 'W_IMLITM') = ''" /> -->
                                     <xsl:with-param name="class" select="'utext'"/>
                                     <xsl:with-param name="display_mode" select="'input'"/>
                                     <xsl:with-param name="id" select="'W_IMLITM2_discount'"/>
                                     <xsl:with-param name="captionfield" select="'W_IMDSC1'"/>
                                     <xsl:with-param name="codefield" select="'LW3ITEMCD'"/>
                                     <xsl:with-param name="listname" select="'ITEMLSTW'"/>
                                     <xsl:with-param name="value" select="key('field-value', 'W_IMLITM')"/>
                                     <xsl:with-param name="name" select="'W_IMLITM'"/>
                                  </xsl:call-template>
                                  <input type="hidden" name="W_IMLITM" value="{key('field-value', 'W_IMLITM')}"/>
                                  <xsl:if test="key('field-value', 'DONOTSHOW') = 'Y'">
                                     <xsl:call-template name="cust_dropdown">
                                        <xsl:with-param name="captionfield" select="'W_IMDSC1'"/>
                                        <xsl:with-param name="codefield" select="'LW3ITEMCD'"/>
                                        <xsl:with-param name="listname" select="'ITEMLSTW'"/>
                                        <xsl:with-param name="value" select="key('field-value', 'W_IMLITM2')"/>
                                        <xsl:with-param name="name" select="'W_IMLITM2'"/>
                                        <!-- <xsl:with-param name="display_mode" select="?" /> -->
                                        <!-- <xsl:with-param name="items" select="?" /> -->
                                        <!-- <xsl:with-param name="selector_field" select="?" /> -->
                                        <!-- <xsl:with-param name="selector_value_eq" select="?" /> -->
                                        <!-- <xsl:with-param name="tagfield1" select="?" /> -->
                                        <!-- <xsl:with-param name="tagfield2" select="?" /> -->
                                        <!-- <xsl:with-param name="tagfield3" select="?" /> -->
                                        <!-- <xsl:with-param name="submit_tagfields" select="?" /> -->
                                        <!-- <xsl:with-param name="reentryfield" select="?" /> -->
                                        <!-- <xsl:with-param name="reentryvalue" select="?" /> -->
                                        <!-- <xsl:with-param name="hide_if" select="?" /> -->
                                        <!-- <xsl:with-param name="formname" select="?" /> -->
                                        <!-- <xsl:with-param name="pos_absolute" select="?" /> -->
                                        <!-- <xsl:with-param name="width_design" select="?" /> -->
                                        <!-- <xsl:with-param name="on_change_wamname" select="?" /> -->
                                        <!-- <xsl:with-param name="on_change_wrname" select="?" /> -->
                                        <!-- <xsl:with-param name="protocol" select="?" /> -->
                                        <!-- <xsl:with-param name="target_window_name" select="?" /> -->
                                        <!-- <xsl:with-param name="disabled" select="?" /> -->
                                        <!-- <xsl:with-param name="class" select="?" /> -->
                                        <!-- <xsl:with-param name="mouseover_class" select="?" /> -->
                                        <!-- <xsl:with-param name="tab_index" select="?" /> -->
                                        <!---->
                                        <!-- NOTE: Uncomment <xsl:with-param> tags above and replace "Replace_With_Field_Name" -->
                                        <!--       placeholders with the name of the field you wish to use for this Weblet. -->
                                        <!--       Refer to Field View pane for available fields. -->
                                        <!--       Also provide other parameter values, if any. -->
                                        <!---->
                                     </xsl:call-template>
                                  </xsl:if>
                                  <xsl:if test="1 = 2 or $lweb_design_mode">
                                     <xsl:call-template name="multi_button">
                                        <xsl:with-param name="presubmit_js" select="'openItemPopup();return false;'"/>
                                        <!-- <xsl:with-param name="on_click_wrname" select="?" /> -->
                                        <!-- <xsl:with-param name="on_click_wamname" select="?" /> -->
                                        <xsl:with-param name="reentryvalue" select="''"/>
                                        <xsl:with-param name="caption" select="key('desc-lookup', 'BTN_ADD_ITEMS')"/>
                                        <xsl:with-param name="name" select="concat('o', position(), '_LANSA_31553')"/>
                                        <!-- <xsl:with-param name="currentrowhfield" select="?" /> -->
                                        <!-- <xsl:with-param name="currentrownumval" select="?" /> -->
                                        <!-- <xsl:with-param name="reentryfield" select="?" /> -->
                                        <!-- <xsl:with-param name="hide_if" select="?" /> -->
                                        <!-- <xsl:with-param name="formname" select="?" /> -->
                                        <!-- <xsl:with-param name="url" select="?" /> -->
                                        <!-- <xsl:with-param name="protocol" select="?" /> -->
                                        <!-- <xsl:with-param name="show_in_new_window" select="?" /> -->
                                        <!-- <xsl:with-param name="target_window_name" select="?" /> -->
                                        <!-- <xsl:with-param name="class" select="?" /> -->
                                        <!-- <xsl:with-param name="moclass" select="?" /> -->
                                        <!-- <xsl:with-param name="padding" select="?" /> -->
                                        <!-- <xsl:with-param name="disabled" select="?" /> -->
                                        <!-- <xsl:with-param name="hide_focus" select="?" /> -->
                                        <!-- <xsl:with-param name="tab_index" select="?" /> -->
                                        <!-- <xsl:with-param name="inline" select="?" /> -->
                                     </xsl:call-template>
                                  </xsl:if>
                               </td>
                            </tr>
                            <tr id="DISCOUNT_CATEGORY" style="display: none">
                               <td>
                                  <xsl:call-template name="desc_lookup">
                                     <xsl:with-param name="name" select="'LBL_ITEM_CATEGORY'"/>
                                     <!-- <xsl:with-param name="disable_output_escaping" select="?" /> -->
                                     <!-- <xsl:with-param name="lookup_list" select="?" /> -->
                                  </xsl:call-template>
                               </td>
                               <td>
                                  <xsl:call-template name="cust_dropdown">
                                     <xsl:with-param name="value" select="key('field-value', 'W_CATID2')"/>
                                     <xsl:with-param name="captionfield" select="'LW3CATNAM'"/>
                                     <xsl:with-param name="codefield" select="'LW3CATID'"/>
                                     <xsl:with-param name="listname" select="'CATEGLSTW'"/>
                                     <xsl:with-param name="name" select="'W_CATID2'"/>
                                     <!-- <xsl:with-param name="display_mode" select="?" /> -->
                                     <!-- <xsl:with-param name="items" select="?" /> -->
                                     <!-- <xsl:with-param name="selector_field" select="?" /> -->
                                     <!-- <xsl:with-param name="selector_value_eq" select="?" /> -->
                                     <!-- <xsl:with-param name="tagfield1" select="?" /> -->
                                     <!-- <xsl:with-param name="tagfield2" select="?" /> -->
                                     <!-- <xsl:with-param name="tagfield3" select="?" /> -->
                                     <!-- <xsl:with-param name="submit_tagfields" select="?" /> -->
                                     <!-- <xsl:with-param name="reentryfield" select="?" /> -->
                                     <!-- <xsl:with-param name="reentryvalue" select="?" /> -->
                                     <!-- <xsl:with-param name="hide_if" select="?" /> -->
                                     <!-- <xsl:with-param name="formname" select="?" /> -->
                                     <!-- <xsl:with-param name="pos_absolute" select="?" /> -->
                                     <!-- <xsl:with-param name="width_design" select="?" /> -->
                                     <!-- <xsl:with-param name="on_change_wamname" select="?" /> -->
                                     <!-- <xsl:with-param name="on_change_wrname" select="?" /> -->
                                     <!-- <xsl:with-param name="protocol" select="?" /> -->
                                     <!-- <xsl:with-param name="target_window_name" select="?" /> -->
                                     <!-- <xsl:with-param name="disabled" select="?" /> -->
                                     <!-- <xsl:with-param name="class" select="?" /> -->
                                     <!-- <xsl:with-param name="mouseover_class" select="?" /> -->
                                     <!-- <xsl:with-param name="tab_index" select="?" /> -->
                                     <!---->
                                     <!-- NOTE: Uncomment <xsl:with-param> tags above and replace "Replace_With_Field_Name" -->
                                     <!--       placeholders with the name of the field you wish to use for this Weblet. -->
                                     <!--       Refer to Field View pane for available fields. -->
                                     <!--       Also provide other parameter values, if any. -->
                                     <!---->
                                  </xsl:call-template>
                               </td>
                            </tr>
                            <tr>
                               <td>
                                  <xsl:call-template name="desc_lookup">
                                     <xsl:with-param name="name" select="'LBL_SELECT_DISCOUNT'"/>
                                     <!-- <xsl:with-param name="disable_output_escaping" select="?" /> -->
                                     <!-- <xsl:with-param name="lookup_list" select="?" /> -->
                                  </xsl:call-template>
                               </td>
                               <td>
                                  <table>
                                     <tbody>
                                        <tr>
                                           <td>
                                              <input onclick="showpord('P');" type="radio" name="DSTYP" value="P">
                                                 <xsl:if test="key('field-value', 'DSTYP') = 'P'">
                                                    <xsl:attribute name="checked">true</xsl:attribute>
                                                 </xsl:if>
                                              </input>
                                              <xsl:call-template name="desc_lookup">
                                                 <xsl:with-param name="name" select="'LBL_PERCENT'"/>
                                                 <!-- <xsl:with-param name="disable_output_escaping" select="?" /> -->
                                                 <!-- <xsl:with-param name="lookup_list" select="?" /> -->
                                              </xsl:call-template>  <input onclick="showpord('D');" type="radio" name="DSTYP" value="D">
                                                 <xsl:if test="key('field-value', 'DSTYP') = 'D'">
                                                    <xsl:attribute name="checked">true</xsl:attribute>
                                                 </xsl:if>
                                              </input>
                                              <xsl:call-template name="desc_lookup">
                                                 <xsl:with-param name="name" select="'LBL_DOLLAR'"/>
                                                 <!-- <xsl:with-param name="disable_output_escaping" select="?" /> -->
                                                 <!-- <xsl:with-param name="lookup_list" select="?" /> -->
                                              </xsl:call-template>   <span id="DISCOUNT_FREE_GIFT" style="display: none">
                                                 <input onclick="showpord('F');" type="radio" name="DSTYP" value="F">
                                                    <xsl:if test="key('field-value', 'DSTYP') = 'F'">
                                                       <xsl:attribute name="checked">true</xsl:attribute>
                                                    </xsl:if>
                                                 </input>
                                                 <xsl:call-template name="desc_lookup">
                                                    <xsl:with-param name="name" select="'LBL_FREE_GIFT'"/>
                                                    <!-- <xsl:with-param name="disable_output_escaping" select="?" /> -->
                                                    <!-- <xsl:with-param name="lookup_list" select="?" /> -->
                                                 </xsl:call-template>
                                              </span>   </td>
                                           <td valign="bottom">
                                              <span id="divshowp">
                                                 <table>
                                                    <tbody valign="bottom">
                                                       <tr>
                                                          <td>
                                                             <input onchange="return isValidNumber(this, '5', '2', '.')" class="number" maxlength="10" size="10" name="LW3PCTDIS" value="{key('field-value', 'LW3PCTDIS')}"/>
                                                          </td>
                                                       </tr>
                                                    </tbody>
                                                 </table>
                                              </span>
                                              <span id="divshowd">
                                                 <table>
                                                    <tbody>
                                                       <tr>
                                                          <td>
                                                             <input onchange="return isValidNumber(this, '15', '2', '.')" class="number" maxlength="23" size="23" name="LW3DOLDIS" value="{key('field-value', 'LW3DOLDIS')}"/>
                                                          </td>
                                                       </tr>
                                                    </tbody>
                                                 </table>
                                              </span>
                                           </td>
                                        </tr>
                                     </tbody>
                                  </table>
                               </td>
                            </tr>
                            <tr id="DISCOUNT_QUANTITY" style="display: none">
                               <td>
                                  <xsl:call-template name="desc_lookup">
                                     <xsl:with-param name="name" select="'LBL_QUANTITY_TO_APPLY'"/>
                                     <!-- <xsl:with-param name="disable_output_escaping" select="?" /> -->
                                     <!-- <xsl:with-param name="lookup_list" select="?" /> -->
                                  </xsl:call-template>
                               </td>
                               <td>
                                  <input onchange="return isValidNumber(this, '15', '0', '.')" class="number" maxlength="23" size="23" name="LW3QTY" value="{key('field-value', 'LW3QTY')}"/>
                                  <xsl:call-template name="desc_lookup">
                                     <xsl:with-param name="name" select="'LBL_TO_HERE'"/>
                                     <!-- <xsl:with-param name="disable_output_escaping" select="?" /> -->
                                     <!-- <xsl:with-param name="lookup_list" select="?" /> -->
                                  </xsl:call-template>
                               </td>
                            </tr>
                            <!--tr id="DISCOUNT_FREE_GIFT"
                                               style="display: none">
                                              <td>&#160;</td>
                                              <td>
                                                 <xsl:call-template name="std_checkbox">
                                                    <xsl:with-param name="value"
                                                                    select="key('field-value', 'LW3FREGFT')" />
                                                    <xsl:with-param name="caption"
                                                                    select="'This is a free gift'" />
                                                    <xsl:with-param name="name"
                                                                    select="'LW3FREGFT'" />
                                                                                       </xsl:call-template>
                                              </td>
                                           </tr-->
                         </tbody>
                      </table>
                      <br/>
                      <table>
                         <tbody>
                            <tr>
                               <td>
                                  <xsl:call-template name="multi_button">
                                     <xsl:with-param name="caption" select="key('desc-lookup', 'BTN_ADD_DISCOUNT')"/>
                                     <xsl:with-param name="presubmit_js" select="'return addPromotionDiscount();'"/>
                                     <xsl:with-param name="name" select="concat('o', position(), '_LANSA_29574')"/>
                                     <!-- <xsl:with-param name="currentrowhfield" select="?" /> -->
                                     <!-- <xsl:with-param name="currentrownumval" select="?" /> -->
                                     <!-- <xsl:with-param name="reentryfield" select="?" /> -->
                                     <!-- <xsl:with-param name="reentryvalue" select="?" /> -->
                                     <!-- <xsl:with-param name="hide_if" select="?" /> -->
                                     <!-- <xsl:with-param name="formname" select="?" /> -->
                                     <!-- <xsl:with-param name="url" select="?" /> -->
                                     <!-- <xsl:with-param name="on_click_wamname" select="?" /> -->
                                     <!-- <xsl:with-param name="on_click_wrname" select="?" /> -->
                                     <!-- <xsl:with-param name="protocol" select="?" /> -->
                                     <!-- <xsl:with-param name="show_in_new_window" select="?" /> -->
                                     <!-- <xsl:with-param name="target_window_name" select="?" /> -->
                                     <!-- <xsl:with-param name="class" select="?" /> -->
                                     <!-- <xsl:with-param name="moclass" select="?" /> -->
                                     <!-- <xsl:with-param name="padding" select="?" /> -->
                                     <!-- <xsl:with-param name="disabled" select="?" /> -->
                                     <!-- <xsl:with-param name="hide_focus" select="?" /> -->
                                     <!-- <xsl:with-param name="tab_index" select="?" /> -->
                                     <!-- <xsl:with-param name="inline" select="?" /> -->
                                  </xsl:call-template>
                               </td>
                            </tr>
                         </tbody>
                      </table>
                      <br/>
                   </fieldset>
                </xsl:if>
                <br/>
                <xsl:call-template name="multi_button">
                   <!-- <xsl:with-param name="reentryvalue" select="?" /> -->
                   <!-- <xsl:with-param name="reentryfield" select="?" /> -->
                   <xsl:with-param name="presubmit_js" select="'if(!validatePromotionForm())return false;'"/>
                   <xsl:with-param name="hide_if" select="key('field-value', 'LW3PROMID') = 0"/>
                   <xsl:with-param name="on_click_wrname" select="'PROMLST'"/>
                   <xsl:with-param name="on_click_wamname" select="'WPROMMNT'"/>
                   <xsl:with-param name="caption" select="key('desc-lookup', 'BTN_BACK_TO_PM')"/>
                   <xsl:with-param name="name" select="concat('o', position(), '_LANSA_31827')"/>
                   <!-- <xsl:with-param name="formname" select="?" /> -->
                   <!-- <xsl:with-param name="pos_absolute_design" select="?" /> -->
                   <!-- <xsl:with-param name="width_design" select="?" /> -->
                   <!-- <xsl:with-param name="height_design" select="?" /> -->
                   <!-- <xsl:with-param name="protocol" select="?" /> -->
                   <!-- <xsl:with-param name="show_in_new_window" select="?" /> -->
                   <!-- <xsl:with-param name="target_window_name" select="?" /> -->
                   <!-- <xsl:with-param name="disabled" select="?" /> -->
                   <!-- <xsl:with-param name="title" select="?" /> -->
                   <!-- <xsl:with-param name="class" select="?" /> -->
                   <!-- <xsl:with-param name="mouseover_class" select="?" /> -->
                   <!-- <xsl:with-param name="tab_index" select="?" /> -->
                   <!-- <xsl:with-param name="default_button" select="?" /> -->
                </xsl:call-template>
                <br/>
                <!--
                                     <script type="text/javascript">
                showRequirementLevelInputs(document.LANSA.W_RLEVEL.value);
                showDiscountTypeInputs(document.LANSA.W_DTYPE.value);
                showPromotionCode(document.LANSA.W_PROAAP.value);
                showStorefrontInputs(document.LANSA.W_PROORI.value);
                showRequirementLevelU(document.LANSA.DDTYP.value);
                showItemorCat(document.LANSA.DITYP.value);
                showpord(document.LANSA.DSTYP.value);
                                     </script>
          -->
             </xsl:template>
             <xsl:template match="/lxml:data/lxml:lists/lxml:list[@name='PRORLSTW']">
                <xsl:param name="allow_sort" select="true()" wd:tip_id="" wd:type="std:boolean"/>
                <xsl:param name="allow_col_resize" select="true()" wd:tip_id="" wd:type="std:boolean"/>
                <xsl:variable name="thelist" select="/lxml:data/lxml:lists/lxml:list[@name='PRORLSTW']"/>
                <!--  <script language="javascript">
                   <xsl:text disable-output-escaping="yes">//&lt;![CDATA[</xsl:text>
                      function init_stdGrid_PRORLSTW() {
                      var g = register_std_grid('PRORLSTW',7);
                      g.allowSort = <xsl:value-of select="$allow_sort" />;
                      g.allowColResize = <xsl:value-of select="$allow_col_resize" />;
                      var col = 0;
                      var ss = document.styleSheets[0];
                      var gid = '.std_grid#PRORLSTW ';
                      
                      }
                      init_stdGrid_PRORLSTW();
                      <xsl:text disable-output-escaping="yes">//]]&gt;</xsl:text>
                </script> -->
                <input type="hidden" name="PRORLSTW.." value="{count(lxml:list-entries/lxml:entry[1])}"/>
                <span id="requirements_desc"></span>
                <xsl:call-template name="desc_lookup">
                   <xsl:with-param name="name" select="'TXT_RECEIVE_DISCOUNT'"/>
                   <!-- <xsl:with-param name="disable_output_escaping" select="?" /> -->
                   <!-- <xsl:with-param name="lookup_list" select="?" /> -->
                </xsl:call-template>
                <br/>
                <table id="PRORLSTW">
                   <thead>
                      <tr class="list-h">
                         <th></th>
                         <th></th>
                         <th></th>
                         <th></th>
                         <th></th>
                         <th></th>
                         <th></th>
                         <th></th>
                         <th></th>
                         <th></th>
                         <th colspan="2">
                            <xsl:call-template name="desc_lookup">
                               <xsl:with-param name="disable_output_escaping" select="true()"/>
                               <xsl:with-param name="name" select="'COL_BUYING_PATTERN'"/>
                               <!-- <xsl:with-param name="lookup_list" select="?" /> -->
                            </xsl:call-template>
                         </th>
                      </tr>
                      <tr class="list-h">
                         <th></th>
                         <th>
                            <xsl:call-template name="desc_lookup">
                               <xsl:with-param name="disable_output_escaping" select="true()"/>
                               <xsl:with-param name="name" select="'COL_TYPE'"/>
                               <!-- <xsl:with-param name="lookup_list" select="?" /> -->
                            </xsl:call-template>
                         </th>
                         <th>
                            <xsl:call-template name="desc_lookup">
                               <xsl:with-param name="disable_output_escaping" select="true()"/>
                               <xsl:with-param name="name" select="'COL_MINIMUM_AMOUNT'"/>
                               <!-- <xsl:with-param name="lookup_list" select="?" /> -->
                            </xsl:call-template>
                         </th>
                         <th>
                            <xsl:call-template name="desc_lookup">
                               <xsl:with-param name="disable_output_escaping" select="true()"/>
                               <xsl:with-param name="name" select="'COL_ITEM'"/>
                               <!-- <xsl:with-param name="lookup_list" select="?" /> -->
                            </xsl:call-template>
                         </th>
                         <th>
                            <xsl:call-template name="desc_lookup">
                               <xsl:with-param name="disable_output_escaping" select="true()"/>
                               <xsl:with-param name="name" select="'COL_CATEGORY'"/>
                               <!-- <xsl:with-param name="lookup_list" select="?" /> -->
                            </xsl:call-template>
                         </th>
                         <th>
                            <xsl:value-of select="key('desc-lookup', 'COL_PRODUCT_TYPE')"/>
                         </th>
                         <th>
                            <xsl:value-of select="key('desc-lookup', 'COL_UOM')"/>
                         </th>
                         <th>
                            <xsl:value-of select="key('desc-lookup', 'COL_MIN_VALUE')"/>
                         </th>
                         <th>
                            <xsl:value-of select="key('desc-lookup', 'COL_MAX_VALUE')"/>
                         </th>
                         <th>
                            <xsl:call-template name="desc_lookup">
                               <xsl:with-param name="disable_output_escaping" select="true()"/>
                               <xsl:with-param name="name" select="'COL_MINIMUM_QUANTITY'"/>
                               <!-- <xsl:with-param name="lookup_list" select="?" /> -->
                            </xsl:call-template>
                         </th>
                         <th>
                            <xsl:call-template name="desc_lookup">
                               <xsl:with-param name="disable_output_escaping" select="true()"/>
                               <xsl:with-param name="name" select="'COL_PREVIOUS_N_DAYS'"/>
                               <!-- <xsl:with-param name="lookup_list" select="?" /> -->
                            </xsl:call-template>
                         </th>
                         <th>
                            <xsl:call-template name="desc_lookup">
                               <xsl:with-param name="disable_output_escaping" select="true()"/>
                               <xsl:with-param name="name" select="'COL_PREVIOUS_N_MONTHS'"/>
                               <!-- <xsl:with-param name="lookup_list" select="?" /> -->
                            </xsl:call-template>
                         </th>
                      </tr>
                   </thead>
                   <tbody>
                      <xsl:for-each select="$thelist/lxml:list-entries/lxml:entry">
                         <xsl:variable name="W_RLEVEL" select="lxml:column[1]"/>
                         <xsl:variable name="LW3SFID" select="lxml:column[2]"/>
                         <xsl:variable name="LW3PROMID" select="lxml:column[3]"/>
                         <xsl:variable name="LW3MINAMT" select="lxml:column[4]"/>
                         <xsl:variable name="LW3ITEMCD" select="lxml:column[5]"/>
                         <xsl:variable name="LW3CATID" select="lxml:column[6]"/>
                         <xsl:variable name="LW3MINQTY" select="lxml:column[7]"/>
                         <xsl:variable name="LW3NUMDAY" select="lxml:column[8]"/>
                         <xsl:variable name="LW3NUMMTH" select="lxml:column[9]"/>
                         <xsl:variable name="W_ADDFLG" select="lxml:column[10]"/>
                         <xsl:variable name="W_ROWNUM" select="lxml:column[11]"/>
                         <xsl:variable name="LW3SEQ" select="lxml:column[12]"/>
                         <xsl:variable name="LW3IDESC" select="lxml:column[13]"/>
                         <xsl:variable name="LW3CATNAM" select="lxml:column[14]"/>
                         <xsl:variable name="W_RLVLDSC" select="lxml:column[15]"/>
                         <xsl:variable name="LW3OLNTYP" select="lxml:column[@name='LW3OLNTYP']"/>
                         <xsl:variable name="LW3UM" select="lxml:column[@name='LW3UM']"/>
                         <xsl:variable name="LW3PMNVAL" select="lxml:column[@name='LW3PMNVAL']"/>
                         <xsl:variable name="LW3PMXVAL" select="lxml:column[@name='LW3PMXVAL']"/>
                         <tr id="PRORLSTW_row{$W_ROWNUM}" __evenrc="list-e" __oddrc="list-o">
                            <xsl:attribute name="class">
                                  list-o
                               </xsl:attribute>
                            <td class="W_RLEVEL">
                               <xsl:attribute name="__cellValue">
                                  <xsl:value-of select="$W_RLEVEL"/>
                               </xsl:attribute>
                               <input type="hidden" name="{$W_RLEVEL/@id}" value="{$W_RLEVEL}"/>
                               <input type="hidden" name="{$LW3SEQ/@id}" value="{$LW3SEQ}"/>
                               <input type="hidden" name="{$W_ADDFLG/@id}" value="{$W_ADDFLG}"/>
                               <input type="hidden" name="{$W_ROWNUM/@id}" value="{$W_ROWNUM}"/>
                               <input type="hidden" name="{$LW3PROMID/@id}" value="{$LW3PROMID}"/>
                               <a onclick="removeEntry2('{$W_ROWNUM}')" style="text-decoration :underline">
                                  <xsl:call-template name="desc_lookup">
                                     <xsl:with-param name="name" select="'LNK_REMOVE'"/>
                                     <!-- <xsl:with-param name="disable_output_escaping" select="?" /> -->
                                     <!-- <xsl:with-param name="lookup_list" select="?" /> -->
                                  </xsl:call-template>
                               </a>
                               <div class="hidden">
                                  <xsl:value-of select="$W_RLEVEL"/>
                               </div>
                            </td>
                            <td>
                               <xsl:value-of select="$W_RLVLDSC"/>
                               <!--
                               <xsl:if test="$W_RLEVEL = 'U'">Buying Pattern</xsl:if>
                               <xsl:if test="$W_RLEVEL = 'O'">Order</xsl:if>
                               <xsl:if test="$W_RLEVEL = 'I'">Item</xsl:if>
                               <xsl:if test="$W_RLEVEL = 'C'">Item Category</xsl:if>
          -->
                            </td>
                            <td class="LW3MINAMT">
                               <xsl:attribute name="__cellValue">
                                  <xsl:value-of select="$LW3MINAMT"/>
                               </xsl:attribute>
                               <xsl:if test="lxml:column[@name='LW3MINAMT'] != 0">
                                  <input type="hidden" name="{$LW3MINAMT/@id}" value="{$LW3MINAMT}"/>
                                  <xsl:value-of select="$LW3MINAMT"/>
                               </xsl:if>
                            </td>
                            <td class="LW3ITEMCD" nowrap="-1">
                               <input type="hidden" name="{$LW3ITEMCD/@id}" value="{$LW3ITEMCD}"/>
                               <xsl:value-of select="$LW3ITEMCD"/>
                               <xsl:value-of select="$LW3IDESC"/>
                            </td>
                            <td class="LW3CATID">
                               <xsl:attribute name="__cellValue">
                                  <xsl:value-of select="$LW3CATID"/>
                               </xsl:attribute>
                               <xsl:if test="lxml:column[@name='LW3CATID'] != 0">
                                  <input type="hidden" name="{$LW3CATID/@id}" value="{$LW3CATID}"/>
                                  <xsl:value-of select="$LW3CATID"/>
                                  <xsl:value-of select="$LW3CATNAM"/>
                               </xsl:if>
                            </td>
                            <td>
                               <xsl:attribute name="__cellValue">
                                  <xsl:value-of select="$LW3OLNTYP"/>
                               </xsl:attribute>
                               <xsl:if test="lxml:column[@name='LW3OLNTYP'] != ''">
                                  <input type="hidden" name="{$LW3OLNTYP/@id}" value="{$LW3OLNTYP}"/>
                                  <xsl:value-of select="$LW3OLNTYP"/>
                               </xsl:if>
                            </td>
                            <td>
                               <xsl:attribute name="__cellValue">
                                  <xsl:value-of select="$LW3UM"/>
                               </xsl:attribute>
                               <xsl:if test="lxml:column[@name='LW3UM'] != ''">
                                  <input type="hidden" name="{$LW3UM/@id}" value="{$LW3UM}"/>
                                  <xsl:value-of select="$LW3UM"/>
                               </xsl:if>
                            </td>
                            <td>
                               <xsl:attribute name="__cellValue">
                                  <xsl:value-of select="$LW3PMNVAL"/>
                               </xsl:attribute>
                               <xsl:if test="lxml:column[@name='LW3PMNVAL'] != ''">
                                  <input type="hidden" name="{$LW3PMNVAL/@id}" value="{$LW3PMNVAL}"/>
                                  <xsl:value-of select="$LW3PMNVAL"/>
                               </xsl:if>
                            </td>
                            <td>
                               <xsl:attribute name="__cellValue">
                                  <xsl:value-of select="$LW3PMXVAL"/>
                               </xsl:attribute>
                               <xsl:if test="lxml:column[@name='LW3PMXVAL'] != ''">
                                  <input type="hidden" name="{$LW3PMXVAL/@id}" value="{$LW3PMXVAL}"/>
                                  <xsl:value-of select="$LW3PMXVAL"/>
                               </xsl:if>
                            </td>
                            <td class="LW3MINQTY">
                               <xsl:attribute name="__cellValue">
                                  <xsl:value-of select="$LW3MINQTY"/>
                               </xsl:attribute>
                               <xsl:if test="lxml:column[@name='LW3MINQTY'] != 0">
                                  <input type="hidden" name="{$LW3MINQTY/@id}" value="{$LW3MINQTY}"/>
                                  <xsl:value-of select="$LW3MINQTY"/>
                               </xsl:if>
                            </td>
                            <td class="LW3NUMDAY">
                               <xsl:attribute name="__cellValue">
                                  <xsl:value-of select="$LW3NUMDAY"/>
                               </xsl:attribute>
                               <xsl:if test="lxml:column[@name='LW3NUMDAY'] != 0">
                                  <input type="hidden" name="{$LW3NUMDAY/@id}" value="{$LW3NUMDAY}"/>
                                  <xsl:value-of select="$LW3NUMDAY"/>
                               </xsl:if>
                            </td>
                            <td class="LW3NUMMTH">
                               <xsl:attribute name="__cellValue">
                                  <xsl:value-of select="$LW3NUMMTH"/>
                               </xsl:attribute>
                               <xsl:if test="lxml:column[@name='LW3NUMMTH'] != 0">
                                  <input type="hidden" name="{$LW3NUMMTH/@id}" value="{$LW3NUMMTH}"/>
                                  <xsl:value-of select="$LW3NUMMTH"/>
                               </xsl:if>
                            </td>
                         </tr>
                      </xsl:for-each>
                   </tbody>
                </table>
             </xsl:template>
             <xsl:template match="/lxml:data/lxml:lists/lxml:list[@name='PRODLSTW']">
                <xsl:param name="allow_sort" select="true()" wd:tip_id="" wd:type="std:boolean"/>
                <xsl:param name="allow_col_resize" select="true()" wd:tip_id="" wd:type="std:boolean"/>
                <xsl:variable name="thelist" select="/lxml:data/lxml:lists/lxml:list[@name='PRODLSTW']"/>
                <!-- <script language="javascript">
                   <xsl:text disable-output-escaping="yes">//&lt;![CDATA[</xsl:text>
                      function init_stdGrid_PRODLSTW() {
                      var g = register_std_grid('PRODLSTW',10);
                      g.allowSort = <xsl:value-of select="$allow_sort" />;
                      g.allowColResize = <xsl:value-of select="$allow_col_resize" />;
                      var col = 0;
                      var ss = document.styleSheets[0];
                      var gid = '.std_grid#PRODLSTW ';
                      
                      }
                      init_stdGrid_PRODLSTW();
                      <xsl:text disable-output-escaping="yes">//]]&gt;</xsl:text>
                </script> -->
                <input type="hidden" name="PRODLSTW.." value="{count(lxml:list-entries/lxml:entry[1])}"/>
                <xsl:call-template name="desc_lookup">
                   <xsl:with-param name="name" select="'TXT_DISCOUNTS_APPLIED'"/>
                   <!-- <xsl:with-param name="disable_output_escaping" select="?" /> -->
                   <!-- <xsl:with-param name="lookup_list" select="?" /> -->
                </xsl:call-template>
                <xsl:if test="/lxml:data/lxml:context[@design]">
                   <xsl:attribute name="class">std_grid_wrapper_designtime</xsl:attribute>
                </xsl:if>
                <table id="PRODLSTW">
                   <thead>
                      <tr class="list-h">
                         <th class="utext W_DTYPE std_grid_sort_indicator" __allowsort="true" __mode="input" __formattype="alpha" __decimalseparator="">
                            <div class="std_grid_cell_sizer">
                               <xsl:if test="boolean(/lxml:data/lxml:context[@design])">
                                  <xsl:attribute name="class">hidden__</xsl:attribute>
                               </xsl:if>
                               <xsl:comment>
                               </xsl:comment>
                            </div>
                         </th>
                         <th>
                            <xsl:call-template name="desc_lookup">
                               <xsl:with-param name="disable_output_escaping" select="true()"/>
                               <xsl:with-param name="name" select="'COL_TYPE'"/>
                               <!-- <xsl:with-param name="lookup_list" select="?" /> -->
                            </xsl:call-template>
                         </th>
                         <th class="number LW3PCTDIS std_grid_sort_indicator" __allowsort="true" __mode="input" __formattype="signed" __decimalseparator=".">
                            <div class="std_grid_cell_sizer">
                               <xsl:if test="boolean(/lxml:data/lxml:context[@design])">
                                  <xsl:attribute name="class">hidden__</xsl:attribute>
                               </xsl:if>
                               <xsl:comment>
                               </xsl:comment>
                            </div>
                            <xsl:call-template name="desc_lookup">
                               <xsl:with-param name="disable_output_escaping" select="true()"/>
                               <xsl:with-param name="name" select="'COL_P_DISCOUNT'"/>
                               <!-- <xsl:with-param name="lookup_list" select="?" /> -->
                            </xsl:call-template>
                         </th>
                         <th class="number LW3DOLDIS std_grid_sort_indicator" __allowsort="true" __mode="input" __formattype="signed" __decimalseparator=".">
                            <div class="std_grid_cell_sizer">
                               <xsl:if test="boolean(/lxml:data/lxml:context[@design])">
                                  <xsl:attribute name="class">hidden__</xsl:attribute>
                               </xsl:if>
                               <xsl:comment>
                               </xsl:comment>
                            </div>
                            <xsl:call-template name="desc_lookup">
                               <xsl:with-param name="disable_output_escaping" select="true()"/>
                               <xsl:with-param name="name" select="'COL_D_DISCOUNT'"/>
                               <!-- <xsl:with-param name="lookup_list" select="?" /> -->
                            </xsl:call-template>
                         </th>
                         <th class="utext LW3ITEMCD std_grid_sort_indicator" __allowsort="true" __mode="input" __formattype="alpha" __decimalseparator="">
                            <div class="std_grid_cell_sizer">
                               <xsl:if test="boolean(/lxml:data/lxml:context[@design])">
                                  <xsl:attribute name="class">hidden__</xsl:attribute>
                               </xsl:if>
                               <xsl:comment>
                               </xsl:comment>
                            </div>
                            <xsl:call-template name="desc_lookup">
                               <xsl:with-param name="disable_output_escaping" select="true()"/>
                               <xsl:with-param name="name" select="'COL_ITEM_N'"/>
                               <!-- <xsl:with-param name="lookup_list" select="?" /> -->
                            </xsl:call-template>
                         </th>
                         <th class="number LW3CATID std_grid_sort_indicator" __allowsort="true" __mode="input" __formattype="packed" __decimalseparator=".">
                            <div class="std_grid_cell_sizer">
                               <xsl:if test="boolean(/lxml:data/lxml:context[@design])">
                                  <xsl:attribute name="class">hidden__</xsl:attribute>
                               </xsl:if>
                               <xsl:comment>
                               </xsl:comment>
                            </div>
                            <xsl:call-template name="desc_lookup">
                               <xsl:with-param name="disable_output_escaping" select="true()"/>
                               <xsl:with-param name="name" select="'COL_CATEGORY'"/>
                               <!-- <xsl:with-param name="lookup_list" select="?" /> -->
                            </xsl:call-template>
                         </th>
                         <th class="number LW3QTY std_grid_sort_indicator" __allowsort="true" __mode="input" __formattype="signed" __decimalseparator=".">
                            <div class="std_grid_cell_sizer">
                               <xsl:if test="boolean(/lxml:data/lxml:context[@design])">
                                  <xsl:attribute name="class">hidden__</xsl:attribute>
                               </xsl:if>
                               <xsl:comment>
                               </xsl:comment>
                            </div>
                            <xsl:call-template name="desc_lookup">
                               <xsl:with-param name="disable_output_escaping" select="true()"/>
                               <xsl:with-param name="name" select="'COL_QUANTITY'"/>
                               <!-- <xsl:with-param name="lookup_list" select="?" /> -->
                            </xsl:call-template>
                         </th>
                         <th class="utext LW3FREGFT std_grid_sort_indicator" __allowsort="true" __mode="input" __formattype="alpha" __decimalseparator="">
                            <div class="std_grid_cell_sizer">
                               <xsl:if test="boolean(/lxml:data/lxml:context[@design])">
                                  <xsl:attribute name="class">hidden__</xsl:attribute>
                               </xsl:if>
                               <xsl:comment>
                               </xsl:comment>
                            </div>
                            <xsl:call-template name="desc_lookup">
                               <xsl:with-param name="disable_output_escaping" select="true()"/>
                               <xsl:with-param name="name" select="'COL_FREE_GIFT'"/>
                               <!-- <xsl:with-param name="lookup_list" select="?" /> -->
                            </xsl:call-template>
                         </th>
                         <th class="utext LW3SSHPTP std_grid_sort_indicator" __allowsort="true" __mode="input" __formattype="alpha" __decimalseparator="">
                            <div class="std_grid_cell_sizer">
                               <xsl:if test="boolean(/lxml:data/lxml:context[@design])">
                                  <xsl:attribute name="class">hidden__</xsl:attribute>
                               </xsl:if>
                               <xsl:comment>
                               </xsl:comment>
                            </div>
                            <xsl:call-template name="desc_lookup">
                               <xsl:with-param name="disable_output_escaping" select="true()"/>
                               <xsl:with-param name="name" select="'COL_SHIPPING'"/>
                               <!-- <xsl:with-param name="lookup_list" select="?" /> -->
                            </xsl:call-template>
                         </th>
                      </tr>
                   </thead>
                   <tbody>
                      <xsl:for-each select="$thelist/lxml:list-entries/lxml:entry">
                         <xsl:variable name="W_DTYPE" select="lxml:column[1]"/>
                         <xsl:variable name="LW3SFID" select="lxml:column[2]"/>
                         <xsl:variable name="LW3PROMID" select="lxml:column[3]"/>
                         <xsl:variable name="LW3PCTDIS" select="lxml:column[4]"/>
                         <xsl:variable name="LW3DOLDIS" select="lxml:column[5]"/>
                         <xsl:variable name="LW3ITEMCD" select="lxml:column[6]"/>
                         <xsl:variable name="LW3CATID" select="lxml:column[7]"/>
                         <xsl:variable name="LW3QTY" select="lxml:column[8]"/>
                         <xsl:variable name="LW3FREGFT" select="lxml:column[9]"/>
                         <xsl:variable name="LW3SSHPTP" select="lxml:column[10]"/>
                         <xsl:variable name="W_ADDFLG" select="lxml:column[11]"/>
                         <xsl:variable name="W_ROWNUM" select="lxml:column[12]"/>
                         <xsl:variable name="LW3SEQ" select="lxml:column[13]"/>
                         <xsl:variable name="LW3IDESC" select="lxml:column[14]"/>
                         <xsl:variable name="LW3CATNAM" select="lxml:column[15]"/>
                         <xsl:variable name="W_DTYPDSC" select="lxml:column[16]"/>
                         <tr id="PRODLSTW_row{$W_ROWNUM}" __evenrc="list-e" __oddrc="list-o">
                            <xsl:attribute name="class">
                                  list-o
                               </xsl:attribute>
                            <td class="W_DTYPE">
                               <xsl:attribute name="__cellValue">
                                  <xsl:value-of select="$W_DTYPE"/>
                               </xsl:attribute>
                               <input type="hidden" name="{$W_DTYPE/@id}" value="{$W_DTYPE}"/>
                               <input type="hidden" name="{$W_ADDFLG/@id}" value="{$W_ADDFLG}"/>
                               <input type="hidden" name="{$W_ROWNUM/@id}" value="{$W_ROWNUM}"/>
                               <input type="hidden" name="{$LW3PROMID/@id}" value="{$LW3PROMID}"/>
                               <input type="hidden" name="{$LW3SEQ/@id}" value="{$LW3SEQ}"/>
                               <a onclick="removeDetailEntry2('{$W_ROWNUM}')" style="text-decoration :underline">
                                  <xsl:call-template name="desc_lookup">
                                     <xsl:with-param name="name" select="'LNK_REMOVE'"/>
                                     <!-- <xsl:with-param name="disable_output_escaping" select="?" /> -->
                                     <!-- <xsl:with-param name="lookup_list" select="?" /> -->
                                  </xsl:call-template>
                               </a>
                               <div class="hidden">
                                  <xsl:value-of select="$W_DTYPE"/>
                               </div>
                            </td>
                            <td>
                               <xsl:value-of select="$W_DTYPDSC"/>
                               <!--
                            <xsl:if test="$W_DTYPE = 'S'">Shipping</xsl:if>
                               <xsl:if test="$W_DTYPE = 'O'">Order</xsl:if>
                               <xsl:if test="$W_DTYPE = 'I'">Item</xsl:if>
                               <xsl:if test="$W_DTYPE = 'C'">Item Category</xsl:if>
          -->
                            </td>
                            <td class="LW3PCTDIS">
                               <xsl:attribute name="__cellValue">
                                  <xsl:value-of select="$LW3PCTDIS"/>
                               </xsl:attribute>
                               <xsl:if test="lxml:column[@name='LW3PCTDIS'] != 0">
                                  <input type="hidden" name="{$LW3PCTDIS/@id}" value="{$LW3PCTDIS}"/>
                                  <xsl:value-of select="$LW3PCTDIS"/>
                               </xsl:if>
                            </td>
                            <td class="LW3DOLDIS">
                               <xsl:attribute name="__cellValue">
                                  <xsl:value-of select="$LW3DOLDIS"/>
                               </xsl:attribute>
                               <xsl:if test="lxml:column[@name='LW3DOLDIS'] != 0">
                                  <input type="hidden" name="{$LW3DOLDIS/@id}" value="{$LW3DOLDIS}"/>
                                  <xsl:value-of select="$LW3DOLDIS"/>
                               </xsl:if>
                            </td>
                            <td class="LW3ITEMCD" nowrap="-1">
                               <xsl:attribute name="__cellValue">
                                  <xsl:value-of select="$LW3ITEMCD"/>
                               </xsl:attribute>
                               <input type="hidden" name="{$LW3ITEMCD/@id}" value="{$LW3ITEMCD}"/>
                               <xsl:value-of select="$LW3ITEMCD"/>
                               <xsl:if test="($LW3ITEMCD != '') and ($LW3IDESC != '')">
                                  <xsl:text disable-output-escaping="yes"> - </xsl:text>
                               </xsl:if>
                               <xsl:value-of select="$LW3IDESC"/>
                            </td>
                            <td class="LW3CATID">
                               <xsl:attribute name="__cellValue">
                                  <xsl:value-of select="$LW3CATID"/>
                               </xsl:attribute>
                               <xsl:if test="lxml:column[@name='LW3CATID'] != 0">
                                  <input type="hidden" name="{$LW3CATID/@id}" value="{$LW3CATID}"/>
                                  <xsl:value-of select="$LW3CATID"/>
                                  <xsl:text disable-output-escaping="yes"> - </xsl:text>
                                  <xsl:value-of select="$LW3CATNAM"/>
                               </xsl:if>
                            </td>
                            <td class="LW3QTY">
                               <xsl:attribute name="__cellValue">
                                  <xsl:value-of select="$LW3QTY"/>
                               </xsl:attribute>
                               <xsl:if test="lxml:column[@name='LW3QTY'] != 0">
                                  <input type="hidden" name="{$LW3QTY/@id}" value="{$LW3QTY}"/>
                                  <xsl:value-of select="$LW3QTY"/>
                               </xsl:if>
                            </td>
                            <td class="LW3FREGFT">
                               <xsl:attribute name="__cellValue">
                                  <xsl:value-of select="$LW3FREGFT"/>
                               </xsl:attribute>
                               <input type="hidden" name="{$LW3FREGFT/@id}" value="{$LW3FREGFT}"/>
                               <xsl:value-of select="$LW3FREGFT"/>
                            </td>
                            <td class="LW3SSHPTP">
                               <xsl:attribute name="__cellValue">
                                  <xsl:value-of select="$LW3SSHPTP"/>
                               </xsl:attribute>
                               <input type="hidden" name="{$LW3SSHPTP/@id}" value="{$LW3SSHPTP}"/>
                               <xsl:value-of select="$LW3SSHPTP"/>
                            </td>
                         </tr>
                      </xsl:for-each>
                   </tbody>
                </table>
             </xsl:template>
             <xsl:template name="script.override">
              $(document).ready(function(){
                showRequirementLevelInputs($('#requirement-level').val());
                if(document.LANSA.W_DTYPE)
                  showDiscountTypeInputs(document.LANSA.W_DTYPE.value);
                if(document.LANSA.W_PROAAP)
                  showPromotionCode(document.LANSA.W_PROAAP.value);
                if(document.LANSA.W_PROORI)
                  showStorefrontInputs(document.LANSA.W_PROORI.value);
                if(document.LANSA.DDTYP)
                  showRequirementLevelU(document.LANSA.DDTYP.value);
                if(document.LANSA.DITYP)
                  showItemorCat(document.LANSA.DITYP.value);
                // if((document.LANSA.DSTYP) 
                //  showpord(document.LANSA.DSTYP.value);
          
                // Default discount value type to "Dollar"
                if (!$('input[name="DSTYP"').is(':checked')) {
                  $('input[name="DSTYP"][value="D"]').attr('checked', true).trigger('click');
                }
              });
                <xsl:text/>
             </xsl:template>
          </xsl:transform>

  - WRDELETEPROMOTION:
      XML: |
        <?xml version="1.0" encoding="UTF-8"?>
        
        <!-- WAM       : WPROMMNT - ?
             Webroutine: wrDeletePromotion - Delete Selected Promotion
             Timestamp : 2015-09-14T00:33:31-05:00 -->
        
        <lxml:data xmlns:lxml="http://www.lansa.com/2002/XML/Runtime-Data">
        
        <lxml:server-instructions>
        <lxml:client-charset></lxml:client-charset>
        <lxml:cookies><lxml:cookie name="STDSESSID"><lxml:value field-name="STDSESSID"></lxml:value>
        <lxml:expires field-name="LW3CEXPDT"></lxml:expires>
        <lxml:domain></lxml:domain>
        <lxml:path>/; HttpOnly</lxml:path>
        <lxml:secure></lxml:secure>
        </lxml:cookie>
        <lxml:cookie name="STDWEBUSR"><lxml:value field-name="STDWEBUSR"></lxml:value>
        <lxml:expires field-name=""></lxml:expires>
        <lxml:domain field-name=""></lxml:domain>
        <lxml:path field-name=""></lxml:path>
        <lxml:secure field-name=""></lxml:secure>
        </lxml:cookie>
        </lxml:cookies>
        <lxml:ssi></lxml:ssi>
        </lxml:server-instructions>
        
        <lxml:context>
        <lxml:user-id>          </lxml:user-id>
        <lxml:webapplication>WPROMMNT</lxml:webapplication>
        <lxml:webapplication-title>?</lxml:webapplication-title>
        <lxml:webroutine>wrDeletePromotion</lxml:webroutine>
        <lxml:webroutine-title>Delete Selected Promotion</lxml:webroutine-title>
        <lxml:service-name></lxml:service-name>
        <lxml:partition>CML</lxml:partition>
        <lxml:language iso-lang="en">ENG</lxml:language>
        <lxml:dec-separator>.</lxml:dec-separator>
        <lxml:images-path>/images</lxml:images-path>
        <lxml:action-request>/cgi-bin/lansaweb</lxml:action-request>
        </lxml:context>
        
        <lxml:options>
        <lxml:option name="DBCS">false</lxml:option>
        <lxml:option name="align-right">true</lxml:option>
        <lxml:option name="check-numeric">false</lxml:option>
        <lxml:option name="debug" />
        <lxml:option name="trace" />
        <lxml:option name="task" />
        </lxml:options>
        
        <lxml:variables />
        
        <lxml:messages></lxml:messages>
        
        <lxml:fields>
        <lxml:field name="LW3MHTML">
        <lxml:caption>
        <lxml:label>Menu Html</lxml:label>
        <lxml:description>Menu Html</lxml:description>
        <lxml:heading-1>Menu</lxml:heading-1>
        <lxml:heading-2>Html</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="LW3WEBUSR">
        <lxml:caption>
        <lxml:label>User Id</lxml:label>
        <lxml:description>Web User Name</lxml:description>
        <lxml:heading-1>Web</lxml:heading-1>
        <lxml:heading-2>User</lxml:heading-2>
        <lxml:heading-3>Name</lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="LW3SFID">
        <lxml:caption>
        <lxml:label>Store Front ID</lxml:label>
        <lxml:description>Store Front ID</lxml:description>
        <lxml:heading-1>Store</lxml:heading-1>
        <lxml:heading-2>Front</lxml:heading-2>
        <lxml:heading-3>ID</lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="LW3SFCUR">
        <lxml:caption>
        <lxml:label>Current Store F</lxml:label>
        <lxml:description>Current Store Front</lxml:description>
        <lxml:heading-1>Current</lxml:heading-1>
        <lxml:heading-2>Store</lxml:heading-2>
        <lxml:heading-3>Front</lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="S_PARAG">
        <lxml:caption>
        <lxml:label>S_PARAG</lxml:label>
        <lxml:description>Intro Paragraph</lxml:description>
        <lxml:heading-1>S_PARAG</lxml:heading-1>
        <lxml:heading-2></lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="LW3NAME">
        <lxml:caption>
        <lxml:label>Store Front Nam</lxml:label>
        <lxml:description>Store Front Name</lxml:description>
        <lxml:heading-1>Store</lxml:heading-1>
        <lxml:heading-2>Front</lxml:heading-2>
        <lxml:heading-3>Name</lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="W_MSGPRM1">
        <lxml:caption>
        <lxml:label>Variable Text</lxml:label>
        <lxml:description>Must provide a Promotion Name.</lxml:description>
        <lxml:heading-1>Variable</lxml:heading-1>
        <lxml:heading-2>Text</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="W_MSGPRM2">
        <lxml:caption>
        <lxml:label>Variable Text</lxml:label>
        <lxml:description>Promotion Code required for non global..</lxml:description>
        <lxml:heading-1>Variable</lxml:heading-1>
        <lxml:heading-2>Text</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="W_MSGPRM3">
        <lxml:caption>
        <lxml:label>Variable Text</lxml:label>
        <lxml:description>Must provide a value for Percentage...</lxml:description>
        <lxml:heading-1>Variable</lxml:heading-1>
        <lxml:heading-2>Text</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="W_MSGPRM4">
        <lxml:caption>
        <lxml:label>Variable Text</lxml:label>
        <lxml:description>Percent Discount must be a number.</lxml:description>
        <lxml:heading-1>Variable</lxml:heading-1>
        <lxml:heading-2>Text</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="W_MSGPRM5">
        <lxml:caption>
        <lxml:label>Variable Text</lxml:label>
        <lxml:description>Dollar Discount must be a number.</lxml:description>
        <lxml:heading-1>Variable</lxml:heading-1>
        <lxml:heading-2>Text</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="W_MSGPRM6">
        <lxml:caption>
        <lxml:label>Variable Text</lxml:label>
        <lxml:description>Minimum Order Amount must be greater...</lxml:description>
        <lxml:heading-1>Variable</lxml:heading-1>
        <lxml:heading-2>Text</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="W_MSGPRM7">
        <lxml:caption>
        <lxml:label>Variable Text</lxml:label>
        <lxml:description>Minimum Order Amount must be a number...</lxml:description>
        <lxml:heading-1>Variable</lxml:heading-1>
        <lxml:heading-2>Text</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="W_MSGPRM8">
        <lxml:caption>
        <lxml:label>Variable Text</lxml:label>
        <lxml:description>Minimum Quantity must be greater than...</lxml:description>
        <lxml:heading-1>Variable</lxml:heading-1>
        <lxml:heading-2>Text</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="W_MSGPRM9">
        <lxml:caption>
        <lxml:label>Variable Text</lxml:label>
        <lxml:description>Minimum Quantity must be a number...</lxml:description>
        <lxml:heading-1>Variable</lxml:heading-1>
        <lxml:heading-2>Text</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="W_MSGPR10">
        <lxml:caption>
        <lxml:label>Variable Text</lxml:label>
        <lxml:description>User based promotions require a...</lxml:description>
        <lxml:heading-1>Variable</lxml:heading-1>
        <lxml:heading-2>Text</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="W_MSGPR11">
        <lxml:caption>
        <lxml:label>Variable Text</lxml:label>
        <lxml:description>Minimum Amount Spent on Orders must...</lxml:description>
        <lxml:heading-1>Variable</lxml:heading-1>
        <lxml:heading-2>Text</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="W_MSGPR12">
        <lxml:caption>
        <lxml:label>Variable Text</lxml:label>
        <lxml:description>Minimum Amount Spent on Orders must...</lxml:description>
        <lxml:heading-1>Variable</lxml:heading-1>
        <lxml:heading-2>Text</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="W_MSGPR13">
        <lxml:caption>
        <lxml:label>Variable Text</lxml:label>
        <lxml:description>Previous # Days must not be less than...</lxml:description>
        <lxml:heading-1>Variable</lxml:heading-1>
        <lxml:heading-2>Text</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="W_MSGPR14">
        <lxml:caption>
        <lxml:label>Variable Text</lxml:label>
        <lxml:description>Previous # Days must be a number...</lxml:description>
        <lxml:heading-1>Variable</lxml:heading-1>
        <lxml:heading-2>Text</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="W_MSGPR15">
        <lxml:caption>
        <lxml:label>Variable Text</lxml:label>
        <lxml:description>Previous # Months must not be less...</lxml:description>
        <lxml:heading-1>Variable</lxml:heading-1>
        <lxml:heading-2>Text</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="W_MSGPR16">
        <lxml:caption>
        <lxml:label>Variable Text</lxml:label>
        <lxml:description>Previous # Months must be a number...</lxml:description>
        <lxml:heading-1>Variable</lxml:heading-1>
        <lxml:heading-2>Text</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="W_MSGPR17">
        <lxml:caption>
        <lxml:label>Variable Text</lxml:label>
        <lxml:description>Must provide a value for past #...</lxml:description>
        <lxml:heading-1>Variable</lxml:heading-1>
        <lxml:heading-2>Text</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="W_MSGPR18">
        <lxml:caption>
        <lxml:label>Variable Text</lxml:label>
        <lxml:description>Must provide a value for past # Days...</lxml:description>
        <lxml:heading-1>Variable</lxml:heading-1>
        <lxml:heading-2>Text</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="W_MSGPR19">
        <lxml:caption>
        <lxml:label>Variable Text</lxml:label>
        <lxml:description>Percent Discount must not be less...</lxml:description>
        <lxml:heading-1>Variable</lxml:heading-1>
        <lxml:heading-2>Text</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="W_MSGPR20">
        <lxml:caption>
        <lxml:label>Variable Text</lxml:label>
        <lxml:description>Dollar Discount must not be less than...</lxml:description>
        <lxml:heading-1>Variable</lxml:heading-1>
        <lxml:heading-2>Text</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="W_MSGPR21">
        <lxml:caption>
        <lxml:label>Variable Text</lxml:label>
        <lxml:description>Can specify one of Percentage...</lxml:description>
        <lxml:heading-1>Variable</lxml:heading-1>
        <lxml:heading-2>Text</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="W_MSGPR22">
        <lxml:caption>
        <lxml:label>Variable Text</lxml:label>
        <lxml:description>Quantity to Apply Discount on must...</lxml:description>
        <lxml:heading-1>Variable</lxml:heading-1>
        <lxml:heading-2>Text</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="W_MSGPR23">
        <lxml:caption>
        <lxml:label>Variable Text</lxml:label>
        <lxml:description>Quantity to Apply Discount on must...</lxml:description>
        <lxml:heading-1>Variable</lxml:heading-1>
        <lxml:heading-2>Text</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="LW3PROMAC">
        <lxml:caption>
        <lxml:label>Promotions/Disc</lxml:label>
        <lxml:description>Promotions/Discounts Module Action</lxml:description>
        <lxml:heading-1>Promotions/Discounts</lxml:heading-1>
        <lxml:heading-2>Module</lxml:heading-2>
        <lxml:heading-3>Action</lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="LW3PROMID">
        <lxml:caption>
        <lxml:label>Prom/Disc ID</lxml:label>
        <lxml:description>Promotions/Discounts ID</lxml:description>
        <lxml:heading-1>Promotions/Discounts</lxml:heading-1>
        <lxml:heading-2>ID</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="LW3PROCOD">
        <lxml:caption>
        <lxml:label>Prom Code</lxml:label>
        <lxml:description>Promotions/Discounts Code</lxml:description>
        <lxml:heading-1>Promotions/Discounts</lxml:heading-1>
        <lxml:heading-2>Code</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="LW3PRONM">
        <lxml:caption>
        <lxml:label>Prom Name</lxml:label>
        <lxml:description>Promotions/Discounts Name</lxml:description>
        <lxml:heading-1>Promotions/Discounts</lxml:heading-1>
        <lxml:heading-2>Name</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="LW3PROSTS">
        <lxml:caption>
        <lxml:label>Prom Status</lxml:label>
        <lxml:description>Promotions/Discounts Status</lxml:description>
        <lxml:heading-1>Promotions/Discounts</lxml:heading-1>
        <lxml:heading-2>Status</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="LW3NUMDAY">
        <lxml:caption>
        <lxml:label>Number of Days</lxml:label>
        <lxml:description>Number of Days</lxml:description>
        <lxml:heading-1>Number</lxml:heading-1>
        <lxml:heading-2>of</lxml:heading-2>
        <lxml:heading-3>Days</lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="LW3NUMMTH">
        <lxml:caption>
        <lxml:label>Number of Month</lxml:label>
        <lxml:description>Number of Months</lxml:description>
        <lxml:heading-1>Number</lxml:heading-1>
        <lxml:heading-2>of</lxml:heading-2>
        <lxml:heading-3>Months</lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="LW3PROAAP">
        <lxml:caption>
        <lxml:label>Prom AlwaysAppl</lxml:label>
        <lxml:description>Promotions/Discounts Always Apply? (Y/ )</lxml:description>
        <lxml:heading-1>Promotions/Discounts</lxml:heading-1>
        <lxml:heading-2>Always</lxml:heading-2>
        <lxml:heading-3>Apply?</lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="LW3PROORI">
        <lxml:caption>
        <lxml:label>Prom/Disc Orig</lxml:label>
        <lxml:description>Promotions/Discounts Order Origin</lxml:description>
        <lxml:heading-1>Promotions/Discounts</lxml:heading-1>
        <lxml:heading-2>Order</lxml:heading-2>
        <lxml:heading-3>Origin</lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="LW3MINAMT">
        <lxml:caption>
        <lxml:label>Min Order Amt</lxml:label>
        <lxml:description>Minimum Order Amount</lxml:description>
        <lxml:heading-1>Minimum</lxml:heading-1>
        <lxml:heading-2>Order</lxml:heading-2>
        <lxml:heading-3>Amount</lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="LW3ITEMCD">
        <lxml:caption>
        <lxml:label>Item Code</lxml:label>
        <lxml:description>Item Code</lxml:description>
        <lxml:heading-1>Item Code</lxml:heading-1>
        <lxml:heading-2></lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="LW3CATID">
        <lxml:caption>
        <lxml:label>Category ID</lxml:label>
        <lxml:description>Category ID</lxml:description>
        <lxml:heading-1>Category ID</lxml:heading-1>
        <lxml:heading-2></lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="LW3MINQTY">
        <lxml:caption>
        <lxml:label>Minimum Quantit</lxml:label>
        <lxml:description>Minimum Quantity</lxml:description>
        <lxml:heading-1>Minimum</lxml:heading-1>
        <lxml:heading-2>Quantity</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="LW3PCTDIS">
        <lxml:caption>
        <lxml:label>Prom % Discount</lxml:label>
        <lxml:description>Promotions/Discounts Percent Discount</lxml:description>
        <lxml:heading-1>Promotions/Discounts</lxml:heading-1>
        <lxml:heading-2>Percent</lxml:heading-2>
        <lxml:heading-3>Discount</lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="LW3DOLDIS">
        <lxml:caption>
        <lxml:label>Prom $ Discount</lxml:label>
        <lxml:description>Promotions/Discounts Dollar Discount</lxml:description>
        <lxml:heading-1>Promotions/Discounts</lxml:heading-1>
        <lxml:heading-2>Dollar</lxml:heading-2>
        <lxml:heading-3>Discount</lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="LW3QTY">
        <lxml:caption>
        <lxml:label>Quantity</lxml:label>
        <lxml:description>Quantity</lxml:description>
        <lxml:heading-1>Quantity</lxml:heading-1>
        <lxml:heading-2></lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="LW3FREGFT">
        <lxml:caption>
        <lxml:label>Free Gift? (Y/</lxml:label>
        <lxml:description>Free Gift? (Y/ )</lxml:description>
        <lxml:heading-1>Free</lxml:heading-1>
        <lxml:heading-2>Gift?</lxml:heading-2>
        <lxml:heading-3>(Y/</lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="W_SFID">
        <lxml:caption>
        <lxml:label>Store Front</lxml:label>
        <lxml:description>Store Front</lxml:description>
        <lxml:heading-1>Store</lxml:heading-1>
        <lxml:heading-2>Front</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="W_EFDATE">
        <lxml:caption>
        <lxml:label>W_EFDATE</lxml:label>
        <lxml:description>'Display Start Date'</lxml:description>
        <lxml:heading-1>W_EFDATE</lxml:heading-1>
        <lxml:heading-2></lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="W_EXDATE">
        <lxml:caption>
        <lxml:label>W_EXDATE</lxml:label>
        <lxml:description>'Display End Date'</lxml:description>
        <lxml:heading-1>W_EXDATE</lxml:heading-1>
        <lxml:heading-2></lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="W_PROAAP">
        <lxml:caption>
        <lxml:label>Prom AlwaysAppl</lxml:label>
        <lxml:description>Promotions/Discounts Always Apply? (Y/ )</lxml:description>
        <lxml:heading-1>Promotions/Discounts</lxml:heading-1>
        <lxml:heading-2>Always</lxml:heading-2>
        <lxml:heading-3>Apply?</lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="W_PROSTS">
        <lxml:caption>
        <lxml:label>Prom Status</lxml:label>
        <lxml:description>Promotions/Discounts Status</lxml:description>
        <lxml:heading-1>Promotions/Discounts</lxml:heading-1>
        <lxml:heading-2>Status</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="W_RLEVEL">
        <lxml:caption>
        <lxml:label>Promotion Requi</lxml:label>
        <lxml:description>Promotion Requirement Level</lxml:description>
        <lxml:heading-1>Promotion</lxml:heading-1>
        <lxml:heading-2>Requirement</lxml:heading-2>
        <lxml:heading-3>Level</lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="W_DTYPE">
        <lxml:caption>
        <lxml:label>Promotion Disco</lxml:label>
        <lxml:description>Promotion Discount Type</lxml:description>
        <lxml:heading-1>Promotion</lxml:heading-1>
        <lxml:heading-2>Discount</lxml:heading-2>
        <lxml:heading-3>Type</lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="W_IMLITM">
        <lxml:caption>
        <lxml:label>Item Code</lxml:label>
        <lxml:description>Item Code</lxml:description>
        <lxml:heading-1>Item Code</lxml:heading-1>
        <lxml:heading-2></lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="W_IMLITM2">
        <lxml:caption>
        <lxml:label>Item Code</lxml:label>
        <lxml:description>Item Code</lxml:description>
        <lxml:heading-1>Item Code</lxml:heading-1>
        <lxml:heading-2></lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="W_CATID">
        <lxml:caption>
        <lxml:label>Category ID</lxml:label>
        <lxml:description>Category ID</lxml:description>
        <lxml:heading-1>Category ID</lxml:heading-1>
        <lxml:heading-2></lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="W_CATID2">
        <lxml:caption>
        <lxml:label>Category ID</lxml:label>
        <lxml:description>Category ID</lxml:description>
        <lxml:heading-1>Category ID</lxml:heading-1>
        <lxml:heading-2></lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="W_MINAMT2">
        <lxml:caption>
        <lxml:label>Min Order Amt</lxml:label>
        <lxml:description>Minimum Order Amount</lxml:description>
        <lxml:heading-1>Minimum</lxml:heading-1>
        <lxml:heading-2>Order</lxml:heading-2>
        <lxml:heading-3>Amount</lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="W_PROORI">
        <lxml:caption>
        <lxml:label>Prom/Disc Orig</lxml:label>
        <lxml:description>Promotions/Discounts Order Origin</lxml:description>
        <lxml:heading-1>Promotions/Discounts</lxml:heading-1>
        <lxml:heading-2>Order</lxml:heading-2>
        <lxml:heading-3>Origin</lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="W_IMLITM3">
        <lxml:caption>
        <lxml:label>Item Code</lxml:label>
        <lxml:description>Item Code</lxml:description>
        <lxml:heading-1>Item Code</lxml:heading-1>
        <lxml:heading-2></lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="W_CATID3">
        <lxml:caption>
        <lxml:label>Category ID</lxml:label>
        <lxml:description>Category ID</lxml:description>
        <lxml:heading-1>Category ID</lxml:heading-1>
        <lxml:heading-2></lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="W_MINQTY">
        <lxml:caption>
        <lxml:label>Minimum Quantit</lxml:label>
        <lxml:description>Minimum Quantity</lxml:description>
        <lxml:heading-1>Minimum</lxml:heading-1>
        <lxml:heading-2>Quantity</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="W_SSHPTP">
        <lxml:caption>
        <lxml:label>Shipping Type</lxml:label>
        <lxml:description>Shipping Type</lxml:description>
        <lxml:heading-1>Shipping</lxml:heading-1>
        <lxml:heading-2>Type</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="WRNAME">
        <lxml:caption>
        <lxml:label>Webroutine Name</lxml:label>
        <lxml:description>Webroutine Name</lxml:description>
        <lxml:heading-1>Webroutine</lxml:heading-1>
        <lxml:heading-2>Name</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="SFSELFLG">
        <lxml:caption>
        <lxml:label>Store Front Sel</lxml:label>
        <lxml:description>Store Front Selection Flag</lxml:description>
        <lxml:heading-1>Store</lxml:heading-1>
        <lxml:heading-2>Front</lxml:heading-2>
        <lxml:heading-3>Selection</lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        </lxml:fields>
        
        <lxml:lists>
        <lxml:list name="LS_MLNVAR" row-count="5">
        <lxml:list-header>
        <lxml:header name="FXVARNAM">
        <lxml:heading-1>Variable</lxml:heading-1>
        <lxml:heading-2>Name</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:header>
        <lxml:header name="FXVARTXT">
        <lxml:heading-1>Variable</lxml:heading-1>
        <lxml:heading-2>Text</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:header>
        </lxml:list-header>
        <lxml:list-entries>
        <lxml:entry>
        <lxml:column name="FXVARNAM" id="LS_MLNVAR.0001.FXVARNAM">ABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHI</lxml:column>
        <lxml:column name="FXVARTXT" id="LS_MLNVAR.0001.FXVARTXT">aAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxXyYzZaAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxXyYzZaAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxXyYzZaAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxXyYzZaAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxX</lxml:column>
        </lxml:entry>
        <lxml:entry>
        <lxml:column name="FXVARNAM" id="LS_MLNVAR.0002.FXVARNAM">ABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHI</lxml:column>
        <lxml:column name="FXVARTXT" id="LS_MLNVAR.0002.FXVARTXT">aAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxXyYzZaAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxXyYzZaAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxXyYzZaAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxXyYzZaAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxX</lxml:column>
        </lxml:entry>
        <lxml:entry>
        <lxml:column name="FXVARNAM" id="LS_MLNVAR.0003.FXVARNAM">ABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHI</lxml:column>
        <lxml:column name="FXVARTXT" id="LS_MLNVAR.0003.FXVARTXT">aAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxXyYzZaAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxXyYzZaAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxXyYzZaAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxXyYzZaAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxX</lxml:column>
        </lxml:entry>
        <lxml:entry>
        <lxml:column name="FXVARNAM" id="LS_MLNVAR.0004.FXVARNAM">ABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHI</lxml:column>
        <lxml:column name="FXVARTXT" id="LS_MLNVAR.0004.FXVARTXT">aAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxXyYzZaAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxXyYzZaAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxXyYzZaAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxXyYzZaAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxX</lxml:column>
        </lxml:entry>
        <lxml:entry>
        <lxml:column name="FXVARNAM" id="LS_MLNVAR.0005.FXVARNAM">ABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHI</lxml:column>
        <lxml:column name="FXVARTXT" id="LS_MLNVAR.0005.FXVARTXT">aAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxXyYzZaAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxXyYzZaAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxXyYzZaAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxXyYzZaAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxX</lxml:column>
        </lxml:entry>
        </lxml:list-entries>
        </lxml:list>
        
        </lxml:lists>
        
        </lxml:data>
        

      Designs:
      - Language:           ENG
        Technology Service: LANSA XHTML

        XSL: |
          <?xml version="1.0" encoding="UTF-8"?>
          <!-- Web application : WPROMMNT            Promotions/Discounts Maintenance        -->
          <!-- Web routine     : wrDeletePromotion   Delete Selected Promotion               -->
          <!-- Timestamp       : 2010-08-13T13:24:31-05:00                                   -->
          <xsl:transform version="1.0" exclude-result-prefixes="lxml wd"
                         xmlns:lxml="http://www.lansa.com/2002/XML/Runtime-Data"
                         xmlns:wd="http://www.lansa.com/2002/XSL/Weblet-Design"
                         xmlns="http://www.w3.org/1999/xhtml"
                         xmlns:xsl="http://www.w3.org/1999/XSL/Transform">
             <xsl:import href="std_keys.xsl" />
             <xsl:import href="std_variables.xsl" />
             <xsl:import href="wadmlgn1_layout.xsl" />
             <xsl:import href="std_date.xsl" />
             <xsl:import href="multi_button.xsl" />
             <xsl:output method="xml" omit-xml-declaration="yes" encoding="UTF-8"
                         indent="no" />
          
             <xsl:template match="/">
                <xsl:call-template name="layout" />
             </xsl:template>
          
             <xsl:template match="/lxml:data">
                <script type="text/javascript" src="/js/stickytooltips.js">
          /***********************************************
          * Sticky Tooltip script- (c) Dynamic Drive DHTML code library (www.dynamicdrive.com)
          * This notice MUST stay intact for legal use
          * Visit Dynamic Drive at http://www.dynamicdrive.com/ for this script and 100s more
          ***********************************************/
                </script>
                <div class="hidden">
                   <input onchange="return isValidNumber(this, '2', '0', '.')"
                          maxlength="2" size="2" type="hidden" name="LW3SFID"
                          value="{key('field-value', 'LW3SFID')}" />
                   <input onchange="return isValidText(this, ' ')" id="LW3PROMAC"
                          maxlength="10" size="10" type="hidden" name="LW3PROMAC"
                          value="{key('field-value', 'LW3PROMAC')}" />
                   <input onchange="return isValidNumber(this, '8', '0', '.')"
                          maxlength="13" size="13" type="hidden" name="LW3PROMID"
                          value="{key('field-value', 'LW3PROMID')}" />
                   <input onchange="return isValidText(this, ' ')" id="LW3PROORI"
                          maxlength="3" size="3" type="hidden" name="LW3PROORI"
                          value="{key('field-value', 'LW3PROORI')}" />
                   <input type="hidden" name="LW3SFCUR"
                          value="{key('field-value', 'LW3SFCUR')}" />
                </div>
                <div>
                   <table>
                      <tbody>
                         <tr>
                            <td>
                               <span data-tooltip="sticky1">
                                  <img src="/img/QmarkHelp.gif" width="20" height="20" />
                               </span>&#160; <!--HTML for the tooltips-->
                               <div id="mystickytooltip" class="stickytooltip">
                                  <div style="padding:5px">
                                     <div id="sticky1" class="atip" style="width:250px">
                                        <h1>
                                           <xsl:call-template name="desc_lookup">
                                              <xsl:with-param name="name"
                                                              select="'TXT_PROMOADMHELP_HDR'" />
                                           </xsl:call-template>
                                        </h1>
                                        <p>
                                           <xsl:call-template name="desc_lookup">
                                              <xsl:with-param name="name"
                                                              select="'TXT_PROMOADMHELP_1'" />
                                           </xsl:call-template>&#160; <xsl:call-template name="desc_lookup">
                                              <xsl:with-param name="name"
                                                              select="'TXT_PROMOADMHELP_2'" />
                                           </xsl:call-template>&#160; <xsl:call-template name="desc_lookup">
                                              <xsl:with-param name="name"
                                                              select="'TXT_PROMOADMHELP_3'" />
                                           </xsl:call-template>&#160; <xsl:call-template name="desc_lookup">
                                              <xsl:with-param name="name"
                                                              select="'TXT_PROMOADMHELP_4'" />
                                           </xsl:call-template>&#160; <xsl:call-template name="desc_lookup">
                                              <xsl:with-param name="name"
                                                              select="'TXT_PROMOADMHELP_5'" />
                                           </xsl:call-template>
                                        </p>
                                     </div>
                                     <!-- <div class="stickystatus"></div> -->
                                  </div>
                               </div>
                            </td>
                         </tr>
                      </tbody>
                   </table>
                </div>
                <fieldset style="width: 100%; ">
                   <legend class="bold">
                      <xsl:call-template name="desc_lookup">
                         <xsl:with-param name="name" select="'LBL_DLT_CONFIRM'" />
                      </xsl:call-template>
                   </legend>
                   <br />
                   <div id="confirmDeleteWrapper">
                      <div id="confirmDeleteText">
                         <xsl:call-template name="desc_lookup">
                            <xsl:with-param name="name" select="'TXT_PROM_DELETE_TXT1'" />
                         </xsl:call-template>
                         <xsl:value-of select="key('field-value', 'LW3PROMID')" />
                         <xsl:call-template name="desc_lookup">
                            <xsl:with-param name="name" select="'TXT_PROM_DELETE_TXT2'" />
                         </xsl:call-template>
                         <xsl:value-of select="key('field-value', 'LW3PRONM')" />
                      </div>
                      <br />
                      <!--<div id="confirmDeleteButton">-->
                      <xsl:call-template name="multi_button">
                         <xsl:with-param name="on_click_wrname"
                                         select="'wrDeletePromotion'" />
                         <xsl:with-param name="reentryvalue" select="'DELETE_CNF'" />
                         <xsl:with-param name="reentryfield" select="'LW3PROMAC'" />
                         <xsl:with-param name="caption"
                                         select="key('desc-lookup', 'BTN_DELETE')" />
                         <xsl:with-param name="name"
                                         select="concat('o', position(), '_LANSA_13891')" />
                         <!-- <xsl:with-param name="currentrowhfield" select="?" /> -->
                         <!-- <xsl:with-param name="currentrownumval" select="?" /> -->
                         <!-- <xsl:with-param name="hide_if" select="?" /> -->
                         <!-- <xsl:with-param name="formname" select="?" /> -->
                         <!-- <xsl:with-param name="pos_absolute_design" select="?" /> -->
                         <!-- <xsl:with-param name="width_design" select="?" /> -->
                         <!-- <xsl:with-param name="height_design" select="?" /> -->
                         <!-- <xsl:with-param name="on_click_wamname" select="?" /> -->
                         <!-- <xsl:with-param name="protocol" select="?" /> -->
                         <!-- <xsl:with-param name="show_in_new_window" select="?" /> -->
                         <!-- <xsl:with-param name="target_window_name" select="?" /> -->
                         <!-- <xsl:with-param name="disabled" select="?" /> -->
                         <!-- <xsl:with-param name="title" select="?" /> -->
                         <!-- <xsl:with-param name="class" select="?" /> -->
                         <!-- <xsl:with-param name="mouseover_class" select="?" /> -->
                         <!-- <xsl:with-param name="presubmit_js" select="?" /> -->
                         <!-- <xsl:with-param name="tab_index" select="?" /> -->
                         <!-- <xsl:with-param name="default_button" select="?" /> -->
                      </xsl:call-template>
                      <xsl:call-template name="multi_button">
                         <xsl:with-param name="on_click_wrname"
                                         select="'wrDeletePromotion'" />
                         <xsl:with-param name="reentryvalue" select="'DELETE_REJ'" />
                         <xsl:with-param name="reentryfield" select="'LW3PROMAC'" />
                         <xsl:with-param name="caption"
                                         select="key('desc-lookup', 'BTN_CANCEL')" />
                         <xsl:with-param name="name"
                                         select="concat('o', position(), '_LANSA_23890')" />
                         <!-- <xsl:with-param name="currentrowhfield" select="?" /> -->
                         <!-- <xsl:with-param name="currentrownumval" select="?" /> -->
                         <!-- <xsl:with-param name="hide_if" select="?" /> -->
                         <!-- <xsl:with-param name="formname" select="?" /> -->
                         <!-- <xsl:with-param name="pos_absolute_design" select="?" /> -->
                         <!-- <xsl:with-param name="width_design" select="?" /> -->
                         <!-- <xsl:with-param name="height_design" select="?" /> -->
                         <!-- <xsl:with-param name="on_click_wamname" select="?" /> -->
                         <!-- <xsl:with-param name="protocol" select="?" /> -->
                         <!-- <xsl:with-param name="show_in_new_window" select="?" /> -->
                         <!-- <xsl:with-param name="target_window_name" select="?" /> -->
                         <!-- <xsl:with-param name="disabled" select="?" /> -->
                         <!-- <xsl:with-param name="title" select="?" /> -->
                         <!-- <xsl:with-param name="class" select="?" /> -->
                         <!-- <xsl:with-param name="mouseover_class" select="?" /> -->
                         <!-- <xsl:with-param name="presubmit_js" select="?" /> -->
                         <!-- <xsl:with-param name="tab_index" select="?" /> -->
                         <!-- <xsl:with-param name="default_button" select="?" /> -->
                      </xsl:call-template>
                   </div>
                   <br />
                   <!--</div>-->
                </fieldset>
             </xsl:template>
          </xsl:transform>
