Wam:
  Name:               WADMLGN1
  Enabled For RDMLX:  Yes

  Multilingual Details:
  - ENG:
      Description:        "Administration Login"

  Source: |
    * **************************************************
    *
    * COMPONENT:  WADMLGN1 - Admin LOGIN
    *
    * **************************************************
    Function Options(*DIRECT)
    Begin_Com Role(*EXTENDS #PRIM_WAM) Sessiongroupname('CEADM') Sessiontimeout(0)
    
    * Working fields
    Define Field(#LWBOP01ST) Type(*CHAR) Length(001)
    Define Field(#LW3CHKOUT) Reffld(#LW3PRVFUN)
    Define Field(#LW3PASWRD) Type(*CHAR) Length(010)
    Define Field(#WRKWEBUSR) Reffld(#STDWEBUSR)
    Define Field(#SAVWEBUSR) Reffld(#STDWEBUSR)
    Define Field(#LW3THISFN) Type(*CHAR) Length(010)
    
    * Fields to be placed on HTML page (hidden and display)
    Group_By Name(#LWBOP01D1) Fields((#STDWEBUSR *HIDDEN) (#STDSESSID *HIDDEN) (#STDWEBC01 *HIDDEN) (#STDTABFLR *HIDDEN) (#STDROWNUM *HIDDEN) (#STDRENTRY *HIDDEN) (#LW3SITTOT *HIDDEN) (#LW3SITCNT *HIDDEN) (#LW3EASTAT *HIDDEN) (#LW3CUSIND *HIDDEN) (#STDUSERST *HIDDEN) (#LW3MSGIND *HIDDEN) (#STDCUSIND *HIDDEN) (#STDLISTID *HIDDEN) (#STDUSRTYP *HIDDEN) (#STDASCSTS *HIDDEN) (#LW3USRTYP *HIDDEN) (#LW3GENLN *HIDDEN) (#LW3GENPT *HIDDEN) (#LW3PAGPOS *HIDDEN) (#LW3LSTPOS *HIDDEN) (#LW3SELVEW *HIDDEN) (#LW3TOPRRN *HIDDEN) (#LW3BTMRRN *HIDDEN) (#LW3PROCID *HIDDEN) (#LW3VARFLD *HIDDEN) (#LW3VERSEQ *HIDDEN) (#LWBOP01ST *HIDDEN) (#LW3USRQTY *HIDDEN) (#LW3USRAMT *HIDDEN) (#LW3WEBC01 *HIDDEN) (#LW3VISITD *HIDDEN) (#LW3VISITN *HIDDEN) (#LW3NXTFUN *HIDDEN) (#LW3PRVFUN *HIDDEN) (#LW3CHKOUT *HIDDEN) (#LW3LOGIND *HIDDEN) (#WRKWEBUSR *HIDDEN) (#LW3PASWRD *HIDDEN) (#LW3SECURE *HIDDEN) (#LW3SECMOD *HIDDEN) (#LW3IPADDR *HIDDEN) #LW3VNDNME)
    
    * BODY COMPONENT FOR THIS PAGE IS  #LWBOP01C1
    Def_List Name(#LWBOP01W1) Fields(#LW3EMETYP #LW3EMEDTA #LW3NEWLIN) Type(*WORKING) Entrys(0001000)
    
    Define Field(#W_CURLNG) Reffld(#LW3LNGID) Desc('Currently selected language')
    * language selection list
    Def_List Name(#ls_langs) Fields(#lw3lngid #lw3lngdsc #lw3lngseq) Type(*WORKING)
    
    * Menu conditioning flag - account selection
    Define Field(#LW3ASCUSR) Type(*CHAR) Length(001)
    
    * Flags for Menu Items
    Group_By Name(#FLAGS) Fields((#SHOWV1 *pri) (#SHOWV2 *pri) (#SHOWV3 *pri) (#SHOWV4 *pri) (#SHOWV5 *pri) (#SHOWV6 *pri) (#SHOWV7 *pri) (#SHOWV8 *pri) (#SHOWV9 *pri) (#SHOWV10 *pri) (#SHOWV11 *pri) (#SHOWH1 *pri) (#SHOWH2 *pri) (#SHOWH3 *pri) (#SHOWH4 *pri) (#SHOWH5 *pri) (#SHOWH6 *pri) (#SHOWH7 *pri) (#SHOWH8 *pri) (#SHOWH9 *pri))
    * left menu
    * def_list #dynlftlst fields(#lftdesc #lftcode) type(*working) entrys(*max)
    Define Field(#w_webusr) Reffld(#stdwebusr)
    Define Field(#w_sessid) Reffld(#stdsessid)
    
    * multilingual variable list
    Def_List Name(#ls_mlnvar) Fields(#FXVARNAM #FXVARTXT) Type(*WORKING) Entrys(*MAX)
    Web_Map For(*OUTPUT) Fields((#ls_mlnvar *private))
    
    * =======================================================
    * Processors
    * =======================================================
    
    Define_Com Class(#CARPASWRD) Name(#Processor_Password) Desc('Password Processor') Help('Password Processor')
    
    * =======================================================
    * Conditions
    * =======================================================
    
    Define Field(#W_FLW32147) Type(*BOOLEAN) Desc('flag if msg:MSG_LW32147 has been added') Default(false)
    
    Webroutine Name(LWBOP01C1) Desc('Welcome to LANSA Commerce Edition Admin site') Onentry(*SESSIONSTATUS_NONE)
    
    Web_Map For(*INPUT) Fields(#STDRENTRY)
    Web_Map For(*OUTPUT) Fields((#STDSESSID *HIDE) #STDWEBUSR)
    Web_Map For(*OUTPUT) Fields((#FLAGS *PRI) (#ls_langs *private) (#W_CURLNG *private))
    Web_Map For(*BOTH) Fields(#LW3USRPAS (#LWBOP01ST *hide) #lw3cemail)
    Web_Map For(*BOTH) Fields(#LW3WEBUSR #LW3SITCNT #LW3VNDNME #STDWEBC01) Options(*PERSIST)
    
    * Initialization
    Execute Subroutine(INITIALIZE)
    
    * get multi-lingual info
    Execute Subroutine(multi) With_Parms('LWBOP01C1')
    
    * retrieve currently selected language
    #W_CURLNG := *LANGUAGE
    * populate language list
    Clr_List Named(#ls_langs)
    Select Fields(#ls_langs) From_File(LW3LNG) Io_Error(*NEXT) Val_Error(*NEXT)
    #LW3VARNAM := 'LNG_' + #LW3LNGID
    * get language description in its own language
    Fetch Fields(#LW3VARTXT) From_File(lw3mlnvar) With_Key(#LW3VARNAM #LW3LNGID) Io_Error(*NEXT) Val_Error(*NEXT)
    If_Status Is(*OKAY)
    #LW3LNGDSC := #LW3VARTXT
    Endif
    *
    Add_Entry To_List(#ls_langs)
    *
    Endselect
    * sort langauges by description
    Sort_List Named(#ls_langs) By_Fields(#LW3LNGDSC)
    
    Case Of_Field(#STDRENTRY)
    
    * * to produce new password
    * When Value_Is('= W')
    * Execute Subroutine(USR_PASWRD)
    * Change Field(#LWBOP01ST) To(V)
    
    Otherwise
    * If function is in validation mode
    If Cond('#LWBOP01ST *EQ V')
    Begincheck
    * Validate User ID...
    * message #lw3cemail
    * message #lw3usrpas
    #LW3WEBUSR #LW3EASTAT #LW3CUSVAL #LW3ADMUSR #LW3PWDSLT := *null
    Fetch Fields(#LW3WEBUSR #LW3EASTAT #LW3CUSVAL #LW3ADMUSR #LW3PWDSLT) From_File(LW3USRL6) With_Key(#lw3cemail) Io_Error(*NEXT) Val_Error(*NEXT)
    If_Status Is_Not(*OKAY)
    * multilingual message
    #LW3VARTXT := 'MSG_LW32147: Message text missing.'
    Fetch Fields(#LW3VARTXT) From_File(LW3MLNVAR) With_Key('MSG_LW32147' *LANGUAGE) Io_Error(*NEXT) Val_Error(*NEXT)
    *
    * SET_ERROR FOR_FIELD(#lw3cemail) MSGID(LW39001) MSGF(DC@M01)
    Set_Error For_Field(#lw3cemail) Msgtxt(#LW3VARTXT)
    Else
    * Validate User status and admin access
    * multilingual message
    #LW3VARTXT := 'MSG_LW32148: Message text missing.'
    Fetch Fields(#LW3VARTXT) From_File(LW3MLNVAR) With_Key('MSG_LW32148' *LANGUAGE) Io_Error(*NEXT) Val_Error(*NEXT)
    * CONDCHECK FIELD(#lw3cemail) COND('#LW3EASTAT *EQ A') MSGID(LW39034)
    Condcheck Field(#lw3cemail) Cond('#LW3EASTAT *EQ A') Msgtxt(#LW3VARTXT)
    
    * multilingual message
    #LW3VARTXT := 'MSG_LW32149: Message text missing.'
    Fetch Fields(#LW3VARTXT) From_File(LW3MLNVAR) With_Key('MSG_LW32149' *LANGUAGE) Io_Error(*NEXT) Val_Error(*NEXT)
    * CONDCHECK FIELD(#lw3cemail) COND('#LW3ADMUSR *EQ Y') MSGTXT('Sorry, entered user ID does not have access to this site.')
    Condcheck Field(#lw3cemail) Cond('#LW3ADMUSR *EQ Y') Msgtxt(#LW3VARTXT)
    
    Endif
    
    * * * Change Field(#LW3OBJMOD) To(CHK)
    * * * Call Process(*DIRECT) Function(LW3GN08) Menu_Used(*NEXT) If_Error(*NEXT)
    * * * * CONDCHECK FIELD(#LW3ERCODE) COND('#LW3ERCODE *EQ OK') MSGID(LW39001)
    * * * * CONDCHECK FIELD(#LW3ERCODE) COND('#LW3ERCODE *EQ OK') MSGTXT('Web User Name and Password are case sensitive.')
    * * * * multilingual message
    * * * #LW3VARTXT := 'MSG_LW32147: Message text missing.'
    * * * Fetch Fields(#LW3VARTXT) From_File(LW3MLNVAR) With_Key('MSG_LW32147' *LANGUAGE) Io_Error(*NEXT) Val_Error(*NEXT)
    * * * Condcheck Field(#LW3ERCODE) Cond('#LW3ERCODE *EQ OK') Msgtxt(#LW3VARTXT)
    * * * * multilingual message
    * * * #LW3VARTXT := 'MSG_LW32150: Message text missing.'
    * * * Fetch Fields(#LW3VARTXT) From_File(LW3MLNVAR) With_Key('MSG_LW32150' *LANGUAGE) Io_Error(*NEXT) Val_Error(*NEXT)
    * * * Condcheck Field(#LW3ERCODE) Cond('#LW3ERCODE *EQ OK') Msgtxt(#LW3VARTXT)
    
    If Cond(*Not #Processor_Password.ValidatePassword( #LW3USRPAS #LW3CUSVAL #LW3PWDSLT ))
    #LW3ERCODE := 'ER'
    
    * CONDCHECK FIELD(#LW3ERCODE) COND('#LW3ERCODE *EQ OK') MSGID(LW39001)
    * CONDCHECK FIELD(#LW3ERCODE) COND('#LW3ERCODE *EQ OK') MSGTXT('Web User Name and Password are case sensitive.')
    * Gitlab#220 - check if MSG_LW32147 has already been added. to avoid duplicate error messages
    If Cond(*Not #W_FLW32147)
    * multilingual message
    #LW3VARTXT := 'MSG_LW32147: Message text missing.'
    Fetch Fields(#LW3VARTXT) From_File(LW3MLNVAR) With_Key('MSG_LW32147' *LANGUAGE) Io_Error(*NEXT) Val_Error(*NEXT)
    Condcheck Field(#LW3ERCODE) Cond('#LW3ERCODE *EQ OK') Msgtxt(#LW3VARTXT)
    #W_FLW32147 := true
    Endif
    * multilingual message
    #LW3VARTXT := 'MSG_LW32150: Message text missing.'
    Fetch Fields(#LW3VARTXT) From_File(LW3MLNVAR) With_Key('MSG_LW32150' *LANGUAGE) Io_Error(*NEXT) Val_Error(*NEXT)
    Condcheck Field(#LW3ERCODE) Cond('#LW3ERCODE *EQ OK') Msgtxt(#LW3VARTXT)
    Endif
    
    Endcheck If_Error(RQS)
    
    * turns https off
    Change Field(#LW3SECURE) To(N)
    
    * No errors, update file
    Fetch Fields(#LWBOP01D1) From_File(LW3WUSER) With_Key(#LW3WEBUSR) Io_Error(*NEXT) Val_Error(*NEXT)
    
    * save these fields to pass around and they must be
    * declared in the GROUP_BY.
    Change Field(#STDWEBUSR) To(#LW3WEBUSR)
    Change Field(#STDWEBC01) To(#LW3WEBC01)
    Change Field(#STDUSERST) To(#LW3EASTAT)
    Change Field(#STDCUSIND) To(#LW3CUSIND)
    Change Field(#STDUSRTYP) To(#LW3USRTYP)
    Use Builtin(DATEDIFFERENCE_ALPHA) With_Args(#LW3VISITD J #YYYYMMDDC J) To_Get(#LW3VISITN)
    
    * Check if the jobid for this customer exists ...
    
    * FETCH fields(#LW3WEBUSR) from_file(LW3SES02) with_key(#STDSESSID) io_error(*NEXT) val_error(*NEXT)
    * IF_STATUS is_not(*OKAY)
    * Get the session id
    Change Field(#SAVWEBUSR) To(#STDWEBUSR)
    Call Process(*DIRECT) Function(LW3GN01) Menu_Used(*NEXT) If_Error(*NEXT)
    Change Field(#STDSESSID) To(#LW3SESSID)
    Change Field(#STDWEBUSR) To(#SAVWEBUSR)
    * ENDIF
    
    * Get Vendor Name
    Execute Subroutine(VND_NAME)
    
    * Update customer session id record.
    Change Field(#LW3WEBUSR) To(#STDWEBUSR)
    If Cond('#STDCUSIND *EQ B')
    Change Field(#LW3ASSC01) To(#STDWEBC01)
    Endif
    If Cond('#LW3REGCUS *NE Y')
    Change Field(#LW3REGCUS) To(Y)
    Endif
    Update Fields(#LW3WEBUSR #LW3VNDNME #LW3ASSC01 #LW3REGCUS) In_File(LW3SES02) With_Key(#STDSESSID) Io_Error(*NEXT) Val_Error(*NEXT)
    
    * Update user visit date and time
    Change Field(#LW3VISITD) To(#YYYYMMDDC)
    Change Field(#LW3VISITT) To(#TIME)
    * UPDATE fields(#LW3VISITD #LW3VISITT) in_file(LW3WUSER) with_key(#LW3WEBUSR) io_error(*NEXT) val_error(*NEXT)
    *
    * * Update cart user id
    * UPDATE fields(#LW3WEBUSR) in_file(LW3CARTD) with_key(#STDSESSID) io_error(*NEXT) val_error(*NEXT)
    * * Check for associated accounts
    
    * Set shopping home page name
    If_Null Field(#LW3CHKOUT)
    If_Null Field(#LW3PRVFUN)
    Change Field(#LW3NXTFUN) To(WHOMPGE1)
    Else
    Change Field(#LW3NXTFUN) To(#LW3PRVFUN)
    Endif
    Else
    Change Field(#LW3NXTFUN) To(#LW3CHKOUT)
    Endif
    
    #w_webusr := #lw3webusr
    #w_sessid := #lw3sessid
    
    Change Field(#LW3LOGIND) To(*BLANK)
    Change Field(#WEBRTN) To('WAAPPSEL.APPSEL')
    
    Transfer Toroutine(#WAAPPSEL.APPSEL) Onentry(*MAP_ALL)
    
    Else
    
    If_Null Field(#STDSESSID)
    Change Field(#LWBOP01D1) To(*NULL)
    Endif
    Endif
    
    * Request the user ID and password
    * FIELD(#LW3SECURE) TO(Y)
    Change Field(#LW3SECURE) To(N)
    Change Field(#LW3SECMOD) To(N)
    Change Field(#LW3IPADDR) To(*BLANKS)
    Change Field(#LWBOP01ST) To(V)
    
    * Set the welcome message indicator
    Change Field(#LW3MSGIND) To(Y)
    Change Field(#LW3LOGIND) To(Y)
    Endcase
    
    RQS:
    
    * #LW3SVVALP := 'Fill in Userid and Password to enter admin site.'
    * FETCH FIELDS(#LW3SVVALP) FROM_FILE(LW3SYS) WITH_KEY('MSG:ADMIN_WELCOM' *LANGUAGE) IO_ERROR(*NEXT) VAL_ERROR(*NEXT)
    * MESSAGE MSGTXT(#LW3SVVALP)
    * multilingual message
    Execute Subroutine(srMLMSG) With_Parms('MSG_LW32010')
    
    Endroutine
    
    * =================================================
    * Subroutine  : INITIALIZE
    * Description : Initialize Routine
    * =================================================
    Subroutine Name(INITIALIZE)
    If Cond(#COM_SELF.SessionStatus ¬= Active)
    #COM_SELF.SessionStatus := Active
    Endif
    
    Exchange Fields(#LWBOP01D1 #LW3OBJMOD #LW3CUSVAL #LW3USRPAS #LW3PASWRD #LW3THISFN #LW3SHOWME #LW3IPADDR #LW3SECMOD) Option(*ALWAYS)
    Endroutine
    
    * =================================================
    * Subroutine  : USR_PASWRD
    * Description : To produce new password
    * =================================================
    * Subroutine Name(USR_PASWRD)
    * Change Field(#WRKWEBUSR) To(*BLANKS)
    *
    * If Cond('#LW3WEBUSR *NE *BLANKS')
    * Change Field(#WRKWEBUSR) To(#LW3WEBUSR)
    * * Check if the userid for this customer exists ...
    * Fetch Fields(#LW3WEBUSR #LW3CEMAIL) From_File(LW3WUSER) With_Key(#WRKWEBUSR) Io_Error(*NEXT) Val_Error(*NEXT)
    * * if the web user does not exist
    * If_Status Is_Not(*OKAY)
    * * MESSAGE MSGID(LW39001) MSGF(DC@M01)
    * * multilingual message
    * Execute Subroutine(srMLMSG) With_Parms('MSG_LW32011')
    * Else
    * * if the web user exist and e-mail exist
    * If Cond('#LW3CEMAIL *NE *BLANKS')
    * Use Builtin(REVERSE) With_Args(#TIMEC) To_Get(#LW3PASWRD)
    * Use Builtin(TCONCAT) With_Args(USR #LW3PASWRD) To_Get(#LW3PASWRD)
    * Change Field(#LW3USRPAS) To(#LW3PASWRD)
    * Change Field(#LW3OBJMOD) To(ENC)
    * Change Field(#LW3CUSVAL) To(*BLANKS)
    * Call Process(*DIRECT) Function(LW3GN08) Menu_Used(*NEXT) If_Error(*NEXT)
    * If Cond('#LW3ERCODE *EQ OK')
    * Change Field(#LW3CUSVAL) To(#LW3ENCRYP)
    * * update the file if no error
    * Update Fields(#LW3CUSVAL) In_File(LW3WUSER) With_Key(#WRKWEBUSR) Io_Error(*NEXT) Val_Error(*NEXT)
    * If_Status Is(*OKAY)
    * If Cond('#LW3MSGCNT *EQ 0')
    * If Cond('#LW3NXTFUN *EQ *BLANKS')
    * Change Field(#LW3NXTFUN) To(HOMPGE1)
    * Endif
    * Endif
    * * send new password- #LW3PASWRD
    * Execute Subroutine(SND_PAS)
    * Change Field(#LWBOP01D1) To(*NULL)
    * Change Field(#LW3WEBUSR #LW3USRPAS #STDRENTRY) To(*BLANKS)
    * Endif
    * Endif
    * * if e-mail does not exist
    * Else
    * * MESSAGE MSGID(LW39070) MSGF(DC@M01)
    * * multilingual message
    * Execute Subroutine(srMLMSG) With_Parms('MSG_LW32012')
    *
    * Endif
    * Endif
    * Else
    * * MESSAGE MSGID(LW39072) MSGF(DC@M01)
    * * multilingual message
    * Execute Subroutine(srMLMSG) With_Parms('MSG_LW32013')
    *
    * Endif
    * Endroutine
    
    * ==================================================
    * Subroutine  : VND_NAME
    * Description : TO DISPLAY THE VENDOR/CUSTOMER NAME
    * ==================================================
    Subroutine Name(VND_NAME)
    * CHECK FOR ASSOCIATED ACCOUNTS
    * If Customer is a B2C
    
    Case Of_Field(#STDCUSIND)
    
    When Value_Is(' = C')
    Fetch Fields(#LW3CHNAME) From_File(LW3WCUST) With_Key(#LW3CUSIND #STDWEBUSR #STDWEBUSR) Io_Error(*NEXT) Val_Error(*NEXT)
    Change Field(#LW3VNDNME) To(#LW3CHNAME)
    
    When Value_Is(' = B')
    Fetch Fields(#LW3WEBC01) From_File(LW3WUSER) With_Key(#STDWEBUSR) Io_Error(*NEXT) Val_Error(*NEXT)
    * CHANGE FIELD(#FXCUSID) TO(#LW3WEBC01)
    * CHANGE FIELD(#FXACTION) TO(G)
    * EXCHANGE FIELDS(#FXACTION #FXCUSID)
    * CALL PROCESS(*DIRECT) FUNCTION(LW3ACUS) IF_ERROR(*NEXT)
    * IF COND(#FXRETCD *EQ 'OK')
    * CHANGE field(#LW3VNDNME) to(#LW3CUSNAM)
    * ENDIF
    
    Otherwise
    * If customer is not a B2B OR B2C
    Change Field(#LW3VNDNME) To(*NULL)
    
    Endcase
    Endroutine
    
    * ==================================================
    * Subroutine  : SND_PAS
    * Description : To display new password
    * ==================================================
    * Subroutine Name(SND_PAS)
    * Clr_List Named(#LWBOP01W1)
    * * Get the From Email Address & Set From for E-mail
    * Fetch Fields(#LW3EMAILS) From_File(LW3MXREF) With_Key(C FORGOTPWD) Io_Error(*NEXT) Val_Error(*NEXT)
    * If_Status Is(*OKAY)
    * Execute Subroutine(ADD_DETS) With_Parms(FRM #LW3EMAILS N)
    * Else
    * Use Builtin(BCONCAT) With_Args(*MTXTLW3COMED138 #LW3EMAILS) To_Get(#LW3MSGTXT)
    * Execute Subroutine(ADD_DETS) With_Parms(FRM #LW3MSGTXT N)
    * Endif
    * * Get the Customer Email Address & Set To for E-mail
    * Fetch Fields(#LW3CEMAIL #LW3WEBC01) From_File(LW3WUSER) With_Key(#WRKWEBUSR) Io_Error(*NEXT) Val_Error(*NEXT)
    * Execute Subroutine(ADD_DETS) With_Parms(TO #LW3CEMAIL N)
    * * Set the Subject
    * Use Builtin(BCONCAT) With_Args(*MTXTLW3COMED137 #LW3EMLSUB) To_Get(#LW3MSGTXT)
    * Execute Subroutine(ADD_DETS) With_Parms(SBJ #LW3MSGTXT N)
    * * to get the company name
    * * USE builtin(BCONCAT) with_args(*MTXTLW3COMED004 *COMPANY) to_get(#LW3MSGTXT)
    * * EXECUTE subroutine(ADD_DETS) with_parms(TXT #LW3MSGTXT Y)
    * * further information of text
    * Execute Subroutine(ADD_DETS) With_Parms(TXT *MTXTLW3COMED143 Y)
    * * get the User Id
    * Execute Subroutine(ADD_BLANK)
    * Change Field(#LW3MSGTXT) To('''You have been given a new password for your account. To access your account,''')
    * Execute Subroutine(ADD_DETS) With_Parms(TXT #LW3MSGTXT N)
    * *
    * Execute Subroutine(ADD_BLANK)
    * *
    * Change Field(#LW3MSGTXT) To(*MTXTPASSWORD001)
    * Execute Subroutine(ADD_DETS) With_Parms(TXT #LW3MSGTXT N)
    * Execute Subroutine(ADD_BLANK)
    * Use Builtin(BCONCAT) With_Args(*MTXTPASSWORD002 #LW3WEBUSR) To_Get(#LW3MSGTXT)
    * Execute Subroutine(ADD_DETS) With_Parms(TXT #LW3MSGTXT N)
    * Execute Subroutine(ADD_BLANK)
    * * get the New Password
    * * USE builtin(BCONCAT) with_args(*MTXTLW3COMED136 #LW3PASWRD) to_get(#LW3MSGTXT)
    * Use Builtin(BCONCAT) With_Args(*MTXTLW3COMED139 #LW3PASWRD) To_Get(#LW3MSGTXT)
    * Execute Subroutine(ADD_DETS) With_Parms(TXT #LW3MSGTXT Y)
    * Execute Subroutine(ADD_DETS) With_Parms(TXT #LW3EMSG N)
    * Execute Subroutine(ADD_DETS) With_Parms(TXT #LW3EMSG01 N)
    * Execute Subroutine(ADD_DETS) With_Parms(TXT #LW3EMSG02 N)
    * Execute Subroutine(ADD_DETS) With_Parms(TXT #LW3EMSG03 N)
    *
    * Execute Subroutine(ADD_BLANK)
    * *
    * Change Field(#LW3MSGTXT) To(*MTXTPASSWORD003)
    * Execute Subroutine(ADD_DETS) With_Parms(TXT #LW3MSGTXT Y)
    * Change Field(#LW3MSGTXT) To(*MTXTPASSWORD004)
    * Execute Subroutine(ADD_DETS) With_Parms(TXT #LW3MSGTXT N)
    * Execute Subroutine(ADD_BLANK)
    *
    * Change Field(#LW3MSGTXT) To(*MTXTPASSWORD005)
    * Execute Subroutine(ADD_DETS) With_Parms(TXT #LW3MSGTXT N)
    * Execute Subroutine(ADD_BLANK)
    *
    * Change Field(#LW3MSGTXT) To(*MTXTPASSWORD006)
    * Execute Subroutine(ADD_DETS) With_Parms(TXT #LW3MSGTXT Y)
    * Change Field(#LW3MSGTXT) To(*MTXTPASSWORD007)
    * Execute Subroutine(ADD_DETS) With_Parms(TXT #LW3MSGTXT N)
    * Execute Subroutine(ADD_BLANK)
    *
    * Change Field(#LW3MSGTXT) To(*MTXTPASSWORD008)
    * Execute Subroutine(ADD_DETS) With_Parms(TXT #LW3MSGTXT N)
    * Execute Subroutine(ADD_BLANK)
    *
    * Change Field(#LW3MSGTXT) To(*MTXTPASSWORD009)
    * Execute Subroutine(ADD_DETS) With_Parms(TXT #LW3MSGTXT N)
    * Execute Subroutine(ADD_BLANK)
    *
    * Change Field(#LW3MSGTXT) To(*MTXTPASSWORD010)
    * Execute Subroutine(ADD_DETS) With_Parms(TXT #LW3MSGTXT N)
    *
    * Execute Subroutine(ADD_BLANK)
    * Execute Subroutine(ADD_BLANK)
    * Change Field(#LW3MSGTXT) To(*MTXTPASSWORD011)
    * Execute Subroutine(ADD_DETS) With_Parms(TXT #LW3MSGTXT N)
    *
    * Execute Subroutine(ADD_BLANK)
    * Execute Subroutine(ADD_BLANK)
    * Change Field(#LW3MSGTXT) To(*MTXTPASSWORD012)
    * Execute Subroutine(ADD_DETS) With_Parms(TXT #LW3MSGTXT N)
    *
    * Change Field(#LW3MSGTXT) To(*MTXTPASSWORD013)
    * Execute Subroutine(ADD_DETS) With_Parms(TXT #LW3MSGTXT Y)
    * Change Field(#LW3MSGTXT) To(*MTXTPASSWORD014)
    * Execute Subroutine(ADD_DETS) With_Parms(TXT #LW3MSGTXT N)
    * Execute Subroutine(ADD_BLANK)
    *
    * Execute Subroutine(ADD_BLANK)
    * Change Field(#LW3MSGTXT) To('''Regards,''')
    * Execute Subroutine(ADD_DETS) With_Parms(TXT #LW3MSGTXT N)
    * Execute Subroutine(ADD_BLANK)
    *
    * Execute Subroutine(ADD_BLANK)
    * Change Field(#LW3MSGTXT) To(*MTXTPASSWORD015)
    * Execute Subroutine(ADD_DETS) With_Parms(TXT #LW3MSGTXT N)
    *
    * * Call the E-mail Engine to send the mail
    * Change Field(#STDRENTRY) To(*BLANKS)
    * Change Field(#LW3THISFN) To(OP01)
    * #LW3NXTFUN := *BLANKS
    * Call Process(*DIRECT) Function(LW3GN26) Menu_Used(*NEXT) If_Error(*NEXT) Pass_Lst(#LWBOP01W1)
    * * Goto shopping home page
    * Change Field(#LW3LOGIND) To(*BLANK)
    * Change Field(#WEBRTN) To('WHOMPGE1.LWBOE01D1')
    *
    * Transfer Toroutine(*EVALUATE #WEBRTN) Onentry(*MAP_ALL)
    * Endroutine
    
    * ==================================================
    * Subroutine  : ADD_DETS
    * Description : Add the E-Mail Details to the List
    * ==================================================
    Subroutine Name(ADD_DETS) Parms((#LW3EMETYP *RECEIVED) (#LW3EMEDTA *RECEIVED) (#LW3NEWLIN *RECEIVED))
    Add_Entry To_List(#LWBOP01W1)
    Endroutine
    
    * ==================================================
    * Subroutine  : CRT_LINE
    * Description : Format the Message Line
    * ==================================================
    Subroutine Name(CRT_LINE) Parms((#LW3MSGID *RECEIVED) (#LW3MSGSUB *RECEIVED))
    Use Builtin(GET_MESSAGE_DESC) With_Args(#LW3MSGID 'DC@M01' '*LIBL' #LW3MSGSUB) To_Get(#LW3MSGTXT)
    Endroutine
    
    Subroutine Name(ADD_BLANK)
    Change Field(#LW3MSGTXT) To(*BLANKS)
    Execute Subroutine(ADD_DETS) With_Parms(TXT #LW3MSGTXT Y)
    Endroutine
    
    * get multilingual information
    Subroutine Name(multi) Parms((#FXWRTNAM *RECEIVED))
    #FXWAMNAM := #COM_SELF.Name
    Exchange Fields(#FXWAMNAM #FXWRTNAM)
    Call Process(*DIRECT) Function(LW3MLAD) If_Error(*NEXT) Pass_Lst(#ls_mlnvar)
    Endroutine
    
    * multilingual message
    Subroutine Name(srMLMSG) Parms((#LW3VARNAM *RECEIVED))
    *
    #LW3LNGID := *LANGUAGE
    * #LW3MSGSUB := <substitution data> OR *blank
    Exchange Fields(#LW3VARNAM #LW3LNGID #LW3MSGSUB)
    Call Process(*DIRECT) Function(LW3MSG) If_Error(*NEXT)
    Endroutine
    
    End_Com
    

  Web Routines:
  - LWBOP01C1:
      XML: |
        <?xml version="1.0" encoding="UTF-8"?>
        
        <!-- WAM       : WADMLGN1 - ?
             Webroutine: LWBOP01C1 - Welcome to LANSA Commerce Edition Admin 
             Timestamp : 2014-09-23T09:38:28-05:00 -->
        
        <lxml:data xmlns:lxml="http://www.lansa.com/2002/XML/Runtime-Data">
        
        <lxml:server-instructions>
        <lxml:client-charset></lxml:client-charset>
        <lxml:cookies><lxml:cookie name="STDSESSID"><lxml:value field-name="STDSESSID"></lxml:value>
        <lxml:expires field-name="LW3CEXPDT"></lxml:expires>
        <lxml:domain></lxml:domain>
        <lxml:path>/; HttpOnly</lxml:path>
        <lxml:secure></lxml:secure>
        </lxml:cookie>
        <lxml:cookie name="STDWEBUSR"><lxml:value field-name="STDWEBUSR"></lxml:value>
        <lxml:expires field-name=""></lxml:expires>
        <lxml:domain field-name=""></lxml:domain>
        <lxml:path field-name=""></lxml:path>
        <lxml:secure field-name=""></lxml:secure>
        </lxml:cookie>
        </lxml:cookies>
        <lxml:ssi></lxml:ssi>
        </lxml:server-instructions>
        
        <lxml:context>
        <lxml:user-id>          </lxml:user-id>
        <lxml:webapplication>WADMLGN1</lxml:webapplication>
        <lxml:webapplication-title>?</lxml:webapplication-title>
        <lxml:webroutine>LWBOP01C1</lxml:webroutine>
        <lxml:webroutine-title>Welcome to LANSA Commerce Edition Admin </lxml:webroutine-title>
        <lxml:service-name></lxml:service-name>
        <lxml:partition>CML</lxml:partition>
        <lxml:language iso-lang="">ENG</lxml:language>
        <lxml:dec-separator>.</lxml:dec-separator>
        <lxml:images-path>/images</lxml:images-path>
        <lxml:action-request>/cgi-bin/lansaweb</lxml:action-request>
        </lxml:context>
        
        <lxml:options>
        <lxml:option name="DBCS">false</lxml:option>
        <lxml:option name="align-right">true</lxml:option>
        <lxml:option name="check-numeric">false</lxml:option>
        <lxml:option name="debug" />
        <lxml:option name="trace" />
        <lxml:option name="task" />
        </lxml:options>
        
        <lxml:variables />
        
        <lxml:messages></lxml:messages>
        
        <lxml:fields>
        <lxml:field name="STDSESSID">
        <lxml:caption>
        <lxml:label>Web Session ID</lxml:label>
        <lxml:description>Standard Session ID Workfield</lxml:description>
        <lxml:heading-1>Web</lxml:heading-1>
        <lxml:heading-2>Session</lxml:heading-2>
        <lxml:heading-3>ID</lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="STDWEBUSR">
        <lxml:caption>
        <lxml:label>User Id</lxml:label>
        <lxml:description>Standard Web User Name Workfield</lxml:description>
        <lxml:heading-1>Web</lxml:heading-1>
        <lxml:heading-2>User</lxml:heading-2>
        <lxml:heading-3>Name</lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="SHOWV1">
        <lxml:caption>
        <lxml:label>Show V1</lxml:label>
        <lxml:description>Show V1</lxml:description>
        <lxml:heading-1>Show</lxml:heading-1>
        <lxml:heading-2>V1</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="SHOWV2">
        <lxml:caption>
        <lxml:label>Show V2</lxml:label>
        <lxml:description>Show V2</lxml:description>
        <lxml:heading-1>Show</lxml:heading-1>
        <lxml:heading-2>V2</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="SHOWV3">
        <lxml:caption>
        <lxml:label>Show V3</lxml:label>
        <lxml:description>Show V3</lxml:description>
        <lxml:heading-1>Show</lxml:heading-1>
        <lxml:heading-2>V3</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="SHOWV4">
        <lxml:caption>
        <lxml:label>Show V4</lxml:label>
        <lxml:description>Show V4</lxml:description>
        <lxml:heading-1>Show</lxml:heading-1>
        <lxml:heading-2>V4</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="SHOWV5">
        <lxml:caption>
        <lxml:label>Show V5</lxml:label>
        <lxml:description>Show V5</lxml:description>
        <lxml:heading-1>Show</lxml:heading-1>
        <lxml:heading-2>V5</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="SHOWV6">
        <lxml:caption>
        <lxml:label>Show V6</lxml:label>
        <lxml:description>Show V6</lxml:description>
        <lxml:heading-1>Show</lxml:heading-1>
        <lxml:heading-2>V6</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="SHOWV7">
        <lxml:caption>
        <lxml:label>Show V7</lxml:label>
        <lxml:description>Show V7</lxml:description>
        <lxml:heading-1>Show</lxml:heading-1>
        <lxml:heading-2>V7</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="SHOWV8">
        <lxml:caption>
        <lxml:label>Show V8</lxml:label>
        <lxml:description>Show V8</lxml:description>
        <lxml:heading-1>Show</lxml:heading-1>
        <lxml:heading-2>V8</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="SHOWV9">
        <lxml:caption>
        <lxml:label>Show V9</lxml:label>
        <lxml:description>Show V9</lxml:description>
        <lxml:heading-1>Show</lxml:heading-1>
        <lxml:heading-2>V9</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="SHOWV10">
        <lxml:caption>
        <lxml:label>Show V10</lxml:label>
        <lxml:description>Show V10</lxml:description>
        <lxml:heading-1>Show</lxml:heading-1>
        <lxml:heading-2>V10</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="SHOWV11">
        <lxml:caption>
        <lxml:label>Show V11</lxml:label>
        <lxml:description>Show V11</lxml:description>
        <lxml:heading-1>Show</lxml:heading-1>
        <lxml:heading-2>V11</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="SHOWH1">
        <lxml:caption>
        <lxml:label>Show H1</lxml:label>
        <lxml:description>Show H1</lxml:description>
        <lxml:heading-1>Show</lxml:heading-1>
        <lxml:heading-2>H1</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="SHOWH2">
        <lxml:caption>
        <lxml:label>Show H2</lxml:label>
        <lxml:description>Show H2</lxml:description>
        <lxml:heading-1>Show</lxml:heading-1>
        <lxml:heading-2>H2</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="SHOWH3">
        <lxml:caption>
        <lxml:label>Show H3</lxml:label>
        <lxml:description>Show H3</lxml:description>
        <lxml:heading-1>Show</lxml:heading-1>
        <lxml:heading-2>H3</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="SHOWH4">
        <lxml:caption>
        <lxml:label>Show H4</lxml:label>
        <lxml:description>Show H4</lxml:description>
        <lxml:heading-1>Show</lxml:heading-1>
        <lxml:heading-2>H4</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="SHOWH5">
        <lxml:caption>
        <lxml:label>Show H5</lxml:label>
        <lxml:description>Show H5</lxml:description>
        <lxml:heading-1>Show</lxml:heading-1>
        <lxml:heading-2>H5</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="SHOWH6">
        <lxml:caption>
        <lxml:label>Show H6</lxml:label>
        <lxml:description>Show H6</lxml:description>
        <lxml:heading-1>Show</lxml:heading-1>
        <lxml:heading-2>H6</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="SHOWH7">
        <lxml:caption>
        <lxml:label>Show H7</lxml:label>
        <lxml:description>Show H7</lxml:description>
        <lxml:heading-1>Show</lxml:heading-1>
        <lxml:heading-2>H7</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="SHOWH8">
        <lxml:caption>
        <lxml:label>Show H8</lxml:label>
        <lxml:description>Show H8</lxml:description>
        <lxml:heading-1>Show</lxml:heading-1>
        <lxml:heading-2>H8</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="SHOWH9">
        <lxml:caption>
        <lxml:label>Show H9</lxml:label>
        <lxml:description>Show H9</lxml:description>
        <lxml:heading-1>Show</lxml:heading-1>
        <lxml:heading-2>H9</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="W_CURLNG">
        <lxml:caption>
        <lxml:label>Language ID</lxml:label>
        <lxml:description>Currently selected language</lxml:description>
        <lxml:heading-1>Language ID</lxml:heading-1>
        <lxml:heading-2></lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="LW3USRPAS">
        <lxml:caption>
        <lxml:label>Password</lxml:label>
        <lxml:description>User Password</lxml:description>
        <lxml:heading-1>User</lxml:heading-1>
        <lxml:heading-2>Password</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="LWBOP01ST">
        <lxml:caption>
        <lxml:label>LWBOP01ST</lxml:label>
        <lxml:description>LWBOP01ST</lxml:description>
        <lxml:heading-1>LWBOP01ST</lxml:heading-1>
        <lxml:heading-2></lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="LW3CEMAIL">
        <lxml:caption>
        <lxml:label>E-Mail Address</lxml:label>
        <lxml:description>E-Mail Address</lxml:description>
        <lxml:heading-1>E-Mail</lxml:heading-1>
        <lxml:heading-2>Address</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="LW3WEBUSR">
        <lxml:caption>
        <lxml:label>User Id</lxml:label>
        <lxml:description>Web User Name</lxml:description>
        <lxml:heading-1>Web</lxml:heading-1>
        <lxml:heading-2>User</lxml:heading-2>
        <lxml:heading-3>Name</lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="LW3SITCNT">
        <lxml:caption>
        <lxml:label>Total Count</lxml:label>
        <lxml:description>Session Item Total Count</lxml:description>
        <lxml:heading-1>Session</lxml:heading-1>
        <lxml:heading-2>Item</lxml:heading-2>
        <lxml:heading-3>Total</lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="LW3VNDNME">
        <lxml:caption>
        <lxml:label>Alpha name.....</lxml:label>
        <lxml:description>Alpha Name</lxml:description>
        <lxml:heading-1>   Alpha Name</lxml:heading-1>
        <lxml:heading-2>--------------------</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        <lxml:field name="STDWEBC01">
        <lxml:caption>
        <lxml:label>Customer ID</lxml:label>
        <lxml:description>Customer ID</lxml:description>
        <lxml:heading-1>Customer</lxml:heading-1>
        <lxml:heading-2>    ID</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:caption>
        <lxml:value />
        </lxml:field>
        </lxml:fields>
        
        <lxml:lists>
        <lxml:list name="LS_MLNVAR" row-count="5">
        <lxml:list-header>
        <lxml:header name="FXVARNAM">
        <lxml:heading-1>Variable</lxml:heading-1>
        <lxml:heading-2>Name</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:header>
        <lxml:header name="FXVARTXT">
        <lxml:heading-1>Variable</lxml:heading-1>
        <lxml:heading-2>Text</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:header>
        </lxml:list-header>
        <lxml:list-entries>
        <lxml:entry>
        <lxml:column name="FXVARNAM" id="LS_MLNVAR.0001.FXVARNAM">ABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHI</lxml:column>
        <lxml:column name="FXVARTXT" id="LS_MLNVAR.0001.FXVARTXT">aAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxXyYzZaAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxXyYzZaAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxXyYzZaAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxXyYzZaAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxX</lxml:column>
        </lxml:entry>
        <lxml:entry>
        <lxml:column name="FXVARNAM" id="LS_MLNVAR.0002.FXVARNAM">ABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHI</lxml:column>
        <lxml:column name="FXVARTXT" id="LS_MLNVAR.0002.FXVARTXT">aAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxXyYzZaAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxXyYzZaAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxXyYzZaAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxXyYzZaAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxX</lxml:column>
        </lxml:entry>
        <lxml:entry>
        <lxml:column name="FXVARNAM" id="LS_MLNVAR.0003.FXVARNAM">ABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHI</lxml:column>
        <lxml:column name="FXVARTXT" id="LS_MLNVAR.0003.FXVARTXT">aAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxXyYzZaAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxXyYzZaAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxXyYzZaAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxXyYzZaAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxX</lxml:column>
        </lxml:entry>
        <lxml:entry>
        <lxml:column name="FXVARNAM" id="LS_MLNVAR.0004.FXVARNAM">ABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHI</lxml:column>
        <lxml:column name="FXVARTXT" id="LS_MLNVAR.0004.FXVARTXT">aAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxXyYzZaAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxXyYzZaAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxXyYzZaAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxXyYzZaAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxX</lxml:column>
        </lxml:entry>
        <lxml:entry>
        <lxml:column name="FXVARNAM" id="LS_MLNVAR.0005.FXVARNAM">ABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHI</lxml:column>
        <lxml:column name="FXVARTXT" id="LS_MLNVAR.0005.FXVARTXT">aAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxXyYzZaAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxXyYzZaAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxXyYzZaAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxXyYzZaAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxX</lxml:column>
        </lxml:entry>
        </lxml:list-entries>
        </lxml:list>
        
        <lxml:list name="LS_LANGS" row-count="5">
        <lxml:list-header>
        <lxml:header name="LW3LNGID">
        <lxml:heading-1>Language ID</lxml:heading-1>
        <lxml:heading-2></lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:header>
        <lxml:header name="LW3LNGDSC">
        <lxml:heading-1>Language Description</lxml:heading-1>
        <lxml:heading-2></lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:header>
        <lxml:header name="LW3LNGSEQ">
        <lxml:heading-1>Sequence</lxml:heading-1>
        <lxml:heading-2>number</lxml:heading-2>
        <lxml:heading-3></lxml:heading-3>
        </lxml:header>
        </lxml:list-header>
        <lxml:list-entries>
        <lxml:entry>
        <lxml:column name="LW3LNGID" id="LS_LANGS.0001.LW3LNGID">ABCD</lxml:column>
        <lxml:column name="LW3LNGDSC" id="LS_LANGS.0001.LW3LNGDSC">aAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxXyY</lxml:column>
        <lxml:column name="LW3LNGSEQ" id="LS_LANGS.0001.LW3LNGSEQ">123</lxml:column>
        </lxml:entry>
        <lxml:entry>
        <lxml:column name="LW3LNGID" id="LS_LANGS.0002.LW3LNGID">ABCD</lxml:column>
        <lxml:column name="LW3LNGDSC" id="LS_LANGS.0002.LW3LNGDSC">aAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxXyY</lxml:column>
        <lxml:column name="LW3LNGSEQ" id="LS_LANGS.0002.LW3LNGSEQ">123</lxml:column>
        </lxml:entry>
        <lxml:entry>
        <lxml:column name="LW3LNGID" id="LS_LANGS.0003.LW3LNGID">ABCD</lxml:column>
        <lxml:column name="LW3LNGDSC" id="LS_LANGS.0003.LW3LNGDSC">aAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxXyY</lxml:column>
        <lxml:column name="LW3LNGSEQ" id="LS_LANGS.0003.LW3LNGSEQ">123</lxml:column>
        </lxml:entry>
        <lxml:entry>
        <lxml:column name="LW3LNGID" id="LS_LANGS.0004.LW3LNGID">ABCD</lxml:column>
        <lxml:column name="LW3LNGDSC" id="LS_LANGS.0004.LW3LNGDSC">aAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxXyY</lxml:column>
        <lxml:column name="LW3LNGSEQ" id="LS_LANGS.0004.LW3LNGSEQ">123</lxml:column>
        </lxml:entry>
        <lxml:entry>
        <lxml:column name="LW3LNGID" id="LS_LANGS.0005.LW3LNGID">ABCD</lxml:column>
        <lxml:column name="LW3LNGDSC" id="LS_LANGS.0005.LW3LNGDSC">aAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxXyY</lxml:column>
        <lxml:column name="LW3LNGSEQ" id="LS_LANGS.0005.LW3LNGSEQ">123</lxml:column>
        </lxml:entry>
        </lxml:list-entries>
        </lxml:list>
        
        </lxml:lists>
        
        </lxml:data>
        

      Designs:
      - Language:           ENG
        Technology Service: LANSA JQMOBILE

        XSL: |
          <?xml version="1.0" encoding="UTF-8"?>
          
          <!-- WAM       : WADMLGN1 - Administration Login
               Webroutine: LWBOP01C1 - Welcome to LANSA Commerce Edition Admin 
               Timestamp : 2014-06-13T12:09:41-04:00 -->
          
          <xsl:transform version="1.0" exclude-result-prefixes="lxml wd" xmlns:lxml="http://www.lansa.com/2002/XML/Runtime-Data" xmlns:wd="http://www.lansa.com/2002/XSL/Weblet-Design" xmlns="http://www.w3.org/1999/xhtml" xmlns:xsl="http://www.w3.org/1999/XSL/Transform">
          
          <xsl:import href="std_keys.xsl" />
          <xsl:import href="std_variables.xsl" />
          <xsl:import href="std_hidden.xsl" />
          <xsl:import href="wadmlgn1_layout.xsl" />
          <xsl:import href="std_input.xsl" />
          
          <xsl:output method="xml" omit-xml-declaration="yes" encoding="UTF-8" indent="no" />
          
          <xsl:template match="/">
          <xsl:call-template name="layout" />
          </xsl:template>
          
          <xsl:template match="/lxml:data">
          <xsl:call-template name="std_input">
          <xsl:with-param name="name" select="'STDWEBUSR'" />
          <xsl:with-param name="value" select="key('field-value', 'STDWEBUSR')" />
          <xsl:with-param name="displayMode" select="'input'" />
          <xsl:with-param name="label" select="key('field-caption', 'STDWEBUSR')/lxml:description" />
          <xsl:with-param name="maxlength" select="10" />
          <xsl:with-param name="rdmlxDataType" select="'alpha| |10'" />
          <xsl:with-param name="size" select="10" />
          </xsl:call-template>
          <br />
          <xsl:call-template name="std_input">
          <xsl:with-param name="name" select="'LW3USRPAS'" />
          <xsl:with-param name="value" select="key('field-value', 'LW3USRPAS')" />
          <xsl:with-param name="displayMode" select="'input'" />
          <xsl:with-param name="label" select="key('field-caption', 'LW3USRPAS')/lxml:description" />
          <xsl:with-param name="maxlength" select="10" />
          <xsl:with-param name="rdmlxDataType" select="'alpha| |10'" />
          <xsl:with-param name="size" select="10" />
          <xsl:with-param name="type" select="'password'" /></xsl:call-template>
          <br />
          <xsl:call-template name="std_input">
          <xsl:with-param name="name" select="'LW3CEMAIL'" />
          <xsl:with-param name="value" select="key('field-value', 'LW3CEMAIL')" />
          <xsl:with-param name="displayMode" select="'input'" />
          <xsl:with-param name="label" select="key('field-caption', 'LW3CEMAIL')/lxml:description" />
          <xsl:with-param name="maxlength" select="50" />
          <xsl:with-param name="rdmlxDataType" select="'alpha| |50'" />
          <xsl:with-param name="size" select="50" />
          </xsl:call-template>
          <br />
          <xsl:call-template name="std_input">
          <xsl:with-param name="name" select="'LW3WEBUSR'" />
          <xsl:with-param name="value" select="key('field-value', 'LW3WEBUSR')" />
          <xsl:with-param name="displayMode" select="'input'" />
          <xsl:with-param name="label" select="key('field-caption', 'LW3WEBUSR')/lxml:description" />
          <xsl:with-param name="maxlength" select="10" />
          <xsl:with-param name="rdmlxDataType" select="'alpha| |10'" />
          <xsl:with-param name="size" select="10" />
          </xsl:call-template>
          <br />
          <xsl:call-template name="std_input">
          <xsl:with-param name="name" select="'LW3SITCNT'" />
          <xsl:with-param name="value" select="key('field-value', 'LW3SITCNT')" />
          <xsl:with-param name="displayMode" select="'input'" />
          <xsl:with-param name="label" select="key('field-caption', 'LW3SITCNT')/lxml:description" />
          <xsl:with-param name="maxlength" select="23" />
          <xsl:with-param name="rdmlxDataType" select="'signed|15|0|.'" />
          <xsl:with-param name="size" select="23" />
          </xsl:call-template>
          <br />
          <xsl:call-template name="std_input">
          <xsl:with-param name="name" select="'LW3VNDNME'" />
          <xsl:with-param name="value" select="key('field-value', 'LW3VNDNME')" />
          <xsl:with-param name="displayMode" select="'input'" />
          <xsl:with-param name="label" select="key('field-caption', 'LW3VNDNME')/lxml:description" />
          <xsl:with-param name="maxlength" select="40" />
          <xsl:with-param name="rdmlxDataType" select="'alpha|O|40'" />
          <xsl:with-param name="size" select="40" />
          </xsl:call-template>
          <br />
          <xsl:call-template name="std_input">
          <xsl:with-param name="name" select="'STDWEBC01'" />
          <xsl:with-param name="value" select="key('field-value', 'STDWEBC01')" />
          <xsl:with-param name="displayMode" select="'input'" />
          <xsl:with-param name="label" select="key('field-caption', 'STDWEBC01')/lxml:description" />
          <xsl:with-param name="maxlength" select="10" />
          <xsl:with-param name="rdmlxDataType" select="'alpha| |10'" />
          <xsl:with-param name="size" select="10" />
          </xsl:call-template>
          <br />
          </xsl:template>
          
          <xsl:template match="/lxml:data" mode="content.hidden">
          <xsl:apply-imports />
          
          <input type="hidden" id="{$lweb_WRName}_STDSESSID" name="STDSESSID" value="{key('field-value', 'STDSESSID')}" data-lstddatatype="signed|15|0|." wd:caption="{key('field-caption', 'STDSESSID')/lxml:description}" />
          <input type="hidden" id="{$lweb_WRName}_LWBOP01ST" name="LWBOP01ST" value="{key('field-value', 'LWBOP01ST')}" data-lstddatatype="alpha| |1" wd:caption="{key('field-caption', 'LWBOP01ST')/lxml:description}" />
          
          </xsl:template>
          </xsl:transform>

      - Language:           ENG
        Technology Service: LANSA XHTML

        XSL: |
          <?xml version="1.0" encoding="UTF-8"?>
          <!-- Web application : WADMLGN1            Administration Login                    -->
          <!-- Web routine     : LWBOP01C1           Welcome!                                -->
          <!-- Timestamp       : 2008-03-28T15:34:24-05:00                                   -->
          <xsl:transform version="1.0" exclude-result-prefixes="lxml wd"
                         xmlns:lxml="http://www.lansa.com/2002/XML/Runtime-Data"
                         xmlns:wd="http://www.lansa.com/2002/XSL/Weblet-Design"
                         xmlns="http://www.w3.org/1999/xhtml"
                         xmlns:xsl="http://www.w3.org/1999/XSL/Transform">
             <xsl:import href="std_keys.xsl" />
             <xsl:import href="std_variables.xsl" />
             <xsl:import href="wadmlgn1_layout.xsl" />
             <xsl:import href="multi_button.xsl" />
             <xsl:import href="cust_dropdown.xsl" />
             <xsl:output method="xml" omit-xml-declaration="yes" encoding="UTF-8"
                         indent="no" />
          
             <xsl:template match="/">
                <xsl:call-template name="layout">
                   <xsl:with-param name="show_storefront" select="false()" />
                </xsl:call-template>
             </xsl:template>
          
             <xsl:template match="/lxml:data">
                <xsl:comment> Web application : WADMLGN1            Administration Login</xsl:comment>
                <xsl:comment> Web routine     : LWBOP01C1           Welcome!</xsl:comment>
                <div class="hidden">
                   <input onchange="return isValidNumber(this, '15', '0', '.')"
                          name="STDSESSID" maxlength="23" size="23" type="hidden"
                          value="{key('field-value', 'STDSESSID')}" />
                   <input id="LWBOP01ST" onchange="return isValidText(this, ' ')"
                          name="LWBOP01ST" maxlength="1" size="1" type="hidden"
                          value="{key('field-value', 'LWBOP01ST')}" />
                   <input id="STDWEBUSR" onchange="return isValidText(this, ' ')"
                          class="text" name="STDWEBUSR" maxlength="10" size="10"
                          value="{key('field-value', 'STDWEBUSR')}" />
                </div>
                <br />
                <fieldset>
                   <legend class="bold">
                      <xsl:call-template name="desc_lookup">
                         <xsl:with-param name="name" select="'LBL_LOGIN'" />
                      </xsl:call-template>
                   </legend>
                   <table border="0" cellspacing="5" summary="" cellpadding="5">
                      <tbody>
                         <tr>
                            <td class="caption">
                               <xsl:call-template name="desc_lookup">
                                  <xsl:with-param name="name"
                                                  select="'LBL_SELECT_LANGUAGE'" />
                                  <!-- <xsl:with-param name="disable_output_escaping" select="?" /> -->
                                  <!-- <xsl:with-param name="lookup_list" select="?" /> -->
                               </xsl:call-template>
                            </td>
                            <td>
                               <xsl:call-template name="cust_dropdown">
                                  <xsl:with-param name="reentryfield" select="'LWBOP01ST'" />
                                  <xsl:with-param name="reentryvalue" select="''" />
                                  <xsl:with-param name="on_change_wrname"
                                                  select="'LWBOP01C1'" />
                                  <xsl:with-param name="presubmit_js"
                                                  select="'$(&quot;input[name=_LANGUAGE]&quot;).val(($.language=g_lxmlLang=this.value));'" />
                                  <xsl:with-param name="captionfield" select="'LW3LNGDSC'" />
                                  <xsl:with-param name="codefield" select="'LW3LNGID'" />
                                  <xsl:with-param name="listname" select="'LS_LANGS'" />
                                  <xsl:with-param name="value"
                                                  select="key('field-value', 'W_CURLNG')" />
                                  <xsl:with-param name="name" select="'W_CURLNG'" />
                                  <!-- <xsl:with-param name="id" select="?" /> -->
                                  <!-- <xsl:with-param name="display_mode" select="?" /> -->
                                  <!-- <xsl:with-param name="items" select="?" /> -->
                                  <!-- <xsl:with-param name="selector_field" select="?" /> -->
                                  <!-- <xsl:with-param name="selector_value_eq" select="?" /> -->
                                  <!-- <xsl:with-param name="tagfield1" select="?" /> -->
                                  <!-- <xsl:with-param name="tagfield2" select="?" /> -->
                                  <!-- <xsl:with-param name="tagfield3" select="?" /> -->
                                  <!-- <xsl:with-param name="submit_tagfields" select="?" /> -->
                                  <!-- <xsl:with-param name="hide_if" select="?" /> -->
                                  <!-- <xsl:with-param name="formname" select="?" /> -->
                                  <!-- <xsl:with-param name="pos_absolute" select="?" /> -->
                                  <!-- <xsl:with-param name="width_design" select="?" /> -->
                                  <!-- <xsl:with-param name="on_change_wamname" select="?" /> -->
                                  <!-- <xsl:with-param name="target_window_name" select="?" /> -->
                                  <!-- <xsl:with-param name="disabled" select="?" /> -->
                                  <!-- <xsl:with-param name="class" select="?" /> -->
                                  <!-- <xsl:with-param name="mouseover_class" select="?" /> -->
                                  <!-- <xsl:with-param name="tab_index" select="?" /> -->
                                  <!---->
                                  <!-- NOTE: Uncomment <xsl:with-param> tags above and replace "Replace_With_Field_Name" -->
                                  <!--       placeholders with the name of the field you wish to use for this Weblet. -->
                                  <!--       Refer to Field View pane for available fields. -->
                                  <!--       Also provide other parameter values, if any. -->
                                  <!---->
                               </xsl:call-template>
                            </td>
                         </tr>
                         <tr>
                            <td class="caption">
                               <xsl:call-template name="desc_lookup">
                                  <xsl:with-param name="name" select="'LBL_EMAIL_ADDRESS'" />
                                  <!-- <xsl:with-param name="disable_output_escaping" select="?" /> -->
                                  <!-- <xsl:with-param name="lookup_list" select="?" /> -->
                               </xsl:call-template>
                            </td>
                            <td>
                               <input id="LW3CEMAIL"
                                      onchange="return isValidText(this, ' ')"
                                      class="text" name="LW3CEMAIL" maxlength="53"
                                      size="50" value="{key('field-value', 'LW3CEMAIL')}" />
                            </td>
                         </tr>
                         <tr>
                            <td class="caption">
                               <xsl:call-template name="desc_lookup">
                                  <xsl:with-param name="name" select="'LBL_USER_PASSWORD'" />
                                  <!-- <xsl:with-param name="disable_output_escaping" select="?" /> -->
                                  <!-- <xsl:with-param name="lookup_list" select="?" /> -->
                               </xsl:call-template>
                            </td>
                            <td>
                               <input id="LW3USRPAS"
                                      onchange="return isValidText(this, ' ')"
                                      class="text"
                                      onkeypress="handleEnter(event, 'Login')"
                                      name="LW3USRPAS" maxlength="10" size="10"
                                      type="password"
                                      value="{key('field-value', 'LW3USRPAS')}" />
                            </td>
                         </tr>
                         <tr>
                            <td></td>
                            <td>
                               <xsl:call-template name="multi_button">
                                  <xsl:with-param name="default_button" select="true()" />
                                  <xsl:with-param name="reentryvalue" select="'V'" />
                                  <xsl:with-param name="on_click_wrname"
                                                  select="'LWBOP01C1'" />
                                  <xsl:with-param name="on_click_wamname"
                                                  select="'WADMLGN1'" />
                                  <xsl:with-param name="caption"
                                                  select="key('desc-lookup', 'BTN_LOGIN')" />
                                  <xsl:with-param name="name" select="'Login'" />
                                  <!-- <xsl:with-param name="reentryfield" select="?" /> -->
                                  <!-- <xsl:with-param name="hide_if" select="?" /> -->
                                  <!-- <xsl:with-param name="formname" select="?" /> -->
                                  <!-- <xsl:with-param name="pos_absolute_design" select="?" /> -->
                                  <!-- <xsl:with-param name="width_design" select="?" /> -->
                                  <!-- <xsl:with-param name="height_design" select="?" /> -->
                                  <!-- <xsl:with-param name="protocol" select="?" /> -->
                                  <!-- <xsl:with-param name="show_in_new_window" select="?" /> -->
                                  <!-- <xsl:with-param name="target_window_name" select="?" /> -->
                                  <!-- <xsl:with-param name="disabled" select="?" /> -->
                                  <!-- <xsl:with-param name="title" select="?" /> -->
                                  <!-- <xsl:with-param name="class" select="?" /> -->
                                  <!-- <xsl:with-param name="mouseover_class" select="?" /> -->
                                  <!-- <xsl:with-param name="presubmit_js" select="?" /> -->
                                  <!-- <xsl:with-param name="tab_index" select="?" /> -->
                               </xsl:call-template>
                            </td>
                         </tr>
                      </tbody>
                   </table>
                </fieldset>
                <br />
             </xsl:template>
          </xsl:transform>
