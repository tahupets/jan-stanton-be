Weblet:
  Name:               stdtsldlt

  Multilingual Details:
  - ENG:
      Description:        "<No description in this language>"

  XML: |
    <?xml version="1.0" encoding="UTF-8"?>
    <lxml:data xmlns:lxml="http://www.lansa.com/2002/XML/Runtime-Data">
       <lxml:context>
          <lxml:images-path>/images</lxml:images-path>
       </lxml:context>
    </lxml:data>

  Designs:
  - Language:           ENG
    Technology Service: LANSA XHTML

    XSL: |
      <?xml version="1.0" encoding="UTF-8"?>
      <!-- (c) 2005 LANSA                            -->
      <!-- XHTML Standard Tplt Select - Delete       -->
      <!-- $Workfile::   stdtsldlt.xsl             $ -->
      <!-- $Revision::   1.0                       $ -->
      <xsl:transform version="1.0" exclude-result-prefixes="lxml wd"
                     xmlns:xsl="http://www.w3.org/1999/XSL/Transform"
                     xmlns:lxml="http://www.lansa.com/2002/XML/Runtime-Data"
                     xmlns:wd="http://www.lansa.com/2002/XSL/Weblet-Design"
                     xmlns="http://www.w3.org/1999/xhtml">
         <xsl:import href="std_variables.xsl" />
         <xsl:import href="std_keys.xsl" />
         <xsl:import href="std_util.xsl" />
         <xsl:import href="std_types.xsl" />
         <xsl:output method="xml" omit-xml-declaration="yes" encoding="UTF-8"
                     indent="yes" />
         <wd:definition>
            <wd:group name="Custom Weblets" />
         </wd:definition>
         <wd:template name="stdtsldlt">
            <wd:description icon="icons/std_click_image.ico">
               <wd:name lang="ENG">Standard Template Select - Delete</wd:name>
            </wd:description>
            <wd:param name="currentrowhfield">
               <wd:tip lang="ENG">The name of the field that will contain the current row's specified 
      
      value.</wd:tip>
            </wd:param>
            <wd:param name="currentrownumval">
               <wd:tip lang="ENG">The value that will be contained in a field specified by currentrowhfield 
      
      property. If specifying a field value from the current row of the list, prefix the field name with a 
      
      $.</wd:tip>
            </wd:param>
            <wd:param name="tooltip">
               <wd:tip lang="ENG">Tooltip text.</wd:tip>
            </wd:param>
            <wd:param name="relative_image_path">
               <wd:tip lang="ENG">Image filename, relative to images virtual directory, for the image to 
      
      display.</wd:tip>
            </wd:param>
            <wd:param name="absolute_image_path">
               <wd:tip lang="ENG">Image URL, for the image to display. Do not specify if relative_image_path 
      
      property is specified.</wd:tip>
            </wd:param>
            <wd:param name="mouseover_relative_image_path">
               <wd:tip lang="ENG">Image filename, relative to images virtual directory, for the image to 
      
      display when mouse moves over the weblet.</wd:tip>
            </wd:param>
            <wd:param name="mouseover_absolute_image_path">
               <wd:tip lang="ENG">Image URL, for the image to display when mouse moves over the weblet. Do 
      
      not specify if mouseover_relative_image_path property is specified.</wd:tip>
            </wd:param>
         </wd:template>
      
         <xsl:template name="stdtsldlt">
            <xsl:param name="name" wd:tip_id="" />
            <xsl:param name="value" wd:tip_id="" />
            <xsl:param name="currentrowhfield"
                       wd:type="std:field_name_in[wam=$on_click_wamname][webrtn=$on_click_wrname]"
                       select="'STDROWNUM'" />
            <xsl:param name="currentrownumval" select="position()" />
            <xsl:param name="reentryfield" wd:tip_id=""
                       wd:type="std:field_name_in[wam=$on_click_wamname][webrtn=$on_click_wrname]"
                       select="'STDFUNREQ'" />
            <xsl:param name="reentryvalue" wd:tip_id="" select="''" />
            <xsl:param name="tooltip" wd:type="std:mtxt_variable"
                       select="'Delete Record'" />
            <xsl:param name="hide_if" wd:tip_id="" wd:type="std:boolean"
                       select="false()" />
            <xsl:param name="formname" wd:tip_id="" wd:type="std:html_formname"
                       select="'LANSA'" />
            <xsl:param name="on_click_wamname" wd:tip_id="" wd:type="std:wam"
                       select="/lxml:data/lxml:context/lxml:webapplication" />
            <xsl:param name="on_click_wrname" wd:tip_id=""
                       wd:type="std:webroutine[wam=$on_click_wamname]"
                       select="'wrDelete'" />
            <xsl:param name="protocol" wd:tip_id="" wd:type="std:protocol" />
            <xsl:param name="show_in_new_window" wd:tip_id="" wd:type="std:boolean"
                       select="false()" />
            <xsl:param name="target_window_name" wd:tip_id=""
                       wd:type="std:target_window">
               <xsl:if test="$show_in_new_window">_blank</xsl:if>
            </xsl:param>
            <xsl:param name="disabled" wd:tip_id="" wd:type="std:boolean" />
            <xsl:param name="hide_focus" wd:tip_id="" wd:type="std:boolean"
                       select="true()" />
            <xsl:param name="relative_image_path" wd:type="std:html_img_relative"
                       select="'ZZ/Delete.gif'" />
            <xsl:param name="absolute_image_path"
                       select="concat($lweb_images_path, '/', $relative_image_path)" />
            <xsl:param name="mouseover_relative_image_path"
                       wd:type="std:html_img_relative" />
            <xsl:param name="mouseover_absolute_image_path">
               <xsl:if test="$mouseover_relative_image_path != ''">
                  <xsl:value-of select="concat($lweb_images_path, '/', $mouseover_relative_image_path)" />
               </xsl:if>
            </xsl:param>
            <xsl:param name="pos_absolute" wd:tip_id="pos_absolute_design"
                       select="'left:0pt;top:0pt'" wd:role="std:pos_absolute_design" />
            <xsl:param name="width_design" wd:tip_id="" select="'0pt'"
                       wd:role="std:width_design" />
            <xsl:param name="height_design" wd:tip_id="" select="'0pt'"
                       wd:role="std:height_design" />
            <xsl:param name="class" wd:tip_id=""
                       wd:type="std:css_style_class[tagName='img']"
                       select="'std_click_image'" />
            <xsl:param name="disabled_class" wd:tip_id=""
                       wd:type="std:css_style_class[tagName='img']"
                       select="'std_click_image_disabled'" />
            <xsl:param name="presubmit_js" wd:tip_id="" />
            <xsl:param name="tab_index" wd:tip_id="" />
            <xsl:if test="not($hide_if) or /lxml:data/lxml:context[@design]">
               <xsl:variable name="currowjs">
                  <xsl:if test="$currentrowhfield != ''">
                     <xsl:text>InsertHidden(document.</xsl:text>
                     <xsl:value-of select="$formname" />
                     <xsl:text>, '</xsl:text>
                     <xsl:value-of select="$currentrowhfield" />
                     <xsl:text>', '</xsl:text>
                     <xsl:value-of select="$currentrownumval" />
                     <xsl:text>');</xsl:text>
                     <xsl:text>document.</xsl:text>
                     <xsl:value-of select="$formname" />
                     <xsl:text>.</xsl:text>
                     <xsl:value-of select="$currentrowhfield" />
                     <xsl:text>.value = '</xsl:text>
                     <xsl:value-of select="$currentrownumval" />
                     <xsl:text>';</xsl:text>
                  </xsl:if>
               </xsl:variable>
               <xsl:variable name="hiddenjs">
                  <xsl:if test="$reentryfield != ''">
                     <xsl:text>InsertHidden(document.</xsl:text>
                     <xsl:value-of select="$formname" />
                     <xsl:text>, '</xsl:text>
                     <xsl:value-of select="$reentryfield" />
                     <xsl:text>', '</xsl:text>
                     <xsl:value-of select="key('field-value', $reentryfield)" />
                     <xsl:text>');</xsl:text>
                     <xsl:text>document.</xsl:text>
                     <xsl:value-of select="$formname" />.<xsl:value-of select="$reentryfield" />.value = 
      
      '<xsl:value-of select="$reentryvalue" />';<xsl:text />
                  </xsl:if>
               </xsl:variable>
               <xsl:variable name="size">
                  <xsl:call-template name="make_size_style.private">
                     <xsl:with-param name="caller_name" select="'std_click_image.xsl'" />
                     <!-- <xsl:with-param name="default_height" select="?" /> -->
                     <!-- <xsl:with-param name="default_width" select="?" /> -->
                     <xsl:with-param name="height" select="$height_design" />
                     <xsl:with-param name="width" select="$width_design" />
                     <xsl:with-param name="in_attribute" select="false()" />
                  </xsl:call-template>
               </xsl:variable>
               <xsl:variable name="img_size">
                  <xsl:if test="$size != ''">
                     <xsl:text>width:100%;height:100%;</xsl:text>
                  </xsl:if>
               </xsl:variable>
               <xsl:variable name="target">
                  <xsl:choose>
                     <xsl:when test="$target_window_name != ''">
                        <xsl:text>, '</xsl:text>
                        <xsl:value-of select="$target_window_name" />
                        <xsl:text>'</xsl:text>
                     </xsl:when>
                     <xsl:otherwise>, null</xsl:otherwise>
                  </xsl:choose>
               </xsl:variable>
               <xsl:variable name="prot_var">
                  <xsl:if test="$protocol!=''">
                     <xsl:text>, '</xsl:text>
                     <xsl:value-of select="$protocol" />
                     <xsl:text>'</xsl:text>
                  </xsl:if>
               </xsl:variable>
               <a style="display: inline-block;"
                  href="javascript:{$presubmit_js}{$hiddenjs}{$currowjs}HandleEvent('{$on_click_wamname}',   '{$on_click_wrname}', document.{$formname}{$target}{$prot_var})">
                  <xsl:call-template name="make_size_and_pos_style.private">
                     <xsl:with-param name="caller_name" select="'std_click_image.xsl'" />
                     <xsl:with-param name="pos_absolute" select="$pos_absolute" />
                     <!-- <xsl:with-param name="default_height" select="?" /> -->
                     <!-- <xsl:with-param name="default_width" select="?" /> -->
                     <xsl:with-param name="height" select="$height_design" />
                     <xsl:with-param name="width" select="$width_design" />
                  </xsl:call-template>
                  <xsl:if test="boolean($hide_focus)">
                     <xsl:attribute name="hidefocus">
                        <xsl:text>true</xsl:text>
                     </xsl:attribute>
                  </xsl:if>
                  <xsl:if test="boolean($disabled)">
                     <xsl:attribute name="href">
                        <xsl:text>javascript:</xsl:text>
                     </xsl:attribute>
                  </xsl:if>
                  <xsl:if test="$tab_index != ''">
                     <xsl:attribute name="tabindex">
                        <xsl:value-of select="$tab_index" />
                     </xsl:attribute>
                  </xsl:if>
                  <xsl:choose>
                     <xsl:when test="$mouseover_absolute_image_path != ''">
                        <img onmouseleave="this.src='{$absolute_image_path}'"
                             style="{$img_size}" border="0"
                             onmouseenter="this.src='{$mouseover_absolute_image_path}'"
                             alt="{$tooltip}" src="{$absolute_image_path}">
                           <xsl:if test="$class!=''">
                              <xsl:if test="not($disabled)">
                                 <xsl:attribute name="class">
                                    <xsl:value-of select="$class" />
                                 </xsl:attribute>
                              </xsl:if>
                           </xsl:if>
                           <xsl:if test="$disabled_class!=''">
                              <xsl:if test="boolean($disabled)">
                                 <xsl:attribute name="class">
                                    <xsl:value-of select="$disabled_class" />
                                 </xsl:attribute>
                              </xsl:if>
                           </xsl:if>
                        </img>
                     </xsl:when>
                     <xsl:otherwise>
                        <img alt="{$tooltip}" src="{$absolute_image_path}" border="0"
                             style="{$img_size}">
                           <xsl:if test="$class!=''">
                              <xsl:if test="not($disabled)">
                                 <xsl:attribute name="class">
                                    <xsl:value-of select="$class" />
                                 </xsl:attribute>
                              </xsl:if>
                           </xsl:if>
                           <xsl:if test="$disabled_class!=''">
                              <xsl:if test="boolean($disabled)">
                                 <xsl:attribute name="class">
                                    <xsl:value-of select="$disabled_class" />
                                 </xsl:attribute>
                              </xsl:if>
                           </xsl:if>
                        </img>
                     </xsl:otherwise>
                  </xsl:choose>
               </a>
            </xsl:if>
         </xsl:template>
      </xsl:transform>
