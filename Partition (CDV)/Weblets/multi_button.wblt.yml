Weblet:
  Name:               multi_button

  Multilingual Details:
  - ENG:
      Description:        "ML Button"

  XML: |
    <?xml version="1.0"?>
    <lxml:data xmlns:lxml="http://www.lansa.com/2002/XML/Runtime-Data">
       <lxml:context>
          <lxml:images-path>/images</lxml:images-path>
          <lxml:webapplication-title>WAM Title</lxml:webapplication-title><lxml:webroutine-title>Webroutine Title</lxml:webroutine-title><lxml:language iso-lang="en">ENG</lxml:language></lxml:context>
       <lxml:lists/></lxml:data>

  Designs:
  - Language:           ENG
    Technology Service: LANSA XHTML

    XSL: |
      <?xml version="1.0" encoding="UTF-8"?>
      
      <!-- (c) 2003 LANSA                            -->
      <!-- XHTML Multilingual Button                    -->
      <!-- $Workfile::   multi_button.xsl       $ -->
      <!-- $Revision::   1.00                      $ -->
      <xsl:transform version="1.0" exclude-result-prefixes="lxml wd" xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:lxml="http://www.lansa.com/2002/XML/Runtime-Data" xmlns:wd="http://www.lansa.com/2002/XSL/Weblet-Design" xmlns="http://www.w3.org/1999/xhtml">
         <xsl:import href="std_variables.xsl"/>
         <xsl:import href="std_keys.xsl"/>
         <xsl:import href="std_util.xsl"/>
         <!--*UDLC001_Jan23,2013_START-->
         <!--<xsl:import href="std_types.xsl" />-->
         <!--std_types has been removed and replaced by ce_property_types. This is  the exact copy of the std_types but with added properties -->
         <xsl:import href="ce_property_types.xsl"/>
         <!--*UDLC001_Jan23,2013_END-->
         <xsl:output method="xml" omit-xml-declaration="yes" encoding="UTF-8" indent="yes"/>
         <wd:definition>
            <wd:group name="Standard Weblets"/>
         </wd:definition>
         <wd:template name="multi_button">
            <wd:description icon="icons/std_click_image.ico">
               <wd:name lang="ENG">Clickable image</wd:name>
            </wd:description>
            <wd:param name="caption">
               <wd:tip lang="ENG">The button's caption.</wd:tip>
            </wd:param>
            <wd:param name="currentrowhfield">
               <wd:tip lang="ENG">The name of the field that will contain the current row's specified value.</wd:tip>
            </wd:param>
            <wd:param name="currentrownumval">
               <wd:tip lang="ENG">The value that will be contained in a field specified by currentrowhfield property. If specifying a field value from the current row of the list, prefix the field name with a $.</wd:tip>
            </wd:param>
            <wd:param name="class">
               <wd:tip lang="ENG">The button's class.</wd:tip>
            </wd:param>
            <wd:param name="padding">
               <wd:tip lang="ENG">The amount of padding around the button text.</wd:tip>
            </wd:param>
            <wd:param name="type">
               <wd:tip lang="ENG">Specifies the button's type.</wd:tip>
            </wd:param>
         </wd:template>
         <wd:template name="multi_button.inline">
            <wd:description icon="icons/std_click_image.ico">
               <wd:name lang="ENG">Multilingual Button</wd:name>
            </wd:description>
         </wd:template>
         <xsl:template name="multi_button">
            <xsl:param name="name" wd:tip_id=""/>
            <xsl:param name="caption" select="'Caption'" wd:tip_id=""/>
            <xsl:param name="type" select="'button'" wd:tip_id="" wd:type="std:button_type"/>
            <xsl:param name="currentrowhfield" select="'STDROWNUM'" wd:type="std:field_name_in[wam=$on_click_wamname][webrtn=$on_click_wrname]"/>
            <xsl:param name="currentrownumval" select="position()"/>
            <xsl:param name="reentryfield" select="'STDRENTRY'" wd:tip_id="" wd:type="std:field_name_in[wam=$on_click_wamname][webrtn=$on_click_wrname]"/>
            <xsl:param name="reentryvalue" select="'D'" wd:tip_id=""/>
            <xsl:param name="hide_if" select="false()" wd:tip_id="" wd:type="std:boolean"/>
            <xsl:param name="formname" select="'LANSA'" wd:tip_id="" wd:type="std:html_formname"/>
            <xsl:param name="url" wd:tip_id="">javascript:void();</xsl:param>
            <xsl:param name="on_click_wamname" select="$lweb_WAMName" wd:tip_id="" wd:type="std:wam"/>
            <xsl:param name="on_click_wrname" wd:tip_id="" wd:type="std:webroutine[wam=$on_click_wamname]"/>
            <xsl:param name="protocol" wd:tip_id="" wd:type="std:protocol"/>
            <xsl:param name="show_in_new_window" select="false()" wd:tip_id="" wd:type="std:boolean"/>
            <xsl:param name="target_window_name" wd:tip_id="" wd:type="std:target_window">
               <xsl:if test="$show_in_new_window">_blank</xsl:if>
            </xsl:param>
            <xsl:param name="class" select="'multi_button2'" wd:tip_id=""/>
            <xsl:param name="moclass" select="'multi_button2_mo'" wd:tip_id=""/>
            <xsl:param name="padding" select="'13px'" wd:tip_id=""/>
            <xsl:param name="disabled" select="false()" wd:tip_id="" wd:type="std:boolean"/>
            <xsl:param name="hide_focus" select="true()" wd:tip_id="" wd:type="std:boolean"/>
            <xsl:param name="presubmit_js" wd:tip_id=""/>
            <xsl:param name="tab_index" wd:tip_id=""/>
            <xsl:param name="inline" select="false()" wd:type="std:hidden"/>
            <xsl:if test="not($hide_if) or $lweb_design_mode">
               <xsl:if test="$lweb_design_or_preview">
                  <xsl:call-template name="std_script_reference.private"/>
                  <xsl:call-template name="std_style_reference.private">
                     <xsl:with-param name="caller_name" select="'multi_button.xsl'"/>
                  </xsl:call-template>
               </xsl:if>
               <button class="{$class}">
                  <xsl:if test="$name != ''">
                     <xsl:attribute name="id">
                        <xsl:value-of select="$name"/>
                     </xsl:attribute>
                  </xsl:if>
                  <xsl:attribute name="type">
                     <xsl:value-of select="$type"/>
                  </xsl:attribute>
                  <!-- <xsl:attribute name="style">
                     <xsl:text>cursor: pointer;</xsl:text>
                     <xsl:text>display: inline-table;</xsl:text>
                  </xsl:attribute> -->
                  <xsl:if test="boolean($hide_focus)">
                     <xsl:attribute name="hidefocus">true</xsl:attribute>
                  </xsl:if>
                  <xsl:if test="$tab_index != ''">
                     <xsl:attribute name="tabindex">
                        <xsl:value-of select="$tab_index"/>
                     </xsl:attribute>
                  </xsl:if>
                  <xsl:if test="$disabled">
                     <xsl:attribute name="disabled"/>
                  </xsl:if>
                  <xsl:choose>
                     <xsl:when test="not($inline)">
                        <xsl:choose>
                           <xsl:when test="not($disabled)">
                              <xsl:if test="($on_click_wrname != '') or ($url != '') or ($target_window_name != '')">
                                 <xsl:attribute name="onclick">
                                    <xsl:value-of select="$presubmit_js"/>
                                    <xsl:if test="$on_click_wrname != ''">
                                       <xsl:text/>return stdAnchorClicked(event, this, '<xsl:value-of select="$on_click_wamname"/>', '<xsl:value-of select="$on_click_wrname"/>', '<xsl:value-of select="$formname"/>', '<xsl:value-of select="$protocol"/>', '<xsl:value-of select="$target_window_name"/>', '<xsl:value-of select="$currentrowhfield"/>', '<xsl:value-of select="$currentrownumval"/>');<xsl:text/>
                                    </xsl:if>
                                    <xsl:if test="$on_click_wrname = ''">
                                       <xsl:if test="$url != ''">
                                          <xsl:if test="$target_window_name = ''">
                                             <xsl:text>window.location='</xsl:text>
                                             <xsl:value-of select="$url"/>
                                             <xsl:text>';</xsl:text>
                                          </xsl:if>
                                          <xsl:if test="$target_window_name != ''">
                                             <xsl:text>window.open('</xsl:text>
                                             <xsl:value-of select="$url"/>
                                             <xsl:text>', '</xsl:text>
                                             <xsl:value-of select="$target_window_name"/>
                                             <xsl:text>');</xsl:text>
                                          </xsl:if>
                                       </xsl:if>
                                    </xsl:if>
                                 </xsl:attribute>
                              </xsl:if>
                           </xsl:when>
                           <xsl:otherwise>
                              <xsl:attribute name="href">javascript:void();</xsl:attribute>
                           </xsl:otherwise>
                        </xsl:choose>
                     </xsl:when>
                     <xsl:otherwise>
                        <xsl:attribute name="onclick">
                           <xsl:text>if (this.getAttribute('_disabled') == 'disabled') return false;</xsl:text>
                           <xsl:value-of select="$presubmit_js"/>
                           <xsl:if test="$on_click_wrname != ''">
                              <xsl:text/>return stdAnchorClicked(event, this, '<xsl:value-of select="$on_click_wamname"/>', '<xsl:value-of select="$on_click_wrname"/>', '<xsl:value-of select="$formname"/>', '<xsl:value-of select="$protocol"/>', '<xsl:value-of select="$target_window_name"/>', '<xsl:value-of select="$currentrowhfield"/>', '<xsl:value-of select="$currentrownumval"/>');<xsl:text/>
                           </xsl:if>
                        </xsl:attribute>
                     </xsl:otherwise>
                  </xsl:choose>
                  <xsl:if test="$reentryfield != ''">
                     <span class="hidden__">
                        <span class="reentryfield" style="display:none;">
                           <xsl:value-of select="$reentryfield"/>
                        </span>
                        <span class="reentryvalue" style="display:none;">
                           <xsl:choose>
                              <xsl:when test="$inline"/>
                              <xsl:otherwise>
                                 <xsl:value-of select="$reentryvalue"/>
                              </xsl:otherwise>
                           </xsl:choose>
                        </span>
                     </span>
                  </xsl:if>
                  <xsl:choose>
                     <xsl:when test="$lweb_design_mode">
                        <xsl:value-of select="$name"/> description
                     </xsl:when>
                     <xsl:otherwise>
                        <xsl:value-of select="$caption"/>
                     </xsl:otherwise>
                  </xsl:choose>
               </button>
            </xsl:if>
         </xsl:template>
         <xsl:template name="multi_button.inline">
            <xsl:param name="name" wd:tip_id=""/>
            <xsl:param name="caption" select="'Caption'" wd:tip_id=""/>
            <xsl:param name="type" select="'button'" wd:tip_id="" wd:type="std:button_type"/>
            <xsl:param name="currentrowhfield" select="'STDROWNUM'" wd:type="std:field_name_in[wam=$on_click_wamname][webrtn=$on_click_wrname]"/>
            <xsl:param name="currentrownumval" select="wd:row-index()"/>
            <xsl:param name="reentryfield" select="'STDRENTRY'" wd:tip_id="" wd:type="std:field_name_in[wam=$on_click_wamname][webrtn=$on_click_wrname]"/>
            <xsl:param name="reentryvalue" select="'D'" wd:tip_id=""/>
            <xsl:param name="hide_if" select="false()" wd:tip_id="" wd:type="std:wd_boolean"/>
            <xsl:param name="formname" select="'LANSA'" wd:tip_id="" wd:type="std:html_formname"/>
            <!-- <xsl:param name="url" wd:tip_id="">javascript:void();</xsl:param> -->
            <xsl:param name="url" wd:tip_id="">javascript:void();</xsl:param>
            <xsl:param name="on_click_wamname" select="$lweb_WAMName" wd:tip_id="" wd:type="std:wam"/>
            <xsl:param name="on_click_wrname" wd:tip_id="" wd:type="std:webroutine[wam=$on_click_wamname]"/>
            <xsl:param name="protocol" wd:tip_id="" wd:type="std:protocol"/>
            <xsl:param name="show_in_new_window" select="false()" wd:tip_id="" wd:type="std:boolean"/>
            <xsl:param name="target_window_name" wd:tip_id="" wd:type="std:target_window">
               <xsl:if test="$show_in_new_window">_blank</xsl:if>
            </xsl:param>
            <xsl:param name="class" select="'multi_button'" wd:tip_id=""/>
            <xsl:param name="moclass" select="'multi_button'" wd:tip_id=""/>
            <xsl:param name="padding" select="'0px'" wd:tip_id=""/>
            <xsl:param name="disabled" select="false()" wd:tip_id="" wd:type="std:wd_boolean"/>
            <xsl:param name="hide_focus" select="true()" wd:tip_id="" wd:type="std:boolean"/>
            <xsl:param name="presubmit_js" wd:tip_id=""/>
            <xsl:param name="tab_index" wd:tip_id=""/>
            <xsl:variable name="hide_if_bool" select="$hide_if and not(contains($hide_if, $lweb_inline_wdbool))"/>
            <xsl:call-template name="std_inline_weblet.private.inline">
               <xsl:with-param name="hide_if" select="$hide_if"/>
               <xsl:with-param name="inlinedWeblet">
                  <xsl:call-template name="multi_button">
                     <xsl:with-param name="name" select="$name"/>
                     <xsl:with-param name="type" select="$type"/>
                     <xsl:with-param name="caption" select="$caption"/>
                     <xsl:with-param name="currentrowhfield" select="$currentrowhfield"/>
                     <xsl:with-param name="currentrownumval" select="$currentrownumval"/>
                     <xsl:with-param name="reentryfield" select="$reentryfield"/>
                     <xsl:with-param name="reentryvalue" select="$reentryvalue"/>
                     <xsl:with-param name="hide_if" select="$hide_if_bool"/>
                     <xsl:with-param name="formname" select="$formname"/>
                     <xsl:with-param name="url" select="$url"/>
                     <xsl:with-param name="on_click_wamname" select="$on_click_wamname"/>
                     <xsl:with-param name="on_click_wrname" select="$on_click_wrname"/>
                     <xsl:with-param name="protocol" select="$protocol"/>
                     <xsl:with-param name="show_in_new_window" select="$show_in_new_window"/>
                     <xsl:with-param name="target_window_name" select="$target_window_name"/>
                     <xsl:with-param name="class" select="$class"/>
                     <xsl:with-param name="moclass" select="$moclass"/>
                     <xsl:with-param name="padding" select="$padding"/>
                     <xsl:with-param name="disabled" select="$disabled"/>
                     <xsl:with-param name="hide_focus" select="$hide_focus"/>
                     <xsl:with-param name="presubmit_js" select="$presubmit_js"/>
                     <xsl:with-param name="tab_index" select="$tab_index"/>
                     <xsl:with-param name="inline" select="true()"/>
                  </xsl:call-template>
               </xsl:with-param>
            </xsl:call-template>
         </xsl:template>
      </xsl:transform>
